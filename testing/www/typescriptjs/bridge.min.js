"use strict";
/*
 * @version   : 1.10.2 - Bridge.NET
 * @author    : Object.NET, Inc. http://bridge.net/
 * @date      : 2015-12-02
 * @copyright : Copyright (c) 2008-2015, Object.NET, Inc. (http://object.net/). All rights reserved.
 * @license   : See license.txt and https://github.com/bridgedotnet/Bridge.NET/blob/master/LICENSE.
 */
(function(globals){var core={global:globals,emptyFn:function(){},property:function(scope,name,v){scope[name]=v;var rs=name.charAt(0)==="$",cap=rs?name.slice(1):name;scope["get"+cap]=function(name){return function(){return this[name]}}(name);scope["set"+cap]=function(name){return function(value){this[name]=value}}(name)},event:function(scope,name,v){scope[name]=v;var rs=name.charAt(0)==="$",cap=rs?name.slice(1):name;scope["add"+cap]=function(name){return function(value){this[name]=Bridge.fn.combine(this[name],value)}}(name);scope["remove"+cap]=function(name){return function(value){this[name]=Bridge.fn.remove(this[name],value)}}(name)},clone:function(obj){return Bridge.isArray(obj)?Bridge.Array.clone(obj):Bridge.is(obj,Bridge.ICloneable)?obj.clone():null},copy:function(to,from,keys,toIf){typeof keys=="string"&&(keys=keys.split(/[,;\s]+/));for(var name,i=0,n=keys?keys.length:0;i<n;i++)name=keys[i],(toIf!==!0||to[name]==undefined)&&(to[name]=Bridge.is(from[name],Bridge.ICloneable)?Bridge.clone(from[name]):from[name]);return to},get:function(t){return t&&t.$staticInit&&t.$staticInit(),t},ns:function(ns,scope){var nsParts=ns.split("."),i=0;for(scope||(scope=Bridge.global),i=0;i<nsParts.length;i++)typeof scope[nsParts[i]]=="undefined"&&(scope[nsParts[i]]={});return scope},ready:function(fn,scope){var delayfn=function(){scope?fn.apply(scope):fn()};if(typeof Bridge.global.jQuery!="undefined")Bridge.global.jQuery(delayfn);else if(document&&document.readyState!=="complete"&&document.readyState!=="loaded")Bridge.on("DOMContentLoaded",document,delayfn);else delayfn()},on:function(event,elem,fn,scope){var listenHandler=function(e){var ret=fn.apply(scope||this,arguments);return ret===!1&&(e.stopPropagation(),e.preventDefault()),ret},attachHandler=function(){var ret=fn.call(scope||elem,Bridge.global.event);return ret===!1&&(Bridge.global.event.returnValue=!1,Bridge.global.event.cancelBubble=!0),ret};elem.addEventListener?elem.addEventListener(event,listenHandler,!1):elem.attachEvent("on"+event,attachHandler)},getHashCode:function(value,safe){var r,hash,result,removeCache,len,i,item,cacheItem,temp,property;if(Bridge.isEmpty(value,!0)){if(safe)return 0;throw new Bridge.InvalidOperationException("HashCode cannot be calculated for empty value");}if(Bridge.isFunction(value.getHashCode)&&!value.__insideHashCode&&value.getHashCode.length===0)return value.__insideHashCode=!0,r=value.getHashCode(),delete value.__insideHashCode,r;if(Bridge.isBoolean(value))return value?1:0;if(Bridge.isDate(value))return value.valueOf()&4294967295;if(Bridge.isNumber(value))return value=value.toExponential(),parseInt(value.substr(0,value.indexOf("e")).replace(".",""),10)&4294967295;if(Bridge.isString(value)){for(hash=0,i=0;i<value.length;i++)hash=(hash<<5)-hash+value.charCodeAt(i)&4294967295;return hash}if(value.$$hashCode)return value.$$hashCode;if(typeof value=="object"){for(result=0,removeCache=!1,Bridge.$$hashCodeCache||(Bridge.$$hashCodeCache=[],Bridge.$$hashCodeCalculated=[],removeCache=!0),i=0,len=Bridge.$$hashCodeCache.length;i<len;i+=1)if(item=Bridge.$$hashCodeCache[i],item.obj===value)return item.hash;cacheItem={obj:value,hash:0};Bridge.$$hashCodeCache.push(cacheItem);for(property in value)value.hasOwnProperty(property)&&property!=="__insideHashCode"&&(temp=Bridge.isEmpty(value[property],!0)?0:Bridge.getHashCode(value[property]),result=29*result+temp);if(cacheItem.hash=result,removeCache&&delete Bridge.$$hashCodeCache,result!==0)return result}return value.$$hashCode||(value.$$hashCode=Math.random()*4294967296|0)},getDefaultValue:function(type){return type.getDefaultValue&&type.getDefaultValue.length===0?type.getDefaultValue():type===Boolean?!1:type===Date?new Date(0):type===Number?0:null},getTypeName:function(obj){var str,results;return obj.$$name?obj.$$name:(str=obj.constructor===Function?obj.toString():obj.constructor.toString(),results=/function (.{1,})\(/.exec(str),results&&results.length>1?results[1]:"Object")},is:function(obj,type,ignoreFn,allowNull){if(typeof type=="string"&&(type=Bridge.unroll(type)),obj==null)return!!allowNull;if(ignoreFn!==!0){if(Bridge.isFunction(type.$is))return type.$is(obj);if(Bridge.isFunction(type.instanceOf))return type.instanceOf(obj)}if(obj.constructor===type||obj instanceof type)return!0;if(Bridge.isArray(obj)||obj instanceof Bridge.ArrayEnumerator)return Bridge.Array.is(obj,type);if(Bridge.isString(obj))return Bridge.String.is(obj,type);if(!type.$$inheritors)return!1;for(var inheritors=type.$$inheritors,i=0;i<inheritors.length;i++)if(Bridge.is(obj,inheritors[i]))return!0;return!1},as:function(obj,type,allowNull){return Bridge.is(obj,type,!1,allowNull)?obj:null},cast:function(obj,type,allowNull){if(obj===null)return null;var result=Bridge.as(obj,type,allowNull);if(result===null)throw new Bridge.InvalidCastException("Unable to cast type "+(obj?Bridge.getTypeName(obj):"'null'")+" to type "+Bridge.getTypeName(type));return result},apply:function(obj,values){for(var names=Bridge.getPropertyNames(values,!1),name,i=0;i<names.length;i++)name=names[i],typeof obj[name]=="function"&&typeof values[name]!="function"?obj[name](values[name]):obj[name]=values[name];return obj},merge:function(to,from){var key,i,value,toValue,fn,setter;if(to instanceof Bridge.Decimal&&Bridge.isNumber(from))return new Bridge.Decimal(from);if(to instanceof Boolean||to instanceof Number||to instanceof String||to instanceof Function||to instanceof Date||to instanceof Bridge.Int||to instanceof Bridge.Decimal)return from;if(Bridge.isArray(from)&&Bridge.isFunction(to.add||to.push))for(fn=Bridge.isArray(to)?to.push:to.add,i=0;i<from.length;i++)fn.apply(to,from[i]);else for(key in from)value=from[key],typeof to[key]=="function"&&typeof value!="function"?key.match(/^\s*get[A-Z]/)?Bridge.merge(to[key](),value):to[key](value):(setter="set"+key.charAt(0).toUpperCase()+key.slice(1),typeof to[setter]=="function"&&typeof value!="function"?to[setter](value):value&&value.constructor===Object&&to[key]?(toValue=to[key],Bridge.merge(toValue,value)):to[key]=value);return to},getEnumerator:function(obj,suffix){if(typeof obj=="string"&&(obj=Bridge.String.toCharArray(obj)),suffix&&obj&&obj["getEnumerator"+suffix])return obj["getEnumerator"+suffix].call(obj);if(obj&&obj.getEnumerator)return obj.getEnumerator();if(Object.prototype.toString.call(obj)==="[object Array]"||obj&&Bridge.isDefined(obj.length))return new Bridge.ArrayEnumerator(obj);throw new Bridge.InvalidOperationException("Cannot create enumerator");},getPropertyNames:function(obj,includeFunctions){var names=[];for(var name in obj)(includeFunctions||typeof obj[name]!="function")&&names.push(name);return names},isDefined:function(value,noNull){return typeof value!="undefined"&&(noNull?value!==null:!0)},isEmpty:function(value,allowEmpty){return value===null||(allowEmpty?!1:value==="")||(!allowEmpty&&Bridge.isArray(value)?value.length===0:!1)},toArray:function(ienumerable){var i,item,len,result=[];if(Bridge.isArray(ienumerable))for(i=0,len=ienumerable.length;i<len;++i)result.push(ienumerable[i]);else for(i=Bridge.getEnumerator(ienumerable);i.moveNext();)item=i.getCurrent(),result.push(item);return result},isArray:function(obj){return Object.prototype.toString.call(obj)==="[object Array]"},isFunction:function(obj){return typeof obj=="function"},isDate:function(obj){return Object.prototype.toString.call(obj)==="[object Date]"},isNull:function(value){return value===null||value===undefined},isBoolean:function(value){return typeof value=="boolean"},isNumber:function(value){return typeof value=="number"&&isFinite(value)},isString:function(value){return typeof value=="string"},unroll:function(value){var d=value.split("."),o=Bridge.global[d[0]],i=1;for(i;i<d.length;i++){if(!o)return null;o=o[d[i]]}return o},equals:function(a,b){return a&&Bridge.isFunction(a.equals)&&a.equals.length===1?a.equals(b):Bridge.isDate(a)&&Bridge.isDate(b)?a.valueOf()===b.valueOf():Bridge.isNull(a)&&Bridge.isNull(b)?!0:Bridge.isNull(a)!==Bridge.isNull(b)?!1:typeof a=="object"&&typeof b=="object"?Bridge.getHashCode(a)===Bridge.getHashCode(b)&&Bridge.objectEquals(a,b):a===b},objectEquals:function(a,b){Bridge.$$leftChain=[];Bridge.$$rightChain=[];var result=Bridge.deepEquals(a,b);return delete Bridge.$$leftChain,delete Bridge.$$rightChain,result},deepEquals:function(a,b){if(typeof a=="object"&&typeof b=="object"){if(Bridge.$$leftChain.indexOf(a)>-1||Bridge.$$rightChain.indexOf(b)>-1)return!1;for(var p in b)if(b.hasOwnProperty(p)!==a.hasOwnProperty(p)||typeof b[p]!=typeof a[p])return!1;for(p in a){if(b.hasOwnProperty(p)!==a.hasOwnProperty(p)||typeof a[p]!=typeof b[p])return!1;if(typeof a[p]=="object"){if(Bridge.$$leftChain.push(a),Bridge.$$rightChain.push(b),!Bridge.deepEquals(a[p],b[p]))return!1;Bridge.$$leftChain.pop();Bridge.$$rightChain.pop()}else if(!Bridge.equals(a[p],b[p]))return!1}return!0}return Bridge.equals(a,b)},compare:function(a,b,safe){if(Bridge.isDefined(a,!0)){if(Bridge.isNumber(a)||Bridge.isString(a)||Bridge.isBoolean(a))return Bridge.isString(a)&&!Bridge.hasValue(b)?1:a<b?-1:a>b?1:0;if(Bridge.isDate(a))return Bridge.compare(a.valueOf(),b.valueOf())}else{if(safe)return 0;throw new Bridge.NullReferenceException;}return safe&&!a.compareTo?0:a.compareTo(b)},equalsT:function(a,b){if(Bridge.isDefined(a,!0)){if(Bridge.isNumber(a)||Bridge.isString(a)||Bridge.isBoolean(a))return a===b;if(Bridge.isDate(a))return a.valueOf()===b.valueOf()}else throw new Bridge.NullReferenceException;return a.equalsT(b)},format:function(obj,formatString){return Bridge.isNumber(obj)?Bridge.Int.format(obj,formatString):Bridge.isDate(obj)?Bridge.Date.format(obj,formatString):obj.format(formatString)},getType:function(instance){if(!Bridge.isDefined(instance,!0))throw new Bridge.NullReferenceException("instance is null");try{return instance.constructor}catch(ex){return Object}},isLower:function(c){var s=String.fromCharCode(c);return s===s.toLowerCase()&&s!==s.toUpperCase()},isUpper:function(c){var s=String.fromCharCode(c);return s!==s.toLowerCase()&&s===s.toUpperCase()},coalesce:function(a,b){return Bridge.hasValue(a)?a:b},fn:{call:function(obj,fnName){var args=Array.prototype.slice.call(arguments,2);return obj=obj||Bridge.global,obj[fnName].apply(obj,args)},makeFn:function(fn,length){switch(length){case 0:return function(){return fn.apply(this,arguments)};case 1:return function(){return fn.apply(this,arguments)};case 2:return function(){return fn.apply(this,arguments)};case 3:return function(){return fn.apply(this,arguments)};case 4:return function(){return fn.apply(this,arguments)};case 5:return function(){return fn.apply(this,arguments)};case 6:return function(){return fn.apply(this,arguments)};case 7:return function(){return fn.apply(this,arguments)};case 8:return function(){return fn.apply(this,arguments)};case 9:return function(){return fn.apply(this,arguments)};case 10:return function(){return fn.apply(this,arguments)};case 11:return function(){return fn.apply(this,arguments)};case 12:return function(){return fn.apply(this,arguments)};case 13:return function(){return fn.apply(this,arguments)};case 14:return function(){return fn.apply(this,arguments)};case 15:return function(){return fn.apply(this,arguments)};case 16:return function(){return fn.apply(this,arguments)};case 17:return function(){return fn.apply(this,arguments)};case 18:return function(){return fn.apply(this,arguments)};case 19:return function(){return fn.apply(this,arguments)};default:return function(){return fn.apply(this,arguments)}}},bind:function(obj,method,args,appendArgs){if(method&&method.$method===method&&method.$scope===obj)return method;var fn;return fn=arguments.length===2?Bridge.fn.makeFn(function(){Bridge.caller.unshift(this);var result=method.apply(obj,arguments);return Bridge.caller.shift(this),result},method.length):Bridge.fn.makeFn(function(){var callArgs=args||arguments,result;return appendArgs===!0?(callArgs=Array.prototype.slice.call(arguments,0),callArgs=callArgs.concat(args)):typeof appendArgs=="number"&&(callArgs=Array.prototype.slice.call(arguments,0),appendArgs===0?callArgs.unshift.apply(callArgs,args):appendArgs<callArgs.length?callArgs.splice.apply(callArgs,[appendArgs,0].concat(args)):callArgs.push.apply(callArgs,args)),Bridge.caller.unshift(this),result=method.apply(obj,callArgs),Bridge.caller.shift(this),result},method.length),fn.$method=method,fn.$scope=obj,fn},bindScope:function(obj,method){var fn=Bridge.fn.makeFn(function(){var callArgs=Array.prototype.slice.call(arguments,0),result;return callArgs.unshift.apply(callArgs,[obj]),Bridge.caller.unshift(this),result=method.apply(obj,callArgs),Bridge.caller.shift(this),result},method.length);return fn.$method=method,fn.$scope=obj,fn},$build:function(handlers){var fn=function(){for(var list=fn.$invocationList,result=null,handler,i=0;i<list.length;i++)handler=list[i],result=handler.apply(null,arguments);return result};return(fn.$invocationList=handlers?Array.prototype.slice.call(handlers,0):[],fn.$invocationList.length===0)?null:fn},combine:function(fn1,fn2){if(!fn1||!fn2)return fn1||fn2;var list1=fn1.$invocationList?fn1.$invocationList:[fn1],list2=fn2.$invocationList?fn2.$invocationList:[fn2];return Bridge.fn.$build(list1.concat(list2))},remove:function(fn1,fn2){if(!fn1||!fn2)return fn1||null;for(var list1=fn1.$invocationList?fn1.$invocationList:[fn1],list2=fn2.$invocationList?fn2.$invocationList:[fn2],result=[],exclude,j,i=list1.length-1;i>=0;i--){for(exclude=!1,j=0;j<list2.length;j++)if(list1[i]===list2[j]||list1[i].$method&&list1[i].$method===list2[j].$method&&list1[i].$scope&&list1[i].$scope===list2[j].$scope){exclude=!0;break}exclude||result.push(list1[i])}return result.reverse(),Bridge.fn.$build(result)}}},nullable,char,string,enumMethods,initializing,base,math,date,array,validation;if(Object.create||(Object.create=function(o,properties){function F(){}if(typeof o!="object"&&typeof o!="function")throw new TypeError("Object prototype may only be an Object: "+o);else if(o===null)throw new Error("This browser's implementation of Object.create is a shim and doesn't support 'null' as the first argument");if(typeof properties!="undefined")throw new Error("This browser's implementation of Object.create is a shim and doesn't support a second argument");return F.prototype=o,new F}),globals.Bridge=core,globals.Bridge.caller=[],nullable={hasValue:function(obj){return obj!==null&&obj!==undefined},getValue:function(obj){if(!Bridge.Nullable.hasValue(obj))throw new Bridge.InvalidOperationException("Nullable instance doesn't have a value.");return obj},getValueOrDefault:function(obj,defValue){return Bridge.Nullable.hasValue(obj)?obj:defValue},add:function(a,b){return Bridge.hasValue(a)&&Bridge.hasValue(b)?a+b:null},band:function(a,b){return Bridge.hasValue(a)&&Bridge.hasValue(b)?a&b:null},bor:function(a,b){return Bridge.hasValue(a)&&Bridge.hasValue(b)?a|b:null},and:function(a,b){return a===!0&&b===!0?!0:a===!1||b===!1?!1:null},or:function(a,b){return a===!0||b===!0?!0:a===!1&&b===!1?!1:null},div:function(a,b){return Bridge.hasValue(a)&&Bridge.hasValue(b)?a/b:null},eq:function(a,b){return Bridge.hasValue(a)?a===b:!Bridge.hasValue(b)},xor:function(a,b){return Bridge.hasValue(a)&&Bridge.hasValue(b)?a^b:null},gt:function(a,b){return Bridge.hasValue(a)&&Bridge.hasValue(b)&&a>b},gte:function(a,b){return Bridge.hasValue(a)&&Bridge.hasValue(b)&&a>=b},neq:function(a,b){return Bridge.hasValue(a)?a!==b:Bridge.hasValue(b)},lt:function(a,b){return Bridge.hasValue(a)&&Bridge.hasValue(b)&&a<b},lte:function(a,b){return Bridge.hasValue(a)&&Bridge.hasValue(b)&&a<=b},mod:function(a,b){return Bridge.hasValue(a)&&Bridge.hasValue(b)?a%b:null},mul:function(a,b){return Bridge.hasValue(a)&&Bridge.hasValue(b)?a*b:null},sl:function(a,b){return Bridge.hasValue(a)&&Bridge.hasValue(b)?a<<b:null},sr:function(a,b){return Bridge.hasValue(a)&&Bridge.hasValue(b)?a>>b:null},srr:function(a,b){return Bridge.hasValue(a)&&Bridge.hasValue(b)?a>>>b:null},sub:function(a,b){return Bridge.hasValue(a)&&Bridge.hasValue(b)?a-b:null},bnot:function(a){return Bridge.hasValue(a)?~a:null},neg:function(a){return Bridge.hasValue(a)?-a:null},not:function(a){return Bridge.hasValue(a)?!a:null},pos:function(a){return Bridge.hasValue(a)?+a:null},lift:function(){for(var i=1;i<arguments.length;i++)if(!Bridge.hasValue(arguments[i]))return null;return arguments[0]==null?null:arguments[0].apply==undefined?arguments[0]:arguments[0].apply(null,Array.prototype.slice.call(arguments,1))},lift1:function(f,o){return Bridge.hasValue(o)?typeof f=="function"?f.apply(null,Array.prototype.slice.call(arguments,1)):o[f].apply(o,Array.prototype.slice.call(arguments,2)):null},lift2:function(f,a,b){return Bridge.hasValue(a)&&Bridge.hasValue(b)?typeof f=="function"?f.apply(null,Array.prototype.slice.call(arguments,1)):a[f].apply(a,Array.prototype.slice.call(arguments,2)):null},liftcmp:function(f,a,b){return Bridge.hasValue(a)&&Bridge.hasValue(b)?typeof f=="function"?f.apply(null,Array.prototype.slice.call(arguments,1)):a[f].apply(a,Array.prototype.slice.call(arguments,2)):!1},lifteq:function(f,a,b){var va=Bridge.hasValue(a),vb=Bridge.hasValue(b);return!va&&!vb||va&&vb&&(typeof f=="function"?f.apply(null,Array.prototype.slice.call(arguments,1)):a[f].apply(a,Array.prototype.slice.call(arguments,2)))},liftne:function(f,a,b){var va=Bridge.hasValue(a),vb=Bridge.hasValue(b);return va!==vb||va&&(typeof f=="function"?f.apply(null,Array.prototype.slice.call(arguments,1)):a[f].apply(a,Array.prototype.slice.call(arguments,2)))}},Bridge.Nullable=nullable,Bridge.hasValue=Bridge.Nullable.hasValue,char={charCodeAt:function(str,index){if(str==null)throw new Bridge.ArgumentNullException;if(str.length!=1)throw new Bridge.FormatException("String must be exactly one character long");return str.charCodeAt(index)},isWhiteSpace:function(value){return/\s/.test(value)},isDigit:function(value){return value<256?value>=48&&value<=57:new RegExp("[0-90-9٠-٩۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꩐-꩙꯰-꯹０-９]").test(String.fromCharCode(value))},isLetter:function(value){return value<256?value>=65&&value<=90||value>=97&&value<=122:new RegExp("[A-Za-za-zµß-öø-ÿāăąćĉċčďđēĕėęěĝğġģĥħĩīĭįıĳĵķĸĺļľŀłńņňŉŋōŏőœŕŗřśŝşšţťŧũūŭůűųŵŷźżž-ƀƃƅƈƌƍƒƕƙ-ƛƞơƣƥƨƪƫƭưƴƶƹƺƽ-ƿǆǉǌǎǐǒǔǖǘǚǜǝǟǡǣǥǧǩǫǭǯǰǳǵǹǻǽǿȁȃȅȇȉȋȍȏȑȓȕȗșțȝȟȡȣȥȧȩȫȭȯȱȳ-ȹȼȿɀɂɇɉɋɍɏ-ʓʕ-ʯͱͳͷͻ-ͽΐά-ώϐϑϕ-ϗϙϛϝϟϡϣϥϧϩϫϭϯ-ϳϵϸϻϼа-џѡѣѥѧѩѫѭѯѱѳѵѷѹѻѽѿҁҋҍҏґғҕҗҙқҝҟҡңҥҧҩҫҭүұҳҵҷҹһҽҿӂӄӆӈӊӌӎӏӑӓӕӗәӛӝӟӡӣӥӧөӫӭӯӱӳӵӷӹӻӽӿԁԃԅԇԉԋԍԏԑԓԕԗԙԛԝԟԡԣԥԧա-ևᴀ-ᴫᵫ-ᵷᵹ-ᶚḁḃḅḇḉḋḍḏḑḓḕḗḙḛḝḟḡḣḥḧḩḫḭḯḱḳḵḷḹḻḽḿṁṃṅṇṉṋṍṏṑṓṕṗṙṛṝṟṡṣṥṧṩṫṭṯṱṳṵṷṹṻṽṿẁẃẅẇẉẋẍẏẑẓẕ-ẝẟạảấầẩẫậắằẳẵặẹẻẽếềểễệỉịọỏốồổỗộớờởỡợụủứừửữựỳỵỷỹỻỽỿ-ἇἐ-ἕἠ-ἧἰ-ἷὀ-ὅὐ-ὗὠ-ὧὰ-ώᾀ-ᾇᾐ-ᾗᾠ-ᾧᾰ-ᾴᾶᾷιῂ-ῄῆῇῐ-ΐῖῗῠ-ῧῲ-ῴῶῷℊℎℏℓℯℴℹℼℽⅆ-ⅉⅎↄⰰ-ⱞⱡⱥⱦⱨⱪⱬⱱⱳⱴⱶ-ⱻⲁⲃⲅⲇⲉⲋⲍⲏⲑⲓⲕⲗⲙⲛⲝⲟⲡⲣⲥⲧⲩⲫⲭⲯⲱⲳⲵⲷⲹⲻⲽⲿⳁⳃⳅⳇⳉⳋⳍⳏⳑⳓⳕⳗⳙⳛⳝⳟⳡⳣⳤⳬⳮⳳⴀ-ⴥⴧⴭꙁꙃꙅꙇꙉꙋꙍꙏꙑꙓꙕꙗꙙꙛꙝꙟꙡꙣꙥꙧꙩꙫꙭꚁꚃꚅꚇꚉꚋꚍꚏꚑꚓꚕꚗꜣꜥꜧꜩꜫꜭꜯ-ꜱꜳꜵꜷꜹꜻꜽꜿꝁꝃꝅꝇꝉꝋꝍꝏꝑꝓꝕꝗꝙꝛꝝꝟꝡꝣꝥꝧꝩꝫꝭꝯꝱ-ꝸꝺꝼꝿꞁꞃꞅꞇꞌꞎꞑꞓꞡꞣꞥꞧꞩꟺﬀ-ﬆﬓ-ﬗａ-ｚA-ZÀ-ÖØ-ÞĀĂĄĆĈĊČĎĐĒĔĖĘĚĜĞĠĢĤĦĨĪĬĮİĲĴĶĹĻĽĿŁŃŅŇŊŌŎŐŒŔŖŘŚŜŞŠŢŤŦŨŪŬŮŰŲŴŶŸŹŻŽƁƂƄƆƇƉ-ƋƎ-ƑƓƔƖ-ƘƜƝƟƠƢƤƦƧƩƬƮƯƱ-ƳƵƷƸƼǄǇǊǍǏǑǓǕǗǙǛǞǠǢǤǦǨǪǬǮǱǴǶ-ǸǺǼǾȀȂȄȆȈȊȌȎȐȒȔȖȘȚȜȞȠȢȤȦȨȪȬȮȰȲȺȻȽȾɁɃ-ɆɈɊɌɎͰͲͶΆΈ-ΊΌΎΏΑ-ΡΣ-ΫϏϒ-ϔϘϚϜϞϠϢϤϦϨϪϬϮϴϷϹϺϽ-ЯѠѢѤѦѨѪѬѮѰѲѴѶѸѺѼѾҀҊҌҎҐҒҔҖҘҚҜҞҠҢҤҦҨҪҬҮҰҲҴҶҸҺҼҾӀӁӃӅӇӉӋӍӐӒӔӖӘӚӜӞӠӢӤӦӨӪӬӮӰӲӴӶӸӺӼӾԀԂԄԆԈԊԌԎԐԒԔԖԘԚԜԞԠԢԤԦԱ-ՖႠ-ჅჇჍḀḂḄḆḈḊḌḎḐḒḔḖḘḚḜḞḠḢḤḦḨḪḬḮḰḲḴḶḸḺḼḾṀṂṄṆṈṊṌṎṐṒṔṖṘṚṜṞṠṢṤṦṨṪṬṮṰṲṴṶṸṺṼṾẀẂẄẆẈẊẌẎẐẒẔẞẠẢẤẦẨẪẬẮẰẲẴẶẸẺẼẾỀỂỄỆỈỊỌỎỐỒỔỖỘỚỜỞỠỢỤỦỨỪỬỮỰỲỴỶỸỺỼỾἈ-ἏἘ-ἝἨ-ἯἸ-ἿὈ-ὍὙὛὝὟὨ-ὯᾸ-ΆῈ-ΉῘ-ΊῨ-ῬῸ-Ώℂℇℋ-ℍℐ-ℒℕℙ-ℝℤΩℨK-ℭℰ-ℳℾℿⅅↃⰀ-ⰮⱠⱢ-ⱤⱧⱩⱫⱭ-ⱰⱲⱵⱾ-ⲀⲂⲄⲆⲈⲊⲌⲎⲐⲒⲔⲖⲘⲚⲜⲞⲠⲢⲤⲦⲨⲪⲬⲮⲰⲲⲴⲶⲸⲺⲼⲾⳀⳂⳄⳆⳈⳊⳌⳎⳐⳒⳔⳖⳘⳚⳜⳞⳠⳢⳫⳭⳲꙀꙂꙄꙆꙈꙊꙌꙎꙐꙒꙔꙖꙘꙚꙜꙞꙠꙢꙤꙦꙨꙪꙬꚀꚂꚄꚆꚈꚊꚌꚎꚐꚒꚔꚖꜢꜤꜦꜨꜪꜬꜮꜲꜴꜶꜸꜺꜼꜾꝀꝂꝄꝆꝈꝊꝌꝎꝐꝒꝔꝖꝘꝚꝜꝞꝠꝢꝤꝦꝨꝪꝬꝮꝹꝻꝽꝾꞀꞂꞄꞆꞋꞍꞐꞒꞠꞢꞤꞦꞨꞪＡ-Ｚǅǈǋǲᾈ-ᾏᾘ-ᾟᾨ-ᾯᾼῌῼʰ-ˁˆ-ˑˠ-ˤˬˮʹͺՙـۥۦߴߵߺࠚࠤࠨॱๆໆჼៗᡃᪧᱸ-ᱽᴬ-ᵪᵸᶛ-ᶿⁱⁿₐ-ₜⱼⱽⵯⸯ々〱-〵〻ゝゞー-ヾꀕꓸ-ꓽꘌꙿꜗ-ꜟꝰꞈꟸꟹꧏꩰꫝꫳꫴｰﾞﾟªºƻǀ-ǃʔא-תװ-ײؠ-ؿف-يٮٯٱ-ۓەۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪࠀ-ࠕࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॲ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๅກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎა-ჺჽ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៜᠠ-ᡂᡄ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱷᳩ-ᳬᳮ-ᳱᳵᳶℵ-ℸⴰ-ⵧⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ〆〼ぁ-ゖゟァ-ヺヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꀔꀖ-ꒌꓐ-ꓷꔀ-ꘋꘐ-ꘟꘪꘫꙮꚠ-ꛥꟻ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩯꩱ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛꫜꫠ-ꫪꫲꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎יִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼｦ-ｯｱ-ﾝﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]").test(String.fromCharCode(value))},isHighSurrogate:function(value){return new RegExp("[\uD800-\uDBFF]").test(String.fromCharCode(value))},isLowSurrogate:function(value){return new RegExp("[\uDC00-\uDFFF]").test(String.fromCharCode(value))},isSurrogate:function(value){return new RegExp("[\uD800-\uDFFF]").test(String.fromCharCode(value))},isSymbol:function(value){return value<256?[36,43,60,61,62,94,96,124,126,162,163,164,165,166,167,168,169,172,174,175,176,177,180,182,184,215,247].indexOf(value)!=-1:new RegExp("[₠-⃏⃐-⃿℀-⅏⅐-↏←-⇿∀-⋿⌀-⏿■-◿☀-⛿✀-➿⟀-⟯⟰-⟿⠀-⣿⤀-⥿⦀-⧿⨀-⫿⬀-⯿]").test(String.fromCharCode(value))},isSeparator:function(value){return value<256?value==32||value==160:new RegExp("[\u2028\u2029   ᠎ -   　]").test(String.fromCharCode(value))},isPunctuation:function(value){return value<256?[33,34,35,37,38,39,40,41,42,44,45,46,47,58,59,63,64,91,92,93,95,123,125,161,171,173,183,187,191].indexOf(value)!=-1:new RegExp("[!-#%-*,-/:;?@[-]_{}¡§«¶·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰૰෴๏๚๛༄-༒༔༺-༽྅࿐-࿔࿙࿚၊-၏჻፠-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳀-᳇᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰-⸻、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꫰꫱꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･-֊־᐀᠆‐-―⸗⸚⸺⸻〜〰゠︱︲﹘﹣－([{༺༼᚛‚„⁅⁽₍〈❨❪❬❮❰❲❴⟅⟦⟨⟪⟬⟮⦃⦅⦇⦉⦋⦍⦏⦑⦓⦕⦗⧘⧚⧼⸢⸤⸦⸨〈《「『【〔〖〘〚〝﴾︗︵︷︹︻︽︿﹁﹃﹇﹙﹛﹝（［｛｟｢)]}༻༽᚜⁆⁾₎〉❩❫❭❯❱❳❵⟆⟧⟩⟫⟭⟯⦄⦆⦈⦊⦌⦎⦐⦒⦔⦖⦘⧙⧛⧽⸣⸥⸧⸩〉》」』】〕〗〙〛〞〟﴿︘︶︸︺︼︾﹀﹂﹄﹈﹚﹜﹞）］｝｠｣«‘‛“‟‹⸂⸄⸉⸌⸜⸠»’”›⸃⸅⸊⸍⸝⸡_‿⁀⁔︳︴﹍-﹏＿!-#%-'*,./:;?@\\¡§¶·¿;·՚-՟։׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰૰෴๏๚๛༄-༒༔྅࿐-࿔࿙࿚၊-၏჻፠-፨᙭᙮᛫-᛭᜵᜶។-៖៘-៚᠀-᠅᠇-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳀-᳇᳓‖‗†-‧‰-‸※-‾⁁-⁃⁇-⁑⁓⁕-⁞⳹-⳼⳾⳿⵰⸀⸁⸆-⸈⸋⸎-⸖⸘⸙⸛⸞⸟⸪-⸮⸰-⸹、-〃〽・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꫰꫱꯫︐-︖︙︰﹅﹆﹉-﹌﹐-﹒﹔-﹗﹟-﹡﹨﹪﹫！-＃％-＇＊，．／：；？＠＼｡､･]").test(String.fromCharCode(value))},isNumber:function(value){return value<256?[48,49,50,51,52,53,54,55,56,57,178,179,185,188,189,190].indexOf(value)!=-1:new RegExp("[0-9²³¹¼-¾٠-٩۰-۹߀-߉०-९০-৯৴-৹੦-੯૦-૯୦-୯୲-୷௦-௲౦-౯౸-౾೦-೯൦-൵๐-๙໐-໙༠-༳၀-၉႐-႙፩-፼ᛮ-ᛰ០-៩៰-៹᠐-᠙᥆-᥏᧐-᧚᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙⁰⁴-⁹₀-₉⅐-ↂↅ-↉①-⒛⓪-⓿❶-➓⳽〇〡-〩〸-〺㆒-㆕㈠-㈩㉈-㉏㉑-㉟㊀-㊉㊱-㊿꘠-꘩ꛦ-ꛯ꠰-꠵꣐-꣙꤀-꤉꧐-꧙꩐-꩙꯰-꯹０-９0-9٠-٩۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꩐-꩙꯰-꯹０-９ᛮ-ᛰⅠ-ↂↅ-ↈ〇〡-〩〸-〺ꛦ-ꛯ²³¹¼-¾৴-৹୲-୷௰-௲౸-౾൰-൵༪-༳፩-፼៰-៹᧚⁰⁴-⁹₀-₉⅐-⅟↉①-⒛⓪-⓿❶-➓⳽㆒-㆕㈠-㈩㉈-㉏㉑-㉟㊀-㊉㊱-㊿꠰-꠵]").test(String.fromCharCode(value))},isControl:function(value){return value<256?value>=0&&value<=31||value>=127&&value<=159:new RegExp("[\x00-\x1f-]").test(String.fromCharCode(value))}},Bridge.Char=char,string={is:function(obj,type){return Bridge.isString(obj)?obj.constructor===type||obj instanceof type?!0:type===Bridge.IEnumerable||type.$$name&&Bridge.String.startsWith(type.$$name,"Bridge.IEnumerable$1")||type.$$name&&Bridge.String.startsWith(type.$$name,"Bridge.IComparable$1")||type.$$name&&Bridge.String.startsWith(type.$$name,"Bridge.IEquatable$1")?!0:!1:!1},lastIndexOf:function(s,search,startIndex,count){var index=s.lastIndexOf(search,startIndex);return index<startIndex-count+1?-1:index},lastIndexOfAny:function(s,chars,startIndex,count){var length=s.length,endIndex,i;if(!length)return-1;for(chars=String.fromCharCode.apply(null,chars),startIndex=startIndex||length-1,count=count||length,endIndex=startIndex-count+1,endIndex<0&&(endIndex=0),i=startIndex;i>=endIndex;i--)if(chars.indexOf(s.charAt(i))>=0)return i;return-1},isNullOrWhiteSpace:function(value){return value==null||value.match(/^ *$/)!==null},isNullOrEmpty:function(value){return Bridge.isEmpty(value,!1)},fromCharCount:function(c,count){if(count>=0)return String(Array(count+1).join(String.fromCharCode(c)));throw new Bridge.ArgumentOutOfRangeException("count","cannot be less than zero");},format:function(format){var me=this,args=Array.prototype.slice.call(arguments,1),fn=this.decodeBraceSequence;return format.replace(/(\{+)((\d+|[a-zA-Z_$]\w+(?:\.[a-zA-Z_$]\w+|\[\d+\])*)(?:\,(-?\d*))?(?:\:([^\}]*))?)(\}+)|(\{+)|(\}+)/g,function(m,openBrace,elementContent,index,align,format,closeBrace,repeatOpenBrace,repeatCloseBrace){return repeatOpenBrace?fn(repeatOpenBrace):repeatCloseBrace?fn(repeatCloseBrace):openBrace.length%2==0||closeBrace.length%2==0?fn(openBrace)+elementContent+fn(closeBrace):fn(openBrace,!0)+me.handleElement(index,align,format,args)+fn(closeBrace,!0)})},handleElement:function(index,alignment,formatStr,args){var value;if(index=parseInt(index,10),index>args.length-1)throw new Bridge.FormatException("Input string was not in a correct format.");return value=args[index],value==null&&(value=""),value=formatStr&&Bridge.is(value,Bridge.IFormattable)?Bridge.format(value,formatStr):""+value,alignment&&(alignment=parseInt(alignment,10),Bridge.isNumber(alignment)||(alignment=null)),Bridge.String.alignString(value.toString(),alignment)},decodeBraceSequence:function(braces,remove){return braces.substr(0,(braces.length+(remove?0:1))/2)},alignString:function(str,alignment,pad,dir){if(!alignment)return str;if(pad||(pad=" "),Bridge.isNumber(pad)&&(pad=String.fromCharCode(pad)),dir||(dir=alignment<0?1:2),alignment=Math.abs(alignment),alignment+1>=str.length)switch(dir){case 2:str=Array(alignment+1-str.length).join(pad)+str;break;case 3:var padlen=alignment-str.length,right=Math.ceil(padlen/2),left=padlen-right;str=Array(left+1).join(pad)+str+Array(right+1).join(pad);break;case 1:default:str=str+Array(alignment+1-str.length).join(pad)}return str},startsWith:function(str,prefix){return prefix.length?prefix.length>str.length?!1:(prefix=Bridge.String.escape(prefix),str.match("^"+prefix)!==null):!0},endsWith:function(str,suffix){return suffix.length?suffix.length>str.length?!1:(suffix=Bridge.String.escape(suffix),str.match(suffix+"$")!==null):!0},contains:function(str,value){if(value==null)throw new Bridge.ArgumentNullException;return str==null?!1:str.indexOf(value)>-1},indexOfAny:function(str,anyOf){var startIndex,length,s,i,c,index;if(anyOf==null)throw new Bridge.ArgumentNullException;if(str==null||str==="")return-1;if(startIndex=arguments.length>2?arguments[2]:0,startIndex<0)throw new Bridge.ArgumentOutOfRangeException("startIndex","startIndex cannot be less than zero");if(length=arguments.length>3?arguments[3]:str.length-startIndex,length<0)throw new Bridge.ArgumentOutOfRangeException("length","must be non-negative");if(length>str.length-startIndex)throw new Bridge.ArgumentOutOfRangeException("Index and length must refer to a location within the string");for(s=str.substr(startIndex,length),i=0;i<anyOf.length;i++)if(c=String.fromCharCode(anyOf[i]),index=s.indexOf(c),index>-1)return index+startIndex;return-1},indexOf:function(str,value){var startIndex,length,s,index;if(value==null)throw new Bridge.ArgumentNullException;if(str==null||str==="")return-1;if(startIndex=arguments.length>2?arguments[2]:0,startIndex<0||startIndex>str.length)throw new Bridge.ArgumentOutOfRangeException("startIndex","startIndex cannot be less than zero and must refer to a location within the string");if(value==="")return arguments.length>2?startIndex:0;if(length=arguments.length>3?arguments[3]:str.length-startIndex,length<0)throw new Bridge.ArgumentOutOfRangeException("length","must be non-negative");if(length>str.length-startIndex)throw new Bridge.ArgumentOutOfRangeException("Index and length must refer to a location within the string");return(s=str.substr(startIndex,length),index=arguments.length===5&&arguments[4]%2!=0?s.toLocaleUpperCase().indexOf(value.toLocaleUpperCase()):s.indexOf(value),index>-1)?arguments.length===5?Bridge.String.compare(value,s.substr(index,value.length),arguments[4])===0?index+startIndex:-1:index+startIndex:-1},equals:function(){return Bridge.String.compare.apply(this,arguments)===0},compare:function(strA,strB){if(strA==null)return strB==null?0:-1;if(strB==null)return 1;if(arguments.length>=3)if(Bridge.isBoolean(arguments[2])){if(arguments[2]&&(strA=strA.toLocaleUpperCase(),strB=strB.toLocaleUpperCase()),arguments.length===4)return strA.localeCompare(strB,arguments[3].name)}else switch(arguments[2]){case 1:return strA.localeCompare(strB,Bridge.CultureInfo.getCurrentCulture().name,{sensitivity:"accent"});case 2:return strA.localeCompare(strB,Bridge.CultureInfo.invariantCulture.name);case 3:return strA.localeCompare(strB,Bridge.CultureInfo.invariantCulture.name,{sensitivity:"accent"});case 4:return strA===strB?0:strA>strB?1:-1;case 5:return strA.toUpperCase()===strB.toUpperCase()?0:strA.toUpperCase()>strB.toUpperCase()?1:-1}return strA.localeCompare(strB)},toCharArray:function(str,startIndex,length){var arr,i;if(startIndex<0||startIndex>str.length||startIndex>str.length-length)throw new Bridge.ArgumentOutOfRangeException("startIndex","startIndex cannot be less than zero and must refer to a location within the string");if(length<0)throw new Bridge.ArgumentOutOfRangeException("length","must be non-negative");for(Bridge.hasValue(startIndex)||(startIndex=0),Bridge.hasValue(length)||(length=str.length),arr=[],i=startIndex;i<startIndex+length;i++)arr.push(str.charCodeAt(i));return arr},escape:function(str){return str.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},replaceAll:function(str,a,b){var reg=new RegExp(Bridge.String.escape(a),"g");return str.replace(reg,b)},insert:function(index,strA,strB){return index>0?strA.substring(0,index)+strB+strA.substring(index,strA.length):strB+strA},remove:function(s,index,count){return!count||index+count>this.length?s.substr(0,index):s.substr(0,index)+s.substr(index+count)},split:function(s,strings,limit,options){for(var re=new RegExp(strings.map(Bridge.String.escape).join("|"),"g"),res=[],m,i=0;;i=re.lastIndex)if(m=re.exec(s)){if(options!==1||m.index>i){if(res.length===limit-1)return res.push(s.substr(i)),res;res.push(s.substring(i,m.index))}}else return(options!==1||i!==s.length)&&res.push(s.substr(i)),res},trimEnd:function(s,chars){return s.replace(chars?new RegExp("["+String.fromCharCode.apply(null,chars)+"]+$"):/\s*$/,"")},trimStart:function(s,chars){return s.replace(chars?new RegExp("^["+String.fromCharCode.apply(null,chars)+"]+"):/^\s*/,"")},trim:function(s,chars){return Bridge.String.trimStart(Bridge.String.trimEnd(s,chars),chars)}},Bridge.String=string,enumMethods={nameEquals:function(n1,n2,ignoreCase){return ignoreCase?n1.toLowerCase()===n2.toLowerCase():n1.charAt(0).toLowerCase()+n1.slice(1)===n2.charAt(0).toLowerCase()+n2.slice(1)},checkEnumType:function(enumType){if(!enumType)throw new Bridge.ArgumentNullException("enumType");if(!enumType.prototype.$enum)throw new Bridge.ArgumentException("","enumType");},toName:function(name){return name.charAt(0).toUpperCase()+name.slice(1)},parse:function(enumType,s,ignoreCase,silent){var values=enumType,i,part,found,f;if(Bridge.Enum.checkEnumType(enumType),enumType.prototype.$flags){var parts=s.split(","),value=0,parsed=!0;for(i=parts.length-1;i>=0;i--){part=parts[i].trim();found=!1;for(f in values)if(enumMethods.nameEquals(f,part,ignoreCase)){value|=values[f];found=!0;break}if(!found){parsed=!1;break}}if(parsed)return value}else for(f in values)if(enumMethods.nameEquals(f,s,ignoreCase))return values[f];if(silent!==!0)throw new Bridge.ArgumentException("Invalid Enumeration Value");return null},toString:function(enumType,value,forceFlags){var values,parts,i;if(Bridge.Enum.checkEnumType(enumType),values=enumType,(enumType.prototype.$flags||forceFlags===!0)&&value!==0){parts=[];for(i in values)values[i]&value&&parts.push(enumMethods.toName(i));return parts.length?parts.join(", "):value.toString()}for(i in values)if(values[i]===value)return enumMethods.toName(i);return value.toString()},getValues:function(enumType){var parts,values,i;Bridge.Enum.checkEnumType(enumType);parts=[];values=enumType;for(i in values)values.hasOwnProperty(i)&&i.indexOf("$")<0&&parts.push(values[i]);return parts},format:function(enumType,value,format){Bridge.Enum.checkEnumType(enumType);var name;if(!Bridge.hasValue(value)&&(name="value")||!Bridge.hasValue(format)&&(name="format"))throw new Bridge.ArgumentNullException(name);switch(format){case"G":case"g":return Bridge.Enum.toString(enumType,value);case"x":case"X":return value.toString(16);case"d":case"D":return value.toString();case"f":case"F":return Bridge.Enum.toString(enumType,value,!0);default:throw new Bridge.FormatException;}},getNames:function(enumType){var parts,values,i;Bridge.Enum.checkEnumType(enumType);parts=[];values=enumType;for(i in values)values.hasOwnProperty(i)&&i.indexOf("$")<0&&parts.push(enumMethods.toName(i));return parts},getName:function(enumType,value){var values,i;Bridge.Enum.checkEnumType(enumType);values=enumType;for(i in values)if(values[i]===value)return i.charAt(0).toUpperCase()+i.slice(1);return null},hasFlag:function(value,flag){return!!(value&flag)},isDefined:function(enumType,value){var values,isString,i;Bridge.Enum.checkEnumType(enumType);values=enumType;isString=Bridge.isString(value);for(i in values)if(isString?enumMethods.nameEquals(i,value,!1):values[i]===value)return!0;return!1},tryParse:function(enumType,value,result,ignoreCase){return(result.v=0,result.v=enumMethods.parse(enumType,value,ignoreCase,!0),result.v==null)?!1:!0}},Bridge.Enum=enumMethods,document){var check=function(regex){return regex.test(navigator.userAgent)},isStrict=document.compatMode==="CSS1Compat",version=function(is,regex){var m;return is&&(m=regex.exec(navigator.userAgent))?parseFloat(m[1]):0},docMode=document.documentMode,isOpera=check(/opera/),isOpera10_5=isOpera&&check(/version\/10\.5/),isChrome=check(/\bchrome\b/),isWebKit=check(/webkit/),isSafari=!isChrome&&check(/safari/),isSafari2=isSafari&&check(/applewebkit\/4/),isSafari3=isSafari&&check(/version\/3/),isSafari4=isSafari&&check(/version\/4/),isSafari5_0=isSafari&&check(/version\/5\.0/),isSafari5=isSafari&&check(/version\/5/),isIE=!isOpera&&(check(/msie/)||check(/trident/)),isIE7=isIE&&(check(/msie 7/)&&docMode!==8&&docMode!==9&&docMode!==10||docMode===7),isIE8=isIE&&(check(/msie 8/)&&docMode!==7&&docMode!==9&&docMode!==10||docMode===8),isIE9=isIE&&(check(/msie 9/)&&docMode!==7&&docMode!==8&&docMode!==10||docMode===9),isIE10=isIE&&(check(/msie 10/)&&docMode!==7&&docMode!==8&&docMode!==9||docMode===10),isIE11=isIE&&(check(/trident\/7\.0/)&&docMode!==7&&docMode!==8&&docMode!==9&&docMode!==10||docMode===11),isIE6=isIE&&check(/msie 6/),isGecko=!isWebKit&&!isIE&&check(/gecko/),isGecko3=isGecko&&check(/rv:1\.9/),isGecko4=isGecko&&check(/rv:2\.0/),isGecko5=isGecko&&check(/rv:5\./),isGecko10=isGecko&&check(/rv:10\./),isFF3_0=isGecko3&&check(/rv:1\.9\.0/),isFF3_5=isGecko3&&check(/rv:1\.9\.1/),isFF3_6=isGecko3&&check(/rv:1\.9\.2/),isWindows=check(/windows|win32/),isMac=check(/macintosh|mac os x/),isLinux=check(/linux/),chromeVersion=version(!0,/\bchrome\/(\d+\.\d+)/),firefoxVersion=version(!0,/\bfirefox\/(\d+\.\d+)/),ieVersion=version(isIE,/msie (\d+\.\d+)/),operaVersion=version(isOpera,/version\/(\d+\.\d+)/),safariVersion=version(isSafari,/version\/(\d+\.\d+)/),webKitVersion=version(isWebKit,/webkit\/(\d+\.\d+)/),isSecure=Bridge.global.location?/^https/i.test(Bridge.global.location.protocol):!1,isiPhone=/iPhone/i.test(navigator.platform),isiPod=/iPod/i.test(navigator.platform),isiPad=/iPad/i.test(navigator.userAgent),isBlackberry=/Blackberry/i.test(navigator.userAgent),isAndroid=/Android/i.test(navigator.userAgent),isDesktop=isMac||isWindows||isLinux&&!isAndroid,isTablet=isiPad,isPhone=!isDesktop&&!isTablet,browser={isStrict:isStrict,isIEQuirks:isIE&&!isStrict&&(isIE6||isIE7||isIE8||isIE9),isOpera:isOpera,isOpera10_5:isOpera10_5,isWebKit:isWebKit,isChrome:isChrome,isSafari:isSafari,isSafari3:isSafari3,isSafari4:isSafari4,isSafari5:isSafari5,isSafari5_0:isSafari5_0,isSafari2:isSafari2,isIE:isIE,isIE6:isIE6,isIE7:isIE7,isIE7m:isIE6||isIE7,isIE7p:isIE&&!isIE6,isIE8:isIE8,isIE8m:isIE6||isIE7||isIE8,isIE8p:isIE&&!(isIE6||isIE7),isIE9:isIE9,isIE9m:isIE6||isIE7||isIE8||isIE9,isIE9p:isIE&&!(isIE6||isIE7||isIE8),isIE10:isIE10,isIE10m:isIE6||isIE7||isIE8||isIE9||isIE10,isIE10p:isIE&&!(isIE6||isIE7||isIE8||isIE9),isIE11:isIE11,isIE11m:isIE6||isIE7||isIE8||isIE9||isIE10||isIE11,isIE11p:isIE&&!(isIE6||isIE7||isIE8||isIE9||isIE10),isGecko:isGecko,isGecko3:isGecko3,isGecko4:isGecko4,isGecko5:isGecko5,isGecko10:isGecko10,isFF3_0:isFF3_0,isFF3_5:isFF3_5,isFF3_6:isFF3_6,isFF4:4<=firefoxVersion&&firefoxVersion<5,isFF5:5<=firefoxVersion&&firefoxVersion<6,isFF10:10<=firefoxVersion&&firefoxVersion<11,isLinux:isLinux,isWindows:isWindows,isMac:isMac,chromeVersion:chromeVersion,firefoxVersion:firefoxVersion,ieVersion:ieVersion,operaVersion:operaVersion,safariVersion:safariVersion,webKitVersion:webKitVersion,isSecure:isSecure,isiPhone:isiPhone,isiPod:isiPod,isiPad:isiPad,isBlackberry:isBlackberry,isAndroid:isAndroid,isDesktop:isDesktop,isTablet:isTablet,isPhone:isPhone,iOS:isiPhone||isiPad||isiPod,standalone:Bridge.global.navigator?!!Bridge.global.navigator.standalone:!1};Bridge.Browser=browser}initializing=!1;base={cache:{},initCtor:function(){var value=arguments[0];if(this.$multipleCtors&&arguments.length>0&&typeof value=="string"&&(value=value==="constructor"?"$constructor":value,(value==="$constructor"||Bridge.String.startsWith(value,"constructor$"))&&Bridge.isFunction(this[value]))){this[value].apply(this,Array.prototype.slice.call(arguments,1));return}this.$constructor&&this.$constructor.apply(this,arguments)},initConfig:function(extend,base,cfg,statics,scope){var initFn,isFn=Bridge.isFunction(cfg),fn=function(){var name,config;if(config=Bridge.isFunction(cfg)?cfg():cfg,config.fields)for(name in config.fields)this[name]=config.fields[name];if(config.properties)for(name in config.properties)Bridge.property(this,name,config.properties[name]);if(config.events)for(name in config.events)Bridge.event(this,name,config.events[name]);if(config.alias)for(name in config.alias)this[name]&&(this[name]=this[config.alias[name]]);config.init&&(initFn=config.init)};isFn||fn.apply(scope);scope.$initMembers=function(){extend&&!statics&&base.$initMembers&&base.$initMembers.apply(this,arguments);isFn&&fn.apply(this);initFn&&initFn.apply(this,arguments)}},define:function(className,gscope,prop){function Class(){if(!(this instanceof Class)){var args=Array.prototype.slice.call(arguments,0),object=Object.create(Class.prototype),result=Class.apply(object,args);return typeof result=="object"?result:object}initializing||(this.$staticInit&&this.$staticInit(),this.$initMembers&&this.$initMembers.apply(this,arguments),this.$$initCtor.apply(this,arguments))}var staticsConfig,instanceConfig,keys,i;if(prop||(prop=gscope,gscope=Bridge.global),Bridge.isFunction(prop))return fn=function(){var args=Array.prototype.slice.call(arguments),name,obj,c;return(args.unshift(className),name=Bridge.Class.genericName.apply(null,args),c=Bridge.Class.cache[name],c)?c:(obj=prop.apply(null,args.slice(1)),obj.$cacheName=name,Bridge.define(name,obj))},Bridge.Class.generic(className,gscope,fn);prop=prop||{};var extend=prop.$inherits||prop.inherits,statics=prop.$statics||prop.statics,base,cacheName=prop.$cacheName,prototype,scope=prop.$scope||Bridge.global,i,v,ctorCounter,isCtor,ctorName,name,fn;prop.$inherits?delete prop.$inherits:delete prop.inherits;Bridge.isFunction(statics)?statics=null:prop.$statics?delete prop.$statics:delete prop.statics;prop.$cacheName&&delete prop.$cacheName;scope=Bridge.Class.set(scope,className,Class);cacheName&&(Bridge.Class.cache[cacheName]=Class);extend&&Bridge.isFunction(extend)&&(extend=extend());base=extend?extend[0].prototype:this.prototype;initializing=!0;prototype=extend?new extend[0]:{};initializing=!1;statics&&(staticsConfig=statics.$config||statics.config,staticsConfig&&!Bridge.isFunction(staticsConfig)&&(Bridge.Class.initConfig(extend,base,staticsConfig,!0,Class),statics.$config?delete statics.$config:delete statics.config));instanceConfig=prop.$config||prop.config;instanceConfig&&!Bridge.isFunction(instanceConfig)?(Bridge.Class.initConfig(extend,base,instanceConfig,!1,prop),prop.$config?delete prop.$config:delete prop.config):prop.$initMembers=extend?function(){base.$initMembers.apply(this,arguments)}:function(){};prop.$$initCtor=Bridge.Class.initCtor;ctorCounter=0;keys=[];for(name in prop)keys.push(name);for(Bridge.Browser.isIE8&&prop.hasOwnProperty("constructor")&&keys.indexOf("constructor")<0&&keys.push("constructor"),i=0;i<keys.length;i++)name=keys[i],v=prop[name],isCtor=name==="constructor",ctorName=isCtor?"$constructor":name,Bridge.isFunction(v)&&(isCtor||Bridge.String.startsWith(name,"constructor$"))&&(ctorCounter++,isCtor=!0),prototype[ctorName]=prop[name],isCtor&&(function(ctorName){Class[ctorName]=function(){var args=Array.prototype.slice.call(arguments);this.$initMembers&&this.$initMembers.apply(this,args);args.unshift(ctorName);this.$$initCtor.apply(this,args)}}(ctorName),Class[ctorName].prototype=prototype,Class[ctorName].prototype.constructor=Class);if(ctorCounter===0&&(prototype.$constructor=extend?function(){base.$constructor.apply(this,arguments)}:function(){}),ctorCounter>1&&(prototype.$multipleCtors=!0),prototype.$$name=className,Class.prototype=prototype,Class.prototype.constructor=Class,Class.$$name=className,statics)for(name in statics)Class[name]=statics[name];for(extend||(extend=[Object]),Class.$$inherits=extend,i=0;i<extend.length;i++)scope=extend[i],scope.$$inheritors||(scope.$$inheritors=[]),scope.$$inheritors.push(Class);return fn=function(){Class.$staticInit=null;Class.$initMembers&&Class.$initMembers.call(Class);Class.constructor&&Class.constructor.call(Class)},document&&(document.readyState==="complete"||document.readyState==="loaded")?fn():(Bridge.Class.$queue.push(Class),Class.$staticInit=fn),Class},addExtend:function(cls,extend){var i,scope;for(Array.prototype.push.apply(cls.$$inherits,extend),i=0;i<extend.length;i++)scope=extend[i],scope.$$inheritors||(scope.$$inheritors=[]),scope.$$inheritors.push(cls)},set:function(scope,className,cls){for(var nameParts=className.split("."),name,key,exists,i=0;i<nameParts.length-1;i++)typeof scope[nameParts[i]]=="undefined"&&(scope[nameParts[i]]={}),scope=scope[nameParts[i]];if(name=nameParts[nameParts.length-1],exists=scope[name],exists)for(key in exists)typeof exists[key]=="function"&&exists[key].$$name&&(cls[key]=exists[key]);return scope[name]=cls,scope},genericName:function(){for(var name=arguments[0],i=1;i<arguments.length;i++)name+="$"+Bridge.getTypeName(arguments[i]);return name},generic:function(className,scope,fn){return fn||(fn=scope,scope=Bridge.global),fn.$$name=className,Bridge.Class.set(scope,className,fn),fn},init:function(fn){for(var t,i=0;i<Bridge.Class.$queue.length;i++)t=Bridge.Class.$queue[i],t.$staticInit&&t.$staticInit();Bridge.Class.$queue.length=0;fn&&fn()}};Bridge.Class=base;Bridge.Class.$queue=[];Bridge.define=Bridge.Class.define;Bridge.init=Bridge.Class.init;Bridge.define("Bridge.Exception",{constructor:function(message,innerException){this.message=message;this.innerException=innerException;this.errorStack=new Error;this.data=new Bridge.Dictionary$2(Object,Object)()},getMessage:function(){return this.message},getInnerException:function(){return this.innerException},getStackTrace:function(){return this.errorStack.stack},getData:function(){return this.data},toString:function(){return this.getMessage()},statics:{create:function(error){return Bridge.is(error,Bridge.Exception)?error:error instanceof TypeError?new Bridge.NullReferenceException(error.message,new Bridge.ErrorException(error)):error instanceof RangeError?new Bridge.ArgumentOutOfRangeException(null,error.message,new Bridge.ErrorException(error)):error instanceof Error?new Bridge.ErrorException(error):new Bridge.Exception(error?error.toString():null)}}});Bridge.define("Bridge.ErrorException",{inherits:[Bridge.Exception],constructor:function(error){Bridge.Exception.prototype.$constructor.call(this,error.message);this.errorStack=error;this.error=error},getError:function(){return this.error}});Bridge.define("Bridge.ArgumentException",{inherits:[Bridge.Exception],constructor:function(message,paramName,innerException){Bridge.Exception.prototype.$constructor.call(this,message||"Value does not fall within the expected range.",innerException);this.paramName=paramName},getParamName:function(){return this.paramName}});Bridge.define("Bridge.ArgumentNullException",{inherits:[Bridge.ArgumentException],constructor:function(paramName,message,innerException){message||(message="Value cannot be null.",paramName&&(message+="\nParameter name: "+paramName));Bridge.ArgumentException.prototype.$constructor.call(this,message,paramName,innerException)}});Bridge.define("Bridge.ArgumentOutOfRangeException",{inherits:[Bridge.ArgumentException],constructor:function(paramName,message,innerException,actualValue){message||(message="Value is out of range.",paramName&&(message+="\nParameter name: "+paramName));Bridge.ArgumentException.prototype.$constructor.call(this,message,paramName,innerException);this.actualValue=actualValue},getActualValue:function(){return this.actualValue}});Bridge.define("Bridge.CultureNotFoundException",{inherits:[Bridge.ArgumentException],constructor:function(paramName,invalidCultureName,message,innerException){message||(message="Culture is not supported.",paramName&&(message+="\nParameter name: "+paramName),invalidCultureName&&(message+="\n"+invalidCultureName+" is an invalid culture identifier."));Bridge.ArgumentException.prototype.$constructor.call(this,message,paramName,innerException);this.invalidCultureName=invalidCultureName},getInvalidCultureName:function(){return this.invalidCultureName}});Bridge.define("Bridge.KeyNotFoundException",{inherits:[Bridge.Exception],constructor:function(message,innerException){Bridge.Exception.prototype.$constructor.call(this,message||"Key not found.",innerException)}});Bridge.define("Bridge.ArithmeticException",{inherits:[Bridge.Exception],constructor:function(message,innerException){Bridge.Exception.prototype.$constructor.call(this,message||"Overflow or underflow in the arithmetic operation.",innerException)}});Bridge.define("Bridge.DivideByZeroException",{inherits:[Bridge.ArithmeticException],constructor:function(message,innerException){Bridge.ArithmeticException.prototype.$constructor.call(this,message||"Division by 0.",innerException)}});Bridge.define("Bridge.OverflowException",{inherits:[Bridge.ArithmeticException],constructor:function(message,innerException){Bridge.ArithmeticException.prototype.$constructor.call(this,message||"Arithmetic operation resulted in an overflow.",innerException)}});Bridge.define("Bridge.FormatException",{inherits:[Bridge.Exception],constructor:function(message,innerException){Bridge.Exception.prototype.$constructor.call(this,message||"Invalid format.",innerException)}});Bridge.define("Bridge.InvalidCastException",{inherits:[Bridge.Exception],constructor:function(message,innerException){Bridge.Exception.prototype.$constructor.call(this,message||"The cast is not valid.",innerException)}});Bridge.define("Bridge.InvalidOperationException",{inherits:[Bridge.Exception],constructor:function(message,innerException){Bridge.Exception.prototype.$constructor.call(this,message||"Operation is not valid due to the current state of the object.",innerException)}});Bridge.define("Bridge.NotImplementedException",{inherits:[Bridge.Exception],constructor:function(message,innerException){Bridge.Exception.prototype.$constructor.call(this,message||"The method or operation is not implemented.",innerException)}});Bridge.define("Bridge.NotSupportedException",{inherits:[Bridge.Exception],constructor:function(message,innerException){Bridge.Exception.prototype.$constructor.call(this,message||"Specified method is not supported.",innerException)}});Bridge.define("Bridge.NullReferenceException",{inherits:[Bridge.Exception],constructor:function(message,innerException){Bridge.Exception.prototype.$constructor.call(this,message||"Object is null.",innerException)}});Bridge.define("Bridge.RankException",{inherits:[Bridge.Exception],constructor:function(message,innerException){Bridge.Exception.prototype.$constructor.call(this,message||"Attempted to operate on an array with the incorrect number of dimensions.",innerException)}});Bridge.define("Bridge.IFormattable",{statics:{$is:function(obj){return Bridge.isNumber(obj)?!0:Bridge.isDate(obj)?!0:Bridge.is(obj,Bridge.IFormattable,!0)}}});Bridge.define("Bridge.IComparable");Bridge.define("Bridge.IFormatProvider");Bridge.define("Bridge.ICloneable");Bridge.Class.generic("Bridge.IComparable$1",function(T){var $$name=Bridge.Class.genericName("Bridge.IComparable$1",T);return Bridge.Class.cache[$$name]||(Bridge.Class.cache[$$name]=Bridge.define($$name))});Bridge.Class.generic("Bridge.IEquatable$1",function(T){var $$name=Bridge.Class.genericName("Bridge.IEquatable$1",T);return Bridge.Class.cache[$$name]||(Bridge.Class.cache[$$name]=Bridge.define($$name))});Bridge.define("Bridge.IPromise");Bridge.define("Bridge.IDisposable");Bridge.define("Bridge.DateTimeFormatInfo",{inherits:[Bridge.IFormatProvider,Bridge.ICloneable],statics:{$allStandardFormats:{d:"shortDatePattern",D:"longDatePattern",f:"longDatePattern shortTimePattern",F:"longDatePattern longTimePattern",g:"shortDatePattern shortTimePattern",G:"shortDatePattern longTimePattern",m:"monthDayPattern",M:"monthDayPattern",o:"roundtripFormat",O:"roundtripFormat",r:"rfc1123",R:"rfc1123",s:"sortableDateTimePattern",S:"sortableDateTimePattern1",t:"shortTimePattern",T:"longTimePattern",u:"universalSortableDateTimePattern",U:"longDatePattern longTimePattern",y:"yearMonthPattern",Y:"yearMonthPattern"},constructor:function(){this.invariantInfo=Bridge.merge(new Bridge.DateTimeFormatInfo,{abbreviatedDayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],abbreviatedMonthGenitiveNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],abbreviatedMonthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],amDesignator:"AM",dateSeparator:"/",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],firstDayOfWeek:0,fullDateTimePattern:"dddd, MMMM dd, yyyy h:mm:ss tt",longDatePattern:"dddd, MMMM dd, yyyy",longTimePattern:"h:mm:ss tt",monthDayPattern:"MMMM dd",monthGenitiveNames:["January","February","March","April","May","June","July","August","September","October","November","December",""],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December",""],pmDesignator:"PM",rfc1123:"ddd, dd MMM yyyy HH':'mm':'ss 'GMT'",shortDatePattern:"M/d/yyyy",shortestDayNames:["Su","Mo","Tu","We","Th","Fr","Sa"],shortTimePattern:"h:mm tt",sortableDateTimePattern:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",sortableDateTimePattern1:"yyyy'-'MM'-'dd",timeSeparator:":",universalSortableDateTimePattern:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'",yearMonthPattern:"MMMM, yyyy",roundtripFormat:"yyyy'-'MM'-'dd'T'HH':'mm':'ss.uzzz"})}},getFormat:function(type){switch(type){case Bridge.DateTimeFormatInfo:return this;default:return null}},getAbbreviatedDayName:function(dayofweek){if(dayofweek<0||dayofweek>6)throw new Bridge.ArgumentOutOfRangeException("dayofweek");return this.abbreviatedDayNames[dayofweek]},getAbbreviatedMonthName:function(month){if(month<1||month>13)throw new Bridge.ArgumentOutOfRangeException("month");return this.abbreviatedMonthNames[month-1]},getAllDateTimePatterns:function(format,returnNull){var f=Bridge.DateTimeFormatInfo.$allStandardFormats,formats,names,pattern,i,result=[];if(format){if(!f[format]){if(returnNull)return null;throw new Bridge.ArgumentException(null,"format");}formats={};formats[format]=f[format]}else formats=f;for(f in formats){for(names=formats[f].split(" "),pattern="",i=0;i<names.length;i++)pattern=(i===0?"":pattern+" ")+this[names[i]];result.push(pattern)}return result},getDayName:function(dayofweek){if(dayofweek<0||dayofweek>6)throw new Bridge.ArgumentOutOfRangeException("dayofweek");return this.dayNames[dayofweek]},getMonthName:function(month){if(month<1||month>13)throw new Bridge.ArgumentOutOfRangeException("month");return this.monthNames[month-1]},getShortestDayName:function(dayOfWeek){if(dayOfWeek<0||dayOfWeek>6)throw new Bridge.ArgumentOutOfRangeException("dayOfWeek");return this.shortestDayNames[dayOfWeek]},clone:function(){return Bridge.copy(new Bridge.DateTimeFormatInfo,this,["abbreviatedDayNames","abbreviatedMonthGenitiveNames","abbreviatedMonthNames","amDesignator","dateSeparator","dayNames","firstDayOfWeek","fullDateTimePattern","longDatePattern","longTimePattern","monthDayPattern","monthGenitiveNames","monthNames","pmDesignator","rfc1123","shortDatePattern","shortestDayNames","shortTimePattern","sortableDateTimePattern","timeSeparator","universalSortableDateTimePattern","yearMonthPattern","roundtripFormat"])}});Bridge.define("Bridge.NumberFormatInfo",{inherits:[Bridge.IFormatProvider,Bridge.ICloneable],statics:{constructor:function(){this.numberNegativePatterns=["(n)","-n","- n","n-","n -"];this.currencyNegativePatterns=["($n)","-$n","$-n","$n-","(n$)","-n$","n-$","n$-","-n $","-$ n","n $-","$ n-","$ -n","n- $","($ n)","(n $)"];this.currencyPositivePatterns=["$n","n$","$ n","n $"];this.percentNegativePatterns=["-n %","-n%","-%n","%-n","%n-","n-%","n%-","-% n","n %-","% n-","% -n","n- %"];this.percentPositivePatterns=["n %","n%","%n","% n"];this.invariantInfo=Bridge.merge(new Bridge.NumberFormatInfo,{nanSymbol:"NaN",negativeSign:"-",positiveSign:"+",negativeInfinitySymbol:"-Infinity",positiveInfinitySymbol:"Infinity",percentSymbol:"%",percentGroupSizes:[3],percentDecimalDigits:2,percentDecimalSeparator:".",percentGroupSeparator:",",percentPositivePattern:0,percentNegativePattern:0,currencySymbol:"¤",currencyGroupSizes:[3],currencyDecimalDigits:2,currencyDecimalSeparator:".",currencyGroupSeparator:",",currencyNegativePattern:0,currencyPositivePattern:0,numberGroupSizes:[3],numberDecimalDigits:2,numberDecimalSeparator:".",numberGroupSeparator:",",numberNegativePattern:1})}},getFormat:function(type){switch(type){case Bridge.NumberFormatInfo:return this;default:return null}},clone:function(){return Bridge.copy(new Bridge.NumberFormatInfo,this,["nanSymbol","negativeSign","positiveSign","negativeInfinitySymbol","positiveInfinitySymbol","percentSymbol","percentGroupSizes","percentDecimalDigits","percentDecimalSeparator","percentGroupSeparator","percentPositivePattern","percentNegativePattern","currencySymbol","currencyGroupSizes","currencyDecimalDigits","currencyDecimalSeparator","currencyGroupSeparator","currencyNegativePattern","currencyPositivePattern","numberGroupSizes","numberDecimalDigits","numberDecimalSeparator","numberGroupSeparator","numberNegativePattern"])}});Bridge.define("Bridge.CultureInfo",{inherits:[Bridge.IFormatProvider,Bridge.ICloneable],statics:{constructor:function(){this.cultures=this.cultures||{};this.invariantCulture=Bridge.merge(new Bridge.CultureInfo("iv",!0),{englishName:"Invariant Language (Invariant Country)",nativeName:"Invariant Language (Invariant Country)",numberFormat:Bridge.NumberFormatInfo.invariantInfo,dateTimeFormat:Bridge.DateTimeFormatInfo.invariantInfo});this.setCurrentCulture(Bridge.CultureInfo.invariantCulture)},getCurrentCulture:function(){return this.currentCulture},setCurrentCulture:function(culture){this.currentCulture=culture;Bridge.DateTimeFormatInfo.currentInfo=culture.dateTimeFormat;Bridge.NumberFormatInfo.currentInfo=culture.numberFormat},getCultureInfo:function(name){if(!name)throw new Bridge.ArgumentNullException("name");return this.cultures[name]},getCultures:function(){for(var names=Bridge.getPropertyNames(this.cultures),result=[],i=0;i<names.length;i++)result.push(this.cultures[names[i]]);return result}},constructor:function(name,create){if(this.name=name,Bridge.CultureInfo.cultures||(Bridge.CultureInfo.cultures={}),Bridge.CultureInfo.cultures[name])Bridge.copy(this,Bridge.CultureInfo.cultures[name],["englishName","nativeName","numberFormat","dateTimeFormat"]);else{if(!create)throw new Bridge.CultureNotFoundException("name",name);Bridge.CultureInfo.cultures[name]=this}},getFormat:function(type){switch(type){case Bridge.NumberFormatInfo:return this.numberFormat;case Bridge.DateTimeFormatInfo:return this.dateTimeFormat;default:return null}},clone:function(){return new Bridge.CultureInfo(this.name)}});math={divRem:function(a,b,result){var remainder=a%b;return result.v=remainder,(a-remainder)/b},round:function(n,d,rounding){var m=Math.pow(10,d||0),sign,f;return(n*=m,sign=n>0|-(n<0),n%1==.5*sign)?(f=Math.floor(n),(f+(rounding===4?sign>0:f%2*sign))/m):Math.round(n)/m}};Bridge.Math=math;Bridge.define("Bridge.Int",{inherits:[Bridge.IComparable,Bridge.IFormattable],statics:{instanceOf:function(instance){return typeof instance=="number"&&isFinite(instance)&&Math.round(instance,0)===instance},getDefaultValue:function(){return 0},format:function(number,format,provider){var nf=(provider||Bridge.CultureInfo.getCurrentCulture()).getFormat(Bridge.NumberFormatInfo),decimalSeparator=nf.numberDecimalSeparator,groupSeparator=nf.numberGroupSeparator,match,precision,groups,fs,result,count,index;if(!isFinite(number))return Number.NEGATIVE_INFINITY===number?nf.negativeInfinitySymbol:nf.positiveInfinitySymbol;if(!format)return this.defaultFormat(number,0,0,15,nf,!0);if(match=format.match(/^([a-zA-Z])(\d*)$/),match){fs=match[1].toUpperCase();precision=parseInt(match[2],10);precision=precision>15?15:precision;switch(fs){case"D":return this.defaultFormat(number,isNaN(precision)?1:precision,0,0,nf,!0);case"F":case"N":return isNaN(precision)&&(precision=nf.numberDecimalDigits),this.defaultFormat(number,1,precision,precision,nf,fs==="F");case"G":case"E":for(var exponent=0,coefficient=Math.abs(number),exponentPrefix=match[1],exponentPrecision=3,minDecimals,maxDecimals;coefficient>=10;)coefficient/=10,exponent++;while(coefficient!==0&&coefficient<1)coefficient*=10,exponent--;if(fs==="G"){if(exponent>-5&&(!precision||exponent<precision))return minDecimals=precision?precision-(exponent>0?exponent+1:1):0,maxDecimals=precision?precision-(exponent>0?exponent+1:1):10,this.defaultFormat(number,1,minDecimals,maxDecimals,nf,!0);exponentPrefix=exponentPrefix==="G"?"E":"e";exponentPrecision=2;minDecimals=(precision||1)-1;maxDecimals=(precision||11)-1}else minDecimals=maxDecimals=isNaN(precision)?6:precision;return exponent>=0?exponentPrefix+=nf.positiveSign:(exponentPrefix+=nf.negativeSign,exponent=-exponent),number<0&&(coefficient*=-1),this.defaultFormat(coefficient,1,minDecimals,maxDecimals,nf)+exponentPrefix+this.defaultFormat(exponent,exponentPrecision,0,0,nf,!0);case"P":return isNaN(precision)&&(precision=nf.percentDecimalDigits),this.defaultFormat(number*100,1,precision,precision,nf,!1,"percent");case"X":for(result=Math.round(number).toString(16),match[1]==="X"&&(result=result.toUpperCase()),precision-=result.length;precision-->0;)result="0"+result;return result;case"C":return isNaN(precision)&&(precision=nf.currencyDecimalDigits),this.defaultFormat(number,1,precision,precision,nf,!1,"currency");case"R":return""+number}}if(format.indexOf(",.")!==-1||Bridge.String.endsWith(format,",")){for(count=0,index=format.indexOf(",."),index===-1&&(index=format.length-1);index>-1&&format.charAt(index)===",";)count++,index--;number/=Math.pow(1e3,count)}return format.indexOf("%")!==-1&&(number*=100),groups=format.split(";"),number<0&&groups.length>1?(number*=-1,format=groups[1]):format=groups[!number&&groups.length>2?2:0],this.customFormat(number,format,nf,!format.match(/^[^\.]*[0#],[0#]/))},defaultFormat:function(number,minIntLen,minDecLen,maxDecLen,provider,noGroup,name){name=name||"number";var nf=(provider||Bridge.CultureInfo.getCurrentCulture()).getFormat(Bridge.NumberFormatInfo),str,decimalIndex,negPattern,roundingFactor,groupIndex,groupSize,groups=nf[name+"GroupSizes"],decimalPart,index,done,startIndex,length,part,sep,buffer="";if(roundingFactor=Math.pow(10,maxDecLen),str=""+Math.round(Math.abs(number)*roundingFactor)/roundingFactor,decimalIndex=str.indexOf("."),decimalIndex>0&&(decimalPart=nf[name+"DecimalSeparator"]+str.substr(decimalIndex+1),str=str.substr(0,decimalIndex)),str.length<minIntLen&&(str=Array(minIntLen-str.length+1).join("0")+str),decimalPart&&(decimalPart.length-1<minDecLen&&(decimalPart+=Array(minDecLen-decimalPart.length+2).join("0")),maxDecLen===0?decimalPart=null:decimalPart.length-1>maxDecLen&&(decimalPart=decimalPart.substr(0,maxDecLen+1))),groupIndex=0,groupSize=groups[groupIndex],str.length<groupSize)buffer=str,decimalPart&&(buffer+=decimalPart);else{for(index=str.length,done=!1,sep=noGroup?"":nf[name+"GroupSeparator"];!done;){if(length=groupSize,startIndex=index-length,startIndex<0&&(groupSize+=startIndex,length+=startIndex,startIndex=0,done=!0),!length)break;part=str.substr(startIndex,length);buffer=buffer.length?part+sep+buffer:part;index-=length;groupIndex<groups.length-1&&(groupIndex++,groupSize=groups[groupIndex])}decimalPart&&(buffer+=decimalPart)}return number<0?(negPattern=Bridge.NumberFormatInfo[name+"NegativePatterns"][nf[name+"NegativePattern"]],negPattern.replace("-",nf.negativeSign).replace("%",nf.percentSymbol).replace("$",nf.currencySymbol).replace("n",buffer)):Bridge.NumberFormatInfo[name+"PositivePatterns"]?(negPattern=Bridge.NumberFormatInfo[name+"PositivePatterns"][nf[name+"PositivePattern"]],negPattern.replace("%",nf.percentSymbol).replace("$",nf.currencySymbol).replace("n",buffer)):buffer},customFormat:function(number,format,nf,noGroup){var digits=0,forcedDigits=-1,integralDigits=-1,decimals=0,forcedDecimals=-1,atDecimals=0,unused=1,c,i,f,endIndex,roundingFactor,decimalIndex,isNegative=!1,name,groupCfg,buffer="";for(name="number",format.indexOf("%")!==-1?name="percent":format.indexOf("$")!==-1&&(name="currency"),i=0;i<format.length;i++)if(c=format.charAt(i),c==="'"||c==='"'){if(i=format.indexOf(c,i+1),i<0)break}else c==="\\"?i++:((c==="0"||c==="#")&&(decimals+=atDecimals,c==="0"&&(atDecimals?forcedDecimals=decimals:forcedDigits<0&&(forcedDigits=digits)),digits+=!atDecimals),atDecimals=atDecimals||c===".");for(forcedDigits=forcedDigits<0?1:digits-forcedDigits,number<0&&(isNegative=!0),roundingFactor=Math.pow(10,decimals),number=""+Math.round(Math.abs(number)*roundingFactor)/roundingFactor,decimalIndex=number.indexOf("."),integralDigits=decimalIndex<0?number.length:decimalIndex,i=integralDigits-digits,groupCfg={groupIndex:Math.max(integralDigits,forcedDigits),sep:noGroup?"":nf[name+"GroupSeparator"]},f=0;f<format.length;f++)if(c=format.charAt(f),c==="'"||c==='"'){if(endIndex=format.indexOf(c,f+1),buffer+=format.substring(f+1,endIndex<0?format.length:endIndex),endIndex<0)break;f=endIndex}else c==="\\"?(buffer+=format.charAt(f+1),f++):c==="#"||c==="0"?(groupCfg.buffer=buffer,i<integralDigits?(i>=0?(unused&&this.addGroup(number.substr(0,i),groupCfg),this.addGroup(number.charAt(i),groupCfg)):i>=integralDigits-forcedDigits&&this.addGroup("0",groupCfg),unused=0):(forcedDecimals-->0||i<number.length)&&this.addGroup(i>=number.length?"0":number.charAt(i),groupCfg),buffer=groupCfg.buffer,i++):c==="."?(number.length>++i||forcedDecimals>0)&&(buffer+=nf[name+"DecimalSeparator"]):c!==","&&(buffer+=c);return isNegative<0&&(buffer="-"+buffer),buffer},addGroup:function(value,cfg){for(var buffer=cfg.buffer,sep=cfg.sep,groupIndex=cfg.groupIndex,i=0,length=value.length;i<length;i++)buffer+=value.charAt(i),sep&&groupIndex>1&&groupIndex--%3==1&&(buffer+=sep);cfg.buffer=buffer;cfg.groupIndex=groupIndex},parseFloat:function(str,provider){if(str==null)throw new Bridge.ArgumentNullException("str");var nfInfo=(provider||Bridge.CultureInfo.getCurrentCulture()).getFormat(Bridge.NumberFormatInfo),result=parseFloat(str.replace(nfInfo.numberDecimalSeparator,"."));if(isNaN(result)&&str!==nfInfo.nanSymbol){if(str===nfInfo.negativeInfinitySymbol)return Number.NEGATIVE_INFINITY;if(str===nfInfo.positiveInfinitySymbol)return Number.POSITIVE_INFINITY;throw new Bridge.FormatException("Input string was not in a correct format.");}return result},tryParseFloat:function(str,provider,result){if(result.v=0,str==null)return!1;var nfInfo=(provider||Bridge.CultureInfo.getCurrentCulture()).getFormat(Bridge.NumberFormatInfo);return(result.v=parseFloat(str.replace(nfInfo.numberDecimalSeparator,".")),isNaN(result.v)&&str!==nfInfo.nanSymbol)?str===nfInfo.negativeInfinitySymbol?(result.v=Number.NEGATIVE_INFINITY,!0):str===nfInfo.positiveInfinitySymbol?(result.v=Number.POSITIVE_INFINITY,!0):!1:!0},parseInt:function(str,min,max,radix){if(str==null)throw new Bridge.ArgumentNullException("str");if(!/^[+-]?[0-9]+$/.test(str))throw new Bridge.FormatException("Input string was not in a correct format.");var result=parseInt(str,radix||10);if(isNaN(result))throw new Bridge.FormatException("Input string was not in a correct format.");if(result<min||result>max)throw new Bridge.OverflowException;return result},tryParseInt:function(str,result,min,max,radix){return(result.v=0,!/^[+-]?[0-9]+$/.test(str))?!1:(result.v=parseInt(str,radix||10),result.v<min||result.v>max)?!1:!0},trunc:function(num){return Bridge.isNumber(num)?num>0?Math.floor(num):Math.ceil(num):null},div:function(x,y){if(!Bridge.isNumber(x)||!Bridge.isNumber(y))return null;if(y===0)throw new Bridge.DivideByZeroException;return this.trunc(x/y)},mod:function(x,y){if(!Bridge.isNumber(x)||!Bridge.isNumber(y))return null;if(y===0)throw new Bridge.DivideByZeroException;return x%y},check:function(x,type){if(Bridge.isNumber(x)&&!type.instanceOf(x))throw new Bridge.OverflowException;return x},sxb:function(x){return x|(x&128?4294967040:0)},sxs:function(x){return x|(x&32768?4294901760:0)},clip8:function(x){return Bridge.isNumber(x)?Bridge.Int.sxb(x&255):null},clipu8:function(x){return Bridge.isNumber(x)?x&255:null},clip16:function(x){return Bridge.isNumber(x)?Bridge.Int.sxs(x&65535):null},clipu16:function(x){return Bridge.isNumber(x)?x&65535:null},clip32:function(x){return Bridge.isNumber(x)?x|0:null},clipu32:function(x){return Bridge.isNumber(x)?x>>>0:null},clip64:function(x){return Bridge.isNumber(x)?(Math.floor(x/4294967296)|0)*4294967296+(x>>>0):null},clipu64:function(x){return Bridge.isNumber(x)?(Math.floor(x/4294967296)>>>0)*4294967296+(x>>>0):null},sign:function(x){return Bridge.isNumber(x)?x===0?0:x<0?-1:1:null}}});Bridge.Class.addExtend(Bridge.Int,[Bridge.IComparable$1(Bridge.Int),Bridge.IEquatable$1(Bridge.Int)]);!function(e){function n(e){for(var n,r,t=1,i=e.length,o=e[0]+"";i>t;t++){for(n=e[t]+"",r=y-n.length;r--;)n="0"+n;o+=n}for(i=o.length;48===o.charCodeAt(--i););return o.slice(0,i+1||1)}function r(e,n,r,t){for(var i,c,u,o=1,s=e[0];s>=10;s/=10,o++);return s=n-o,0>s?(s+=y,i=0):(i=Math.ceil((s+1)/y),s%=y),o=E(10,y-s),u=e[i]%o|0,null==t?3>s?(0==s?u=u/100|0:1==s&&(u=u/10|0),c=4>r&&99999==u||r>3&&49999==u||5e4==u||0==u):c=(4>r&&u+1==o||r>3&&u+1==o/2)&&(e[i+1]/o/100|0)==E(10,s-2)-1||(u==o/2||0==u)&&0==(e[i+1]/o/100|0):4>s?(0==s?u=u/1e3|0:1==s?u=u/100|0:2==s&&(u=u/10|0),c=(t||4>r)&&9999==u||!t&&r>3&&4999==u):c=((t||4>r)&&u+1==o||!t&&r>3&&u+1==o/2)&&(e[i+1]/o/1e3|0)==E(10,s-3)-1,c}function t(e,n,r){var t=e.constructor;return null==n||((m=0>n||n>8)||0!==n&&(t.errors?parseInt:parseFloat)(n)!=n)&&!u(t,"rounding mode",n,r,0)?t.rounding:0|n}function i(e,n,r,t){var i=e.constructor;return!(m=(t||0)>n||n>=A+1)&&(0===n||(i.errors?parseInt:parseFloat)(n)==n)||u(i,"argument",n,r,0)}function o(e,t){var i,o,s,c,u,l,f,h=0,g=0,p=0,m=e.constructor,d=m.ONE,v=m.rounding,N=m.precision;if(!e.c||!e.c[0]||e.e>17)return new m(e.c?e.c[0]?e.s<0?0:1/0:d:e.s?e.s<0?0:e:NaN);for(null==t?(w=!1,u=N):u=t,f=new m(.03125);e.e>-2;)e=e.times(f),p+=5;for(o=Math.log(E(2,p))/Math.LN10*2+5|0,u+=o,i=c=l=new m(d),m.precision=u;;){if(c=a(c.times(e),u,1),i=i.times(++g),f=l.plus(P(c,i,u,1)),n(f.c).slice(0,u)===n(l.c).slice(0,u)){for(s=p;s--;)l=a(l.times(l),u,1);if(null!=t)return m.precision=N,l;if(!(3>h&&r(l.c,u-o,v,h)))return a(l,m.precision=N,v,w=!0);m.precision=u+=10;i=c=f=new m(d);g=0;h++}l=f}}function s(e,r,t,i){var o,s,c=e.constructor,u=(e=new c(e)).e;if(null==r?t=0:(a(e,++r,t),t=i?r:r+e.e-u),u=e.e,o=n(e.c),1==i||2==i&&(u>=r||u<=c.toExpNeg)){for(;o.length<t;o+="0");o.length>1&&(o=o.charAt(0)+"."+o.slice(1));o+=(0>u?"e":"e+")+u}else{if(i=o.length,0>u){for(s=t-i;++u;o="0"+o);o="0."+o}else if(++u>i){for(s=t-u,u-=i;u--;o+="0");s>0&&(o+=".")}else s=t-i,i>u?o=o.slice(0,u)+"."+o.slice(u):s>0&&(o+=".");if(s>0)for(;s--;o+="0");}return e.s<0&&e.c[0]?"-"+o:o}function c(e){var n=e.length-1,r=n*y+1;if(n=e[n]){for(;n%10==0;n/=10,r--);for(n=e[0];n>=10;n/=10,r++);}return r}function u(e,n,r,t,i){if(e.errors){var o=new Error((t||["new Decimal","cmp","div","eq","gt","gte","lt","lte","minus","mod","plus","times","toFraction","pow","random","log","sqrt","toNearest","divToInt"][v?0>v?-v:v:0>1/v?1:0])+"() "+(["number type has more than 15 significant digits","LN10 out of digits"][n]||n+([m?" out of range":" not an integer"," not a boolean or binary digit"][i]||""))+": "+r);throw o.name="Decimal Error",m=v=0,o;}}function l(e,n,r){var t=new e(e.ONE);for(w=!1;1&r&&(t=t.times(n)),r>>=1,r;)n=n.times(n);return w=!0,t}function f(e,t){var i,o,s,c,l,h,g,p,m,d,v,N=1,E=10,x=e,b=x.c,y=x.constructor,O=y.ONE,S=y.rounding,D=y.precision;if(x.s<0||!b||!b[0]||!x.e&&1==b[0]&&1==b.length)return new y(b&&!b[0]?-1/0:1!=x.s?NaN:b?0:x);if(null==t?(w=!1,g=D):g=t,y.precision=g+=E,i=n(b),o=i.charAt(0),!(Math.abs(c=x.e)<15e14))return x=new y(o+"."+i.slice(1)),g+2>M.length&&u(y,1,g+2,"ln"),x=f(x,g-E).plus(new y(M.slice(0,g+2)).times(c+"")),y.precision=D,null==t?a(x,D,S,w=!0):x;for(;7>o&&1!=o||1==o&&i.charAt(1)>3;)x=x.times(e),i=n(x.c),o=i.charAt(0),N++;for(c=x.e,o>1?(x=new y("0."+i),c++):x=new y(o+"."+i.slice(1)),d=x,p=l=x=P(x.minus(O),x.plus(O),g,1),v=a(x.times(x),g,1),s=3;;){if(l=a(l.times(v),g,1),m=p.plus(P(l,new y(s),g,1)),n(m.c).slice(0,g)===n(p.c).slice(0,g)){if(p=p.times(2),0!==c&&(g+2>M.length&&u(y,1,g+2,"ln"),p=p.plus(new y(M.slice(0,g+2)).times(c+""))),p=P(p,new y(N),g,1),null!=t)return y.precision=D,p;if(!r(p.c,g-E,S,h))return a(p,y.precision=D,S,w=!0);y.precision=g+=E;m=l=x=P(d.minus(O),d.plus(O),g,1);v=a(x.times(x),g,1);s=h=1}p=m;s+=2}}function a(e,n,r,t){var i,o,s,c,u,l,f,a,h=e.constructor;e:if(null!=n){if(!(f=e.c))return e;for(i=1,c=f[0];c>=10;c/=10,i++);if(o=n-i,0>o)o+=y,s=n,u=f[a=0],l=u/E(10,i-s-1)%10|0;else if(a=Math.ceil((o+1)/y),a>=f.length){if(!t)break e;for(;f.length<=a;f.push(0));u=l=0;i=1;o%=y;s=o-y+1}else{for(u=c=f[a],i=1;c>=10;c/=10,i++);o%=y;s=o-y+i;l=0>s?0:N(u/E(10,i-s-1)%10)}if(t=t||0>n||null!=f[a+1]||(0>s?u:u%E(10,i-s-1)),t=4>r?(l||t)&&(0==r||r==(e.s<0?3:2)):l>5||5==l&&(4==r||t||6==r&&(o>0?s>0?u/E(10,i-s):0:f[a-1])%10&1||r==(e.s<0?8:7)),1>n||!f[0])return f.length=0,t?(n-=e.e+1,f[0]=E(10,n%y),e.e=-n||0):f[0]=e.e=0,e;if(0==o?(f.length=a,c=1,a--):(f.length=a+1,c=E(10,y-o),f[a]=s>0?(u/E(10,i-s)%E(10,s)|0)*c:0),t)for(;;){if(0==a){for(o=1,s=f[0];s>=10;s/=10,o++);for(s=f[0]+=c,c=1;s>=10;s/=10,c++);o!=c&&(e.e++,f[0]==b&&(f[0]=1));break}if(f[a]+=c,f[a]!=b)break;f[a--]=0;c=1}for(o=f.length;0===f[--o];f.pop());}return w&&(e.e>h.maxE?e.c=e.e=null:e.e<h.minE&&(e.c=[e.e=0])),e}var h,g,p,m,d=e.crypto,w=!0,v=0,N=Math.floor,E=Math.pow,x=Object.prototype.toString,b=1e7,y=7,O="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_",S={},D=9e15,A=1e9,F=3e3,M="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",P;if(S.absoluteValue=S.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),a(e)},S.ceil=function(){return a(new this.constructor(this),this.e+1,2)},S.comparedTo=S.cmp=function(e,n){var r,t=this,i=t.c,o=(v=-v,e=new t.constructor(e,n),e.c),s=t.s,c=e.s,u=t.e,l=e.e;if(!s||!c)return null;if(r=i&&!i[0],n=o&&!o[0],r||n)return r?n?0:-c:s;if(s!=c)return s;if(r=0>s,!i||!o)return u==l?0:!i^r?1:-1;if(u!=l)return u>l^r?1:-1;for(s=-1,c=(u=i.length)<(l=o.length)?u:l;++s<c;)if(i[s]!=o[s])return i[s]>o[s]^r?1:-1;return u==l?0:u>l^r?1:-1},S.decimalPlaces=S.dp=function(){var e,n,r=null;if(e=this.c){if(r=((n=e.length-1)-N(this.e/y))*y,n=e[n])for(;n%10==0;n/=10,r--);0>r&&(r=0)}return r},S.dividedBy=S.div=function(e,n){return v=2,P(this,new this.constructor(e,n))},S.dividedToIntegerBy=S.divToInt=function(e,n){var r=this,t=r.constructor;return v=18,a(P(r,new t(e,n),0,1,1),t.precision,t.rounding)},S.equals=S.eq=function(e,n){return v=3,0===this.cmp(e,n)},S.exponential=S.exp=function(){return o(this)},S.floor=function(){return a(new this.constructor(this),this.e+1,3)},S.greaterThan=S.gt=function(e,n){return v=4,this.cmp(e,n)>0},S.greaterThanOrEqualTo=S.gte=function(e,n){return v=5,n=this.cmp(e,n),1==n||0===n},S.isFinite=function(){return!!this.c},S.isInteger=S.isInt=function(){return!!this.c&&N(this.e/y)>this.c.length-2},S.isNaN=function(){return!this.s},S.isNegative=S.isNeg=function(){return this.s<0},S.isZero=function(){return!!this.c&&0==this.c[0]},S.lessThan=S.lt=function(e,n){return v=6,this.cmp(e,n)<0},S.lessThanOrEqualTo=S.lte=function(e,n){return v=7,n=this.cmp(e,n),-1==n||0===n},S.logarithm=S.log=function(e,t){var i,o,s,c,l,h,g,p,m,d=this,N=d.constructor,E=N.precision,x=N.rounding;if(null==e)e=new N(10),i=!0;else{if(v=15,e=new N(e,t),o=e.c,e.s<0||!o||!o[0]||!e.e&&1==o[0]&&1==o.length)return new N(NaN);i=e.eq(10)}if(o=d.c,d.s<0||!o||!o[0]||!d.e&&1==o[0]&&1==o.length)return new N(o&&!o[0]?-1/0:1!=d.s?NaN:o?0:1/0);if(l=i&&(c=o[0],o.length>1||1!=c&&10!=c&&100!=c&&1e3!=c&&1e4!=c&&1e5!=c&&1e6!=c),w=!1,g=E+5,p=g+10,h=f(d,g),i?(p>M.length&&u(N,1,p,"log"),s=new N(M.slice(0,p))):s=f(e,g),m=P(h,s,g,1),r(m.c,c=E,x))do if(g+=10,h=f(d,g),i?(p=g+10,p>M.length&&u(N,1,p,"log"),s=new N(M.slice(0,p))):s=f(e,g),m=P(h,s,g,1),!l){+n(m.c).slice(c+1,c+15)+1==1e14&&(m=a(m,E+1,0));break}while(r(m.c,c+=10,x));return w=!0,a(m,E,x)},S.minus=function(e,n){var r,t,i,o,s=this,c=s.constructor,u=s.s;if(v=8,e=new c(e,n),n=e.s,!u||!n)return new c(NaN);if(u!=n)return e.s=-n,s.plus(e);var l=s.c,f=e.c,h=N(e.e/y),g=N(s.e/y),p=c.precision,m=c.rounding;if(!g||!h){if(!l||!f)return l?(e.s=-n,e):new c(f?s:NaN);if(!l[0]||!f[0])return s=f[0]?(e.s=-n,e):new c(l[0]?s:3==m?-0:0),w?a(s,p,m):s}if(l=l.slice(),t=l.length,u=g-h){for((o=0>u)?(u=-u,r=l,t=f.length):(h=g,r=f),(g=Math.ceil(p/y))>t&&(t=g),u>(t+=2)&&(u=t,r.length=1),r.reverse(),n=u;n--;r.push(0));r.reverse()}else for((o=t<(i=f.length))&&(i=t),u=n=0;i>n;n++)if(l[n]!=f[n]){o=l[n]<f[n];break}if(o&&(r=l,l=f,f=r,e.s=-e.s),(n=-((i=l.length)-f.length))>0)for(;n--;l[i++]=0);for(g=b-1,n=f.length;n>u;){if(l[--n]<f[n]){for(t=n;t&&!l[--t];l[t]=g);--l[t];l[n]+=b}l[n]-=f[n]}for(;0==l[--i];l.pop());for(;0==l[0];l.shift(),--h);for(l[0]||(l=[h=0],e.s=3==m?-1:1),e.c=l,u=1,n=l[0];n>=10;n/=10,u++);return e.e=u+h*y-1,w?a(e,p,m):e},S.modulo=S.mod=function(e,n){var r,t,i=this,o=i.constructor,s=o.modulo;return v=9,e=new o(e,n),n=e.s,r=!i.c||!n||e.c&&!e.c[0],r||!e.c||i.c&&!i.c[0]?r?new o(NaN):a(new o(i),o.precision,o.rounding):(w=!1,9==s?(e.s=1,t=P(i,e,0,3,1),e.s=n,t.s*=n):t=P(i,e,0,s,1),t=t.times(e),w=!0,i.minus(t))},S.naturalLogarithm=S.ln=function(){return f(this)},S.negated=S.neg=function(){var e=new this.constructor(this);return e.s=-e.s||null,a(e)},S.plus=function(e,n){var r,t=this,i=t.constructor,o=t.s;if(v=10,e=new i(e,n),n=e.s,!o||!n)return new i(NaN);if(o!=n)return e.s=-n,t.minus(e);var s=t.c,c=e.c,u=N(e.e/y),l=N(t.e/y),f=i.precision,h=i.rounding;if(!l||!u){if(!s||!c)return new i(o/0);if(!s[0]||!c[0])return t=c[0]?e:new i(s[0]?t:0*o),w?a(t,f,h):t}if(s=s.slice(),o=l-u){for(0>o?(o=-o,r=s,n=c.length):(u=l,r=c,n=s.length),(l=Math.ceil(f/y))>n&&(n=l),o>++n&&(o=n,r.length=1),r.reverse();o--;r.push(0));r.reverse()}for(s.length-c.length<0&&(r=c,c=s,s=r),o=c.length,n=0,l=b;o;s[o]%=l)n=(s[--o]=s[o]+c[o]+n)/l|0;for(n&&(s.unshift(n),++u),o=s.length;0==s[--o];s.pop());for(e.c=s,o=1,n=s[0];n>=10;n/=10,o++);return e.e=o+u*y-1,w?a(e,f,h):e},S.precision=S.sd=function(e){var n=null,r=this;return e!=n&&e!==!!e&&1!==e&&0!==e&&u(r.constructor,"argument",e,"precision",1),r.c&&(n=c(r.c),e&&r.e+1>n&&(n=r.e+1)),n},S.round=function(){var e=this,n=e.constructor;return a(new n(e),e.e+1,n.rounding)},S.squareRoot=S.sqrt=function(){var e,r,t,i,o,s,c=this,u=c.c,l=c.s,f=c.e,h=c.constructor,g=new h(.5);if(1!==l||!u||!u[0])return new h(!l||0>l&&(!u||u[0])?NaN:u?c:1/0);for(w=!1,l=Math.sqrt(+c),0==l||l==1/0?(r=n(u),(r.length+f)%2==0&&(r+="0"),l=Math.sqrt(r),f=N((f+1)/2)-(0>f||f%2),l==1/0?r="1e"+f:(r=l.toExponential(),r=r.slice(0,r.indexOf("e")+1)+f),i=new h(r)):i=new h(l.toString()),t=(f=h.precision)+3;;)if(s=i,i=g.times(s.plus(P(c,s,t+2,1))),n(s.c).slice(0,t)===(r=n(i.c)).slice(0,t)){if(r=r.slice(t-3,t+1),"9999"!=r&&(o||"4999"!=r)){+r&&(+r.slice(1)||"5"!=r.charAt(0))||(a(i,f+1,1),e=!i.times(i).eq(c));break}if(!o&&(a(s,f+1,0),s.times(s).eq(c))){i=s;break}t+=4;o=1}return w=!0,a(i,f,h.rounding,e)},S.times=function(e,n){var r,t,i=this,o=i.constructor,s=i.c,c=(v=11,e=new o(e,n),e.c),u=N(i.e/y),l=N(e.e/y),f=i.s;if(n=e.s,e.s=f==n?1:-1,!((u||s&&s[0])&&(l||c&&c[0])))return new o(!f||!n||s&&!s[0]&&!c||c&&!c[0]&&!s?NaN:s&&c?0*e.s:e.s/0);for(t=u+l,f=s.length,n=c.length,n>f&&(r=s,s=c,c=r,l=f,f=n,n=l),l=f+n,r=[];l--;r.push(0));for(u=n-1;u>-1;u--){for(n=0,l=f+u;l>u;)n=r[l]+c[u]*s[l-u-1]+n,r[l--]=n%b|0,n=n/b|0;r[l]=(r[l]+n)%b|0}for(n?++t:r[0]||r.shift(),l=r.length;!r[--l];r.pop());for(e.c=r,f=1,n=r[0];n>=10;n/=10,f++);return e.e=f+t*y-1,w?a(e,o.precision,o.rounding):e},S.toDecimalPlaces=S.toDP=function(e,n){var r=this;return r=new r.constructor(r),null!=e&&i(r,e,"toDP")?a(r,(0|e)+r.e+1,t(r,n,"toDP")):r},S.toExponential=function(e,n){var r=this;return r.c?s(r,null!=e&&i(r,e,"toExponential")?0|e:null,null!=e&&t(r,n,"toExponential"),1):r.toString()},S.toFixed=function(e,n){var r,o=this,c=o.constructor,u=c.toExpNeg,l=c.toExpPos;return null!=e&&(e=i(o,e,r="toFixed")?o.e+(0|e):null,n=t(o,n,r)),c.toExpNeg=-(c.toExpPos=1/0),null!=e&&o.c?(r=s(o,e,n),o.s<0&&o.c&&(o.c[0]?r.indexOf("-")<0&&(r="-"+r):r=r.replace("-",""))):r=o.toString(),c.toExpNeg=u,c.toExpPos=l,r},S.toFormat=function(e,n){var r=this;if(!r.c)return r.toString();var t,i=r.s<0,o=r.constructor.format,s=o.groupSeparator,c=+o.groupSize,u=+o.secondaryGroupSize,l=r.toFixed(e,n).split("."),f=l[0],a=l[1],h=i?f.slice(1):f,g=h.length;if(u&&(t=c,c=u,g-=u=t),c>0&&g>0){for(t=g%c||c,f=h.substr(0,t);g>t;t+=c)f+=s+h.substr(t,c);u>0&&(f+=s+h.slice(t));i&&(f="-"+f)}return a?f+o.decimalSeparator+((u=+o.fractionGroupSize)?a.replace(new RegExp("\\d{"+u+"}\\B","g"),"$&"+o.fractionGroupSeparator):a):f},S.toFraction=function(e){var r,t,i,o,s,l,f,a,h=this,g=h.constructor,p=r=new g(g.ONE),d=l=new g(0),x=h.c,b=new g(d);if(!x)return h.toString();for(i=b.e=c(x)-h.e-1,b.c[0]=E(10,(f=i%y)<0?y+f:f),(null==e||(!(v=12,s=new g(e)).s||(m=s.cmp(p)<0||!s.c)||g.errors&&N(s.e/y)<s.c.length-1)&&!u(g,"max denominator",e,"toFraction",0)||(e=s).cmp(b)>0)&&(e=i>0?b:p),w=!1,s=new g(n(x)),f=g.precision,g.precision=i=x.length*y*2;a=P(s,b,0,1,1),t=r.plus(a.times(d)),1!=t.cmp(e);)r=d,d=t,p=l.plus(a.times(t=p)),l=t,b=s.minus(a.times(t=b)),s=t;return t=P(e.minus(r),d,0,1,1),l=l.plus(t.times(p)),r=r.plus(t.times(d)),l.s=p.s=h.s,o=P(p,d,i,1).minus(h).abs().cmp(P(l,r,i,1).minus(h).abs())<1?[p+"",d+""]:[l+"",r+""],w=!0,g.precision=f,o},S.toNearest=function(e,n){var r=this,i=r.constructor;return r=new i(r),null==e?(e=new i(i.ONE),n=i.rounding):(v=17,e=new i(e),n=t(r,n,"toNearest")),e.c?r.c&&(e.c[0]?(w=!1,r=P(r,e,0,4>n?[4,5,7,8][n]:n,1).times(e),w=!0,a(r)):r.c=[r.e=0]):r.s&&(e.s&&(e.s=r.s),r=e),r},S.toNumber=function(){var e=this;return+e||(e.s?0*e.s:NaN)},S.toPower=S.pow=function(e,t){var i,s,c,u,h=this,g=h.constructor,p=h.s,m=(v=13,+(e=new g(e,t))),d=0>m?-m:m,x=g.precision,b=g.rounding;if(!h.c||!e.c||(c=!h.c[0])||!e.c[0])return new g(E(c?0*p:+h,m));if(h=new g(h),i=h.c.length,!h.e&&h.c[0]==h.s&&1==i)return h;if(t=e.c.length-1,e.e||e.c[0]!=e.s||t)if(s=N(e.e/y),c=s>=t,!c&&0>p)u=new g(NaN);else{if(c&&F>i*y*d){if(u=l(g,h,d),e.s<0)return g.ONE.div(u)}else{if(p=0>p&&1&e.c[Math.max(s,t)]?-1:1,t=E(+h,m),s=0!=t&&isFinite(t)?new g(t+"").e:N(m*(Math.log("0."+n(h.c))/Math.LN10+h.e+1)),s>g.maxE+1||s<g.minE-1)return new g(s>0?p/0:0);w=!1;g.rounding=h.s=1;d=Math.min(12,(s+"").length);u=o(e.times(f(h,x+d)),x);u=a(u,x+5,1);r(u.c,x,b)&&(s=x+10,u=a(o(e.times(f(h,s+d)),s),s+5,1),+n(u.c).slice(x+1,x+15)+1==1e14&&(u=a(u,x+1,0)));u.s=p;w=!0;g.rounding=b}u=a(u,x,b)}else u=a(h,x,b);return u},S.toPrecision=function(e,n){var r=this;return null!=e&&i(r,e,"toPrecision",1)&&r.c?s(r,0|--e,t(r,n,"toPrecision"),2):r.toString()},S.toSignificantDigits=S.toSD=function(e,n){var r=this,o=r.constructor;return r=new o(r),null!=e&&i(r,e,"toSD",1)?a(r,0|e,t(r,n,"toSD")):a(r,o.precision,o.rounding)},S.toString=function(e){var r,t,i,o=this,c=o.constructor,l=o.e;if(null===l)t=o.s?"Infinity":"NaN";else{if(e===r&&(l<=c.toExpNeg||l>=c.toExpPos))return s(o,null,c.rounding,1);if(t=n(o.c),0>l){for(;++l;t="0"+t);t="0."+t}else if(i=t.length,l>0)if(++l>i)for(l-=i;l--;t+="0");else i>l&&(t=t.slice(0,l)+"."+t.slice(l));else if(r=t.charAt(0),i>1)t=r+"."+t.slice(1);else if("0"==r)return r;if(null!=e)if((m=!(e>=2&&65>e))||e!=(0|e)&&c.errors)u(c,"base",e,"toString",0);else if(t=h(c,t,0|e,10,o.s),"0"==t)return t}return o.s<0?"-"+t:t},S.truncated=S.trunc=function(){return a(new this.constructor(this),this.e+1,1)},S.valueOf=S.toJSON=function(){return this.toString()},h=function(){function e(e,n,r){for(var t,i,o=[0],s=0,c=e.length;c>s;){for(i=o.length;i--;o[i]*=n);for(o[t=0]+=O.indexOf(e.charAt(s++));t<o.length;t++)o[t]>r-1&&(null==o[t+1]&&(o[t+1]=0),o[t+1]+=o[t]/r|0,o[t]%=r)}return o.reverse()}return function(n,r,t,i,o){var s,c,u,f,a,h,g=r.indexOf("."),p=n.precision,m=n.rounding;for(37>i&&(r=r.toLowerCase()),g>=0&&(r=r.replace(".",""),h=new n(i),f=l(n,h,r.length-g),h.c=e(f.toFixed(),10,t),h.e=h.c.length),a=e(r,i,t),s=c=a.length;0==a[--c];a.pop());if(!a[0])return"0";if(0>g?s--:(f.c=a,f.e=s,f.s=o,f=P(f,h,p,m,0,t),a=f.c,u=f.r,s=f.e),g=a[p],c=t/2,u=u||null!=a[p+1],4>m?(null!=g||u)&&(0==m||m==(f.s<0?3:2)):g>c||g==c&&(4==m||u||6==m&&1&a[p-1]||m==(f.s<0?8:7)))for(a.length=p,--t;++a[--p]>t;)a[p]=0,p||(++s,a.unshift(1));else a.length=p;for(c=a.length;!a[--c];);for(g=0,r="";c>=g;r+=O.charAt(a[g++]));if(0>s){for(;++s;r="0"+r);r="0."+r}else if(g=r.length,++s>g)for(s-=g;s--;r+="0");else g>s&&(r=r.slice(0,s)+"."+r.slice(s));return r}}(),P=function(){function e(e,n,r){var t,i=0,o=e.length;for(e=e.slice();o--;)t=e[o]*n+i,e[o]=t%r|0,i=t/r|0;return i&&e.unshift(i),e}function n(e,n,r,t){var i,o;if(r!=t)o=r>t?1:-1;else for(i=o=0;r>i;i++)if(e[i]!=n[i]){o=e[i]>n[i]?1:-1;break}return o}function r(e,n,r,t){for(var i=0;r--;)e[r]-=i,i=e[r]<n[r]?1:0,e[r]=i*t+e[r]-n[r];for(;!e[0]&&e.length>1;e.shift());}return function(t,i,o,s,c,u){var l,f,h,g,p,m,d,w,v,E,x,O,S,D,A,F,M,P,R,q=t.constructor,L=t.s==i.s?1:-1,I=t.c,U=i.c;if(!(I&&I[0]&&U&&U[0]))return new q(t.s&&i.s&&(I?!U||I[0]!=U[0]:U)?I&&0==I[0]||!U?0*L:L/0:NaN);for(u?(g=1,f=t.e-i.e):(u=b,g=y,f=N(t.e/g)-N(i.e/g)),P=U.length,F=I.length,v=new q(L),E=v.c=[],h=0;U[h]==(I[h]||0);h++);if(U[h]>(I[h]||0)&&f--,null==o?(L=o=q.precision,s=q.rounding):L=c?o+(t.e-i.e)+1:o,0>L)E.push(1),p=!0;else{if(L=L/g+2|0,h=0,1==P){for(m=0,U=U[0],L++;(F>h||m)&&L--;h++)D=m*u+(I[h]||0),E[h]=D/U|0,m=D%U|0;p=m||F>h}else{for(m=u/(U[0]+1)|0,m>1&&(U=e(U,m,u),I=e(I,m,u),P=U.length,F=I.length),A=P,x=I.slice(0,P),O=x.length;P>O;x[O++]=0);R=U.slice();R.unshift(0);M=U[0];U[1]>=u/2&&M++;do m=0,l=n(U,x,P,O),0>l?(S=x[0],P!=O&&(S=S*u+(x[1]||0)),m=S/M|0,m>1?(m>=u&&(m=u-1),d=e(U,m,u),w=d.length,O=x.length,l=n(d,x,w,O),1==l&&(m--,r(d,w>P?R:U,w,u))):(0==m&&(l=m=1),d=U.slice()),w=d.length,O>w&&d.unshift(0),r(x,d,O,u),-1==l&&(O=x.length,l=n(U,x,P,O),1>l&&(m++,r(x,O>P?R:U,O,u))),O=x.length):0===l&&(m++,x=[0]),E[h++]=m,l&&x[0]?x[O++]=I[A]||0:(x=[I[A]],O=1);while((A++<F||null!=x[0])&&L--);p=null!=x[0]}E[0]||E.shift()}if(1==g)v.e=f,v.r=+p;else{for(h=1,L=E[0];L>=10;L/=10,h++);v.e=h+f*g-1;a(v,c?o+v.e+1:o,s,p)}return v}}(),g=function(){function e(e){var n,r,t,i=this,o="config",s=i.errors?parseInt:parseFloat;return e==r||"object"!=typeof e&&!u(i,"object expected",e,o)?i:((t=e[n="precision"])!=r&&((m=1>t||t>A)||s(t)!=t?u(i,n,t,o,0):i[n]=0|t),(t=e[n="rounding"])!=r&&((m=0>t||t>8)||s(t)!=t?u(i,n,t,o,0):i[n]=0|t),(t=e[n="toExpNeg"])!=r&&((m=-D>t||t>0)||s(t)!=t?u(i,n,t,o,0):i[n]=N(t)),(t=e[n="toExpPos"])!=r&&((m=0>t||t>D)||s(t)!=t?u(i,n,t,o,0):i[n]=N(t)),(t=e[n="minE"])!=r&&((m=-D>t||t>0)||s(t)!=t?u(i,n,t,o,0):i[n]=N(t)),(t=e[n="maxE"])!=r&&((m=0>t||t>D)||s(t)!=t?u(i,n,t,o,0):i[n]=N(t)),(t=e[n="errors"])!=r&&(t===!!t||1===t||0===t?(m=v=0,i[n]=!!t):u(i,n,t,o,1)),(t=e[n="crypto"])!=r&&(t===!!t||1===t||0===t?i[n]=!(!t||!d||"object"!=typeof d):u(i,n,t,o,1)),(t=e[n="modulo"])!=r&&((m=0>t||t>9)||s(t)!=t?u(i,n,t,o,0):i[n]=0|t),(e=e[n="format"])!=r&&("object"==typeof e?i[n]=e:u(i,"format object expected",e,o)),i)}function n(e){return new this(e).exp()}function r(e){return new this(e).ln()}function t(e,n){return new this(e).log(n)}function o(e,n,r){var t,i,o=0;for("[object Array]"==x.call(n[0])&&(n=n[0]),t=new e(n[0]);++o<n.length;){if(i=new e(n[o]),!i.s){t=i;break}t[r](i)&&(t=i)}return t}function s(){return o(this,arguments,"lt")}function c(){return o(this,arguments,"gt")}function l(e,n){return new this(e).pow(n)}function f(e){var n,r,t,o=0,s=[],c=this,l=new c(c.ONE);if(null!=e&&i(l,e,"random")?e|=0:e=c.precision,r=Math.ceil(e/y),c.crypto)if(d&&d.getRandomValues)for(n=d.getRandomValues(new Uint32Array(r));r>o;)t=n[o],t>=429e7?n[o]=d.getRandomValues(new Uint32Array(1))[0]:s[o++]=t%1e7;else if(d&&d.randomBytes){for(n=d.randomBytes(r*=4);r>o;)t=n[o]+(n[o+1]<<8)+(n[o+2]<<16)+((127&n[o+3])<<24),t>=214e7?d.randomBytes(4).copy(n,o):(s.push(t%1e7),o+=4);o=r/4}else u(c,"crypto unavailable",d,"random");if(!o)for(;r>o;)s[o++]=1e7*Math.random()|0;for(r=s[--o],e%=y,r&&e&&(t=E(10,y-e),s[o]=(r/t|0)*t);0===s[o];o--)s.pop();if(0>o)s=[r=0];else{for(r=-1;0===s[0];)s.shift(),r-=y;for(o=1,t=s[0];t>=10;)t/=10,o++;y>o&&(r-=y-o)}return l.e=r,l.c=s,l}function g(e){return new this(e).sqrt()}function p(i){function o(e,n){var r=this;if(!(r instanceof o))return u(o,"Decimal called without new",e),new o(e,n);if(r.constructor=o,e instanceof o){if(null==n)return v=0,r.s=e.s,r.e=e.e,r.c=(e=e.c)?e.slice():e,r;if(10==n)return a(new o(e),o.precision,o.rounding);e+=""}return b(o,r,e,n)}return o.precision=20,o.rounding=4,o.modulo=1,o.toExpNeg=-7,o.toExpPos=21,o.minE=-D,o.maxE=D,o.errors=!0,o.crypto=!1,o.format={decimalSeparator:".",groupSeparator:",",groupSize:3,secondaryGroupSize:0,fractionGroupSeparator:" ",fractionGroupSize:0},o.prototype=S,o.ONE=new o(1),o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.EUCLID=9,o.config=e,o.constructor=p,o.exp=n,o.ln=r,o.log=t,o.max=s,o.min=c,o.pow=l,o.sqrt=g,o.random=f,null!=i&&o.config(i),o}var b=function(){var e=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,n=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")};return function(r,t,i,o){var s,c,l,f,g,p;if("string"!=typeof i&&(i=(f="number"==typeof i||"[object Number]"==x.call(i))&&0===i&&0>1/i?"-0":i+""),g=i,null==o&&e.test(i))t.s=45===i.charCodeAt(0)?(i=i.slice(1),-1):1;else{if(10==o)return a(new r(i),r.precision,r.rounding);if(i=n.call(i).replace(/^\+(?!-)/,""),t.s=45===i.charCodeAt(0)?(i=i.replace(/^-(?!-)/,""),-1):1,null!=o?o!=(0|o)&&r.errors||(m=!(o>=2&&65>o))?(u(r,"base",o,0,0),p=e.test(i)):(s="["+O.slice(0,o=0|o)+"]+",i=i.replace(/\.$/,"").replace(/^\./,"0."),(p=new RegExp("^"+s+"(?:\\."+s+")?$",37>o?"i":"").test(i))?(f&&(i.replace(/^0\.0*|\./,"").length>15&&u(r,0,g),f=!f),i=h(r,i,10,o,t.s)):"Infinity"!=i&&"NaN"!=i&&(u(r,"not a base "+o+" number",g),i="NaN")):p=e.test(i),!p)return t.c=t.e=null,"Infinity"!=i&&("NaN"!=i&&u(r,"not a number",g),t.s=null),v=0,t}for((c=i.indexOf("."))>-1&&(i=i.replace(".","")),(l=i.search(/e/i))>0?(0>c&&(c=l),c+=+i.slice(l+1),i=i.substring(0,l)):0>c&&(c=i.length),l=0;48===i.charCodeAt(l);l++);for(o=i.length;48===i.charCodeAt(--o););if(i=i.slice(l,o+1)){if(o=i.length,f&&o>15&&u(r,0,g),t.e=c=c-l-1,t.c=[],l=(c+1)%y,0>c&&(l+=y),o>l){for(l&&t.c.push(+i.slice(0,l)),o-=y;o>l;)t.c.push(+i.slice(l,l+=y));i=i.slice(l);l=y-i.length}else l-=o;for(;l--;i+="0");t.c.push(+i);w&&(t.e>r.maxE?t.c=t.e=null:t.e<r.minE&&(t.c=[t.e=0]))}else t.c=[t.e=0];return v=0,t}}();return p()}(),Bridge.$Decimal=g,"function"==typeof define&&define.amd)define(function(){return g});else if("undefined"!=typeof module&&module.exports){if(module.exports=g,!d)try{d=require("crypto")}catch(R){}}else p=e.Decimal,g.noConflict=function(){return e.Decimal=p,g}}(Bridge.global);Bridge.Decimal=function(v,provider){if(this.constructor!==Bridge.Decimal)return new Bridge.Decimal(v);if(typeof v=="string"){provider=provider||Bridge.CultureInfo.getCurrentCulture();var nfInfo=provider&&provider.getFormat(Bridge.NumberFormatInfo);if(nfInfo&&nfInfo.numberDecimalSeparator!=="."&&(v=v.replace(nfInfo.numberDecimalSeparator,".")),!/^\s*[+-]?(\d+|\d*\.\d+)(e|E[+-]?\d+)?\s*$/.test(v))throw new Bridge.FormatException;v=v.replace(/\s/g,"")}this.value=Bridge.Decimal.getValue(v)};Bridge.Decimal.$$name="Bridge.Decimal";Bridge.Decimal.prototype.$$name="Bridge.Decimal";Bridge.Decimal.$$inherits=[];Bridge.Class.addExtend(Bridge.Decimal,[Bridge.IComparable,Bridge.IFormattable,Bridge.IComparable$1(Bridge.Decimal),Bridge.IEquatable$1(Bridge.Decimal)]);Bridge.Decimal.getDefaultValue=function(){return new Bridge.Decimal(0)};Bridge.Decimal.getValue=function(d){return Bridge.hasValue(d)?d instanceof Bridge.Decimal?d.value:new Bridge.$Decimal(d):null};Bridge.Decimal.create=function(d){return Bridge.hasValue(d)?d instanceof Bridge.Decimal?d:new Bridge.Decimal(d):null};Bridge.Decimal.lift=function(d){return d==null?null:Bridge.Decimal.create(d)};Bridge.Decimal.prototype.toString=function(format,provider){return!format&&!provider?this.value.toString():Bridge.Int.format(this.toFloat(),format,provider)};Bridge.Decimal.prototype.toFloat=function(){return this.value.toNumber()};Bridge.Decimal.prototype.format=function(format,provider){return Bridge.Int.format(this.toFloat(),format,provider)};Bridge.Decimal.prototype.decimalPlaces=function(){return this.value.decimalPlaces()};Bridge.Decimal.prototype.dividedToIntegerBy=function(d){return new Bridge.Decimal(this.value.dividedToIntegerBy(Bridge.Decimal.getValue(d)))};Bridge.Decimal.prototype.exponential=function(){return new Bridge.Decimal(this.value.exponential())};Bridge.Decimal.prototype.abs=function(){return new Bridge.Decimal(this.value.abs())};Bridge.Decimal.prototype.floor=function(){return new Bridge.Decimal(this.value.floor())};Bridge.Decimal.prototype.ceil=function(){return new Bridge.Decimal(this.value.ceil())};Bridge.Decimal.prototype.trunc=function(){return new Bridge.Decimal(this.value.trunc())};Bridge.Decimal.round=function(obj,mode){var old,d;return obj=Bridge.Decimal.create(obj),old=Bridge.$Decimal.rounding,Bridge.$Decimal.rounding=mode,d=new Bridge.Decimal(obj.value.round()),Bridge.$Decimal.rounding=old,d};Bridge.Decimal.toDecimalPlaces=function(obj,decimals,mode){obj=Bridge.Decimal.create(obj);return new Bridge.Decimal(obj.value.toDecimalPlaces(decimals,mode))};Bridge.Decimal.prototype.compareTo=function(another){return this.value.comparedTo(Bridge.Decimal.getValue(another))};Bridge.Decimal.prototype.add=function(another){return new Bridge.Decimal(this.value.plus(Bridge.Decimal.getValue(another)))};Bridge.Decimal.prototype.sub=function(another){return new Bridge.Decimal(this.value.minus(Bridge.Decimal.getValue(another)))};Bridge.Decimal.prototype.isZero=function(){return this.value.isZero};Bridge.Decimal.prototype.mul=function(another){return new Bridge.Decimal(this.value.times(Bridge.Decimal.getValue(another)))};Bridge.Decimal.prototype.div=function(another){return new Bridge.Decimal(this.value.dividedBy(Bridge.Decimal.getValue(another)))};Bridge.Decimal.prototype.mod=function(another){return new Bridge.Decimal(this.value.modulo(Bridge.Decimal.getValue(another)))};Bridge.Decimal.prototype.neg=function(){return new Bridge.Decimal(this.value.negated())};Bridge.Decimal.prototype.inc=function(){return new Bridge.Decimal(this.value.plus(Bridge.Decimal.getValue(1)))};Bridge.Decimal.prototype.dec=function(){return new Bridge.Decimal(this.value.minus(Bridge.Decimal.getValue(1)))};Bridge.Decimal.prototype.sign=function(){return this.value.isZero()?0:this.value.isNegative()?-1:1};Bridge.Decimal.prototype.clone=function(){return new Bridge.Decimal(this)};Bridge.Decimal.prototype.ne=function(v){return!!this.compareTo(v)};Bridge.Decimal.prototype.lt=function(v){return this.compareTo(v)<0};Bridge.Decimal.prototype.lte=function(v){return this.compareTo(v)<=0};Bridge.Decimal.prototype.gt=function(v){return this.compareTo(v)>0};Bridge.Decimal.prototype.gte=function(v){return this.compareTo(v)>=0};Bridge.Decimal.prototype.equals=function(v){return!this.compareTo(v)};Bridge.Decimal.prototype.equalsT=function(v){return!this.compareTo(v)};Bridge.Decimal.prototype.getHashCode=function(){for(var n=this.sign()*397+this.value.e|0,i=0;i<this.value.c.length;i++)n=n*397+this.value.c[i]|0;return n};Bridge.Decimal.toInt=function(v){if(!v)return null;var i=Bridge.Int.trunc(Bridge.Decimal.getValue(v).toNumber());if(!Bridge.Int.instanceOf(i))throw new Bridge.OverflowException;return i};Bridge.Decimal.tryParse=function(s,provider,v){try{return v.v=new Bridge.Decimal(s,provider),!0}catch(e){return v.v=new Bridge.Decimal(0),!1}};Bridge.Decimal.toFloat=function(v){return v?Bridge.Decimal.getValue(v).toNumber():null};Bridge.Decimal.setConfig=function(config){Bridge.$Decimal.config(config)};Bridge.Decimal.min=function(){for(var values=[],i=0,len=arguments.length;i<len;i++)values.push(Bridge.Decimal.getValue(arguments[i]));return new Bridge.Decimal(Bridge.$Decimal.min.apply(Bridge.$Decimal,values))};Bridge.Decimal.max=function(){for(var values=[],i=0,len=arguments.length;i<len;i++)values.push(Bridge.Decimal.getValue(arguments[i]));return new Bridge.Decimal(Bridge.$Decimal.max.apply(Bridge.$Decimal,values))};Bridge.Decimal.random=function(dp){return new Bridge.Decimal(Bridge.$Decimal.random(dp))};Bridge.Decimal.exp=function(d){return new Bridge.Decimal(Bridge.Decimal.getValue(d).exp())};Bridge.Decimal.exp=function(d){return new Bridge.Decimal(Bridge.Decimal.getValue(d).exp())};Bridge.Decimal.ln=function(d){return new Bridge.Decimal(Bridge.Decimal.getValue(d).ln())};Bridge.Decimal.log=function(d,logBase){return new Bridge.Decimal(Bridge.Decimal.getValue(d).log(logBase))};Bridge.Decimal.pow=function(d,exponent){return new Bridge.Decimal(Bridge.Decimal.getValue(d).pow(exponent))};Bridge.Decimal.sqrt=function(d){return new Bridge.Decimal(Bridge.Decimal.getValue(d).sqrt())};Bridge.Decimal.prototype.isFinite=function(){return this.value.isFinite()};Bridge.Decimal.prototype.isInteger=function(){return this.value.isInteger()};Bridge.Decimal.prototype.isNaN=function(){return this.value.isNaN()};Bridge.Decimal.prototype.isNegative=function(){return this.value.isNegative()};Bridge.Decimal.prototype.isZero=function(){return this.value.isZero()};Bridge.Decimal.prototype.log=function(logBase){return new Bridge.Decimal(this.value.log(logBase))};Bridge.Decimal.prototype.ln=function(){return new Bridge.Decimal(this.value.ln())};Bridge.Decimal.prototype.precision=function(){return this.value.precision()};Bridge.Decimal.prototype.round=function(){var old=Bridge.$Decimal.rounding,r;return Bridge.$Decimal.rounding=6,r=new Bridge.Decimal(this.value.round()),Bridge.$Decimal.rounding=old,r};Bridge.Decimal.prototype.sqrt=function(){return new Bridge.Decimal(this.value.sqrt())};Bridge.Decimal.prototype.toDecimalPlaces=function(dp,rm){return new Bridge.Decimal(this.value.toDecimalPlaces(dp,rm))};Bridge.Decimal.prototype.toExponential=function(dp,rm){return this.value.toExponential(dp,rm)};Bridge.Decimal.prototype.toFixed=function(dp,rm){return this.value.toFixed(dp,rm)};Bridge.Decimal.prototype.pow=function(n){return new Bridge.Decimal(this.value.pow(n))};Bridge.Decimal.prototype.toPrecision=function(dp,rm){return this.value.toPrecision(dp,rm)};Bridge.Decimal.prototype.toSignificantDigits=function(dp,rm){return new Bridge.Decimal(this.value.toSignificantDigits(dp,rm))};Bridge.Decimal.prototype.valueOf=function(){return this.value.valueOf()};Bridge.Decimal.prototype.toFormat=function(dp,rm,provider){var old=Bridge.$Decimal.format,d,oldConfig,nfInfo;return provider&&!provider.getFormat?(oldConfig=Bridge.merge({},old||{}),Bridge.$Decimal.format=Bridge.merge(oldConfig,provider),d=this.value.toFormat(dp,rm)):(provider=provider||Bridge.CultureInfo.getCurrentCulture(),nfInfo=provider&&provider.getFormat(Bridge.NumberFormatInfo),nfInfo&&(Bridge.$Decimal.format.decimalSeparator=nfInfo.numberDecimalSeparator,Bridge.$Decimal.format.groupSeparator=nfInfo.numberGroupSeparator,Bridge.$Decimal.format.groupSize=nfInfo.numberGroupSizes[0]),d=this.value.toFormat(dp,rm)),Bridge.$Decimal.format=old,d};Bridge.$Decimal.config({precision:29});Bridge.Decimal.Zero=Bridge.Decimal(0);Bridge.Decimal.One=Bridge.Decimal(1);Bridge.Decimal.MinusOne=Bridge.Decimal(-1);Bridge.Decimal.MinValue=Bridge.Decimal("-79228162514264337593543950335");Bridge.Decimal.MaxValue=Bridge.Decimal("79228162514264337593543950335");date={utcNow:function(){var d=new Date;return new Date(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate(),d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds())},today:function(){var d=new Date;return new Date(d.getFullYear(),d.getMonth(),d.getDate())},timeOfDay:function(dt){return new Bridge.TimeSpan((dt-new Date(dt.getFullYear(),dt.getMonth(),dt.getDate()))*1e4)},isUseGenitiveForm:function(format,index,tokenLen,patternToMatch){for(var repeat=0,i=index-1;i>=0&&format[i]!==patternToMatch;i--);if(i>=0){while(--i>=0&&format[i]===patternToMatch)repeat++;if(repeat<=1)return!0}for(i=index+tokenLen;i<format.length&&format[i]!==patternToMatch;i++);if(i<format.length){for(repeat=0;++i<format.length&&format[i]===patternToMatch;)repeat++;if(repeat<=1)return!0}return!1},format:function(date,format,provider){var me=this,df=(provider||Bridge.CultureInfo.getCurrentCulture()).getFormat(Bridge.DateTimeFormatInfo),year=date.getFullYear(),month=date.getMonth(),dayOfMonth=date.getDate(),dayOfWeek=date.getDay(),hour=date.getHours(),minute=date.getMinutes(),second=date.getSeconds(),millisecond=date.getMilliseconds(),timezoneOffset=date.getTimezoneOffset(),formats;return format=format||"G",format.length===1?(formats=df.getAllDateTimePatterns(format,!0),format=formats?formats[0]:format):format.length===2&&format.charAt(0)==="%"&&(format=format.charAt(1)),format.replace(/(\\.|'[^']*'|"[^"]*"|d{1,4}|M{1,4}|yyyy|yy|y|HH?|hh?|mm?|ss?|tt?|f{1,3}|z{1,3}|\:|\/)/g,function(match,group,index){var part=match;switch(match){case"dddd":part=df.dayNames[dayOfWeek];break;case"ddd":part=df.abbreviatedDayNames[dayOfWeek];break;case"dd":part=dayOfMonth<10?"0"+dayOfMonth:dayOfMonth;break;case"d":part=dayOfMonth;break;case"MMMM":part=me.isUseGenitiveForm(format,index,4,"d")?df.monthGenitiveNames[month]:df.monthNames[month];break;case"MMM":part=me.isUseGenitiveForm(format,index,3,"d")?df.abbreviatedMonthGenitiveNames[month]:df.abbreviatedMonthNames[month];break;case"MM":part=month+1<10?"0"+(month+1):month+1;break;case"M":part=month+1;break;case"yyyy":part=year;break;case"yy":part=(year%100).toString();part.length===1&&(part="0"+part);break;case"y":part=year%100;break;case"h":case"hh":part=hour%12;part?match==="hh"&&part.length===1&&(part="0"+part):part="12";break;case"HH":part=hour.toString();part.length===1&&(part="0"+part);break;case"H":part=hour;break;case"mm":part=minute.toString();part.length===1&&(part="0"+part);break;case"m":part=minute;break;case"ss":part=second.toString();part.length===1&&(part="0"+part);break;case"s":part=second;break;case"t":case"tt":part=hour<12?df.amDesignator:df.pmDesignator;match==="t"&&(part=part.charAt(0));break;case"f":case"ff":case"fff":part=millisecond.toString();part.length<3&&(part=Array(3-part.length).join("0")+part);match==="ff"?part=part.substr(0,2):match==="f"&&(part=part.charAt(0));break;case"z":part=timezoneOffset/60;part=(part>=0?"-":"+")+Math.floor(Math.abs(part));break;case"zz":case"zzz":part=timezoneOffset/60;part=(part>=0?"-":"+")+Bridge.String.alignString(Math.floor(Math.abs(part)).toString(),2,"0",2);match==="zzz"&&(part+=df.timeSeparator+Bridge.String.alignString(Math.floor(Math.abs(timezoneOffset%60)).toString(),2,"0",2));break;case":":part=df.timeSeparator;break;case"/":part=df.dateSeparator;break;default:part=match.substr(1,match.length-1-(match.charAt(0)!=="\\"))}return part})},parse:function(value,provider,utc,silent){var dt=this.parseExact(value,null,provider,utc,!0);if(dt!==null)return dt;if(dt=Date.parse(value),isNaN(dt)){if(!silent)throw new Bridge.FormatException("String does not contain a valid string representation of a date and time.");}else return new Date(dt)},parseExact:function(str,format,provider,utc,silent){var j,d;if(format||(format=["G","g","F","f","D","d","R","r","s","S","U","u","O","o","Y","y","M","m","T","t"]),Bridge.isArray(format)){for(j=0,j;j<format.length;j++)if(d=Bridge.Date.parseExact(str,format[j],provider,utc,!0),d!=null)return d;if(silent)return null;throw new Bridge.FormatException("String does not contain a valid string representation of a date and time.");}var df=(provider||Bridge.CultureInfo.getCurrentCulture()).getFormat(Bridge.DateTimeFormatInfo),am=df.amDesignator,pm=df.pmDesignator,idx=0,index=0,i=0,c,token,year=0,month=1,date=1,hh=0,mm=0,ss=0,ff=0,tt="",zzh=0,zzm=0,zzi,sign,neg,names,name,invalid=!1,inQuotes=!1,tokenMatched,formats;if(str==null)throw new Bridge.ArgumentNullException("str");for(format=format||"G",format.length===1?(formats=df.getAllDateTimePatterns(format,!0),format=formats?formats[0]:format):format.length===2&&format.charAt(0)==="%"&&(format=format.charAt(1));index<format.length;){if(c=format.charAt(index),token="",inQuotes==="\\")token+=c,index++;else while(format.charAt(index)===c&&index<format.length)token+=c,index++;if(tokenMatched=!0,!inQuotes)if(token==="yyyy"||token==="yy"||token==="y"){if(token==="yyyy"?year=this.subparseInt(str,idx,4,4):token==="yy"?year=this.subparseInt(str,idx,2,2):token==="y"&&(year=this.subparseInt(str,idx,2,4)),year==null){invalid=!0;break}idx+=year.length;year.length===2&&(year=~~year,year=(year>30?1900:2e3)+year)}else if(token==="MMM"||token==="MMMM"){for(month=0,names=token==="MMM"?this.isUseGenitiveForm(format,index,3,"d")?df.abbreviatedMonthGenitiveNames:df.abbreviatedMonthNames:this.isUseGenitiveForm(format,index,4,"d")?df.monthGenitiveNames:df.monthNames,i=0;i<names.length;i++)if(name=names[i],str.substring(idx,idx+name.length).toLowerCase()===name.toLowerCase()){month=i%12+1;idx+=name.length;break}if(month<1||month>12){invalid=!0;break}}else if(token==="MM"||token==="M"){if(month=this.subparseInt(str,idx,token.length,2),month==null||month<1||month>12){invalid=!0;break}idx+=month.length}else if(token==="dddd"||token==="ddd"){for(names=token==="ddd"?df.abbreviatedDayNames:df.dayNames,i=0;i<names.length;i++)if(name=names[i],str.substring(idx,idx+name.length).toLowerCase()===name.toLowerCase()){idx+=name.length;break}}else if(token==="dd"||token==="d"){if(date=this.subparseInt(str,idx,token.length,2),date==null||date<1||date>31){invalid=!0;break}idx+=date.length}else if(token==="hh"||token==="h"){if(hh=this.subparseInt(str,idx,token.length,2),hh==null||hh<1||hh>12){invalid=!0;break}idx+=hh.length}else if(token==="HH"||token==="H"){if(hh=this.subparseInt(str,idx,token.length,2),hh==null||hh<0||hh>23){invalid=!0;break}idx+=hh.length}else if(token==="mm"||token==="m"){if(mm=this.subparseInt(str,idx,token.length,2),mm==null||mm<0||mm>59)return null;idx+=mm.length}else if(token==="ss"||token==="s"){if(ss=this.subparseInt(str,idx,token.length,2),ss==null||ss<0||ss>59){invalid=!0;break}idx+=ss.length}else if(token==="u"){if(ff=this.subparseInt(str,idx,1,7),ff==null){invalid=!0;break}idx+=ff.length;ff.length>3&&(ff=ff.substring(0,3))}else if(token==="fffffff"||token==="ffffff"||token==="fffff"||token==="ffff"||token==="fff"||token==="ff"||token==="f"){if(ff=this.subparseInt(str,idx,token.length,7),ff==null){invalid=!0;break}idx+=ff.length;ff.length>3&&(ff=ff.substring(0,3))}else if(token==="t"){if(str.substring(idx,idx+1).toLowerCase()===am.charAt(0).toLowerCase())tt=am;else if(str.substring(idx,idx+1).toLowerCase()===pm.charAt(0).toLowerCase())tt=pm;else{invalid=!0;break}idx+=1}else if(token==="tt"){if(str.substring(idx,idx+2).toLowerCase()===am.toLowerCase())tt=am;else if(str.substring(idx,idx+2).toLowerCase()===pm.toLowerCase())tt=pm;else{invalid=!0;break}idx+=2}else if(token==="z"||token==="zz"){if(sign=str.charAt(idx),sign==="-")neg=!0;else if(sign==="+")neg=!1;else{invalid=!0;break}if(idx++,zzh=this.subparseInt(str,idx,1,2),zzh==null||zzh>14){invalid=!0;break}idx+=zzh.length;neg&&(zzh=-zzh)}else if(token==="zzz"){if(name=str.substring(idx,idx+6),idx+=6,name.length!==6){invalid=!0;break}if(sign=name.charAt(0),sign==="-")neg=!0;else if(sign==="+")neg=!1;else{invalid=!0;break}if(zzi=1,zzh=this.subparseInt(name,zzi,1,2),zzh==null||zzh>14){invalid=!0;break}if(zzi+=zzh.length,neg&&(zzh=-zzh),name.charAt(zzi)!==df.timeSeparator){invalid=!0;break}if(zzi++,zzm=this.subparseInt(name,zzi,1,2),zzm==null||zzh>59){invalid=!0;break}}else tokenMatched=!1;if(inQuotes||!tokenMatched){if(name=str.substring(idx,idx+token.length),!inQuotes&&(token===":"&&name!==df.timeSeparator||token==="/"&&name!==df.dateSeparator)||name!==token&&token!=="'"&&token!=='"'&&token!=="\\"){invalid=!0;break}if(inQuotes==="\\"&&(inQuotes=!1),token!=="'"&&token!=='"'&&token!=="\\")idx+=token.length;else if(inQuotes===!1)inQuotes=token;else{if(inQuotes!==token){invalid=!0;break}inQuotes=!1}}}if(inQuotes&&(invalid=!0),invalid||(idx!==str.length?invalid=!0:month===2?year%4==0&&year%100!=0||year%400==0?date>29&&(invalid=!0):date>28&&(invalid=!0):(month===4||month===6||month===9||month===11)&&date>30&&(invalid=!0)),invalid){if(silent)return null;throw new Bridge.FormatException("String does not contain a valid string representation of a date and time.");}return(hh<12&&tt===pm?hh=+hh+12:hh>11&&tt===am&&(hh-=12),zzh===0&&zzm===0&&!utc)?new Date(year,month-1,date,hh,mm,ss,ff):new Date(Date.UTC(year,month-1,date,hh-zzh,mm-zzm,ss,ff))},subparseInt:function(str,index,min,max){for(var token,x=max;x>=min;x--){if(token=str.substring(index,index+x),token.length<min)return null;if(/^\d+$/.test(token))return token}return null},tryParse:function(value,provider,result,utc){return(result.v=this.parse(value,provider,utc,!0),result.v==null)?(result.v=new Date(-864e13),!1):!0},tryParseExact:function(value,format,provider,result,utc){return(result.v=this.parseExact(value,format,provider,utc,!0),result.v==null)?(result.v=new Date(-864e13),!1):!0},isDaylightSavingTime:function(dt){var temp=Bridge.Date.today();return temp.setMonth(0),temp.setDate(1),temp.getTimezoneOffset()!==dt.getTimezoneOffset()},toUTC:function(date){return new Date(date.getUTCFullYear(),date.getUTCMonth(),date.getUTCDate(),date.getUTCHours(),date.getUTCMinutes(),date.getUTCSeconds(),date.getUTCMilliseconds())},toLocal:function(date){return new Date(Date.UTC(date.getFullYear(),date.getMonth(),date.getDate(),date.getHours(),date.getMinutes(),date.getSeconds(),date.getMilliseconds()))}};Bridge.Date=date;Bridge.define("Bridge.TimeSpan",{inherits:[Bridge.IComparable],statics:{fromDays:function(value){return new Bridge.TimeSpan(value*864e9)},fromHours:function(value){return new Bridge.TimeSpan(value*36e9)},fromMilliseconds:function(value){return new Bridge.TimeSpan(value*1e4)},fromMinutes:function(value){return new Bridge.TimeSpan(value*6e8)},fromSeconds:function(value){return new Bridge.TimeSpan(value*1e7)},fromTicks:function(value){return new Bridge.TimeSpan(value)},constructor:function(){this.zero=new Bridge.TimeSpan(0);this.maxValue=new Bridge.TimeSpan(864e13);this.minValue=new Bridge.TimeSpan(-864e13)},getDefaultValue:function(){return new Bridge.TimeSpan(0)}},constructor:function(){this.ticks=0;arguments.length===1?this.ticks=arguments[0]:arguments.length===3?this.ticks=((arguments[0]*60+arguments[1])*60+arguments[2])*1e7:arguments.length===4?this.ticks=(((arguments[0]*24+arguments[1])*60+arguments[2])*60+arguments[3])*1e7:arguments.length===5&&(this.ticks=((((arguments[0]*24+arguments[1])*60+arguments[2])*60+arguments[3])*1e3+arguments[4])*1e4)},getTicks:function(){return this.ticks},getDays:function(){return this.ticks/864e9|0},getHours:function(){return this.ticks/36e9%24|0},getMilliseconds:function(){return this.ticks/1e4%1e3|0},getMinutes:function(){return this.ticks/6e8%60|0},getSeconds:function(){return this.ticks/1e7%60|0},getTotalDays:function(){return this.ticks/864e9},getTotalHours:function(){return this.ticks/36e9},getTotalMilliseconds:function(){return this.ticks/1e4},getTotalMinutes:function(){return this.ticks/6e8},getTotalSeconds:function(){return this.ticks/1e7},get12HourHour:function(){return this.getHours()>12?this.getHours()-12:this.getHours()===0?12:this.getHours()},add:function(ts){return new Bridge.TimeSpan(this.ticks+ts.ticks)},subtract:function(ts){return new Bridge.TimeSpan(this.ticks-ts.ticks)},duration:function(){return new Bridge.TimeSpan(Math.abs(this.ticks))},negate:function(){return new Bridge.TimeSpan(-this.ticks)},compareTo:function(other){return this.ticks<other.ticks?-1:this.ticks>other.ticks?1:0},equals:function(other){return other.ticks===this.ticks},format:function(formatStr,provider){return this.toString(formatStr,provider)},toString:function(formatStr,provider){var ticks=this.ticks,result="",me=this,dtInfo=(provider||Bridge.CultureInfo.getCurrentCulture()).getFormat(Bridge.DateTimeFormatInfo),format=function(t,n){return Bridge.String.alignString((t|0).toString(),n||2,"0",2)};return formatStr?formatStr.replace(/dd?|HH?|hh?|mm?|ss?|tt?/g,function(formatStr){switch(formatStr){case"d":return me.getDays();case"dd":return format(me.getDays());case"H":return me.getHours();case"HH":return format(me.getHours());case"h":return me.get12HourHour();case"hh":return format(me.get12HourHour());case"m":return me.getMinutes();case"mm":return format(me.getMinutes());case"s":return me.getSeconds();case"ss":return format(me.getSeconds());case"t":return(me.getHours()<12?dtInfo.amDesignator:dtInfo.pmDesignator).substring(0,1);case"tt":return me.getHours()<12?dtInfo.amDesignator:dtInfo.pmDesignator}}):(Math.abs(ticks)>=864e9&&(result+=format(ticks/864e9)+".",ticks%=864e9),result+=format(ticks/36e9)+":",ticks%=36e9,result+=format(ticks/6e8|0)+":",ticks%=6e8,result+=format(ticks/1e7),ticks%=1e7,ticks>0&&(result+="."+format(ticks,7)),result)}});Bridge.Class.addExtend(Bridge.TimeSpan,[Bridge.IComparable$1(Bridge.TimeSpan),Bridge.IEquatable$1(Bridge.TimeSpan)]);Bridge.define("Bridge.Text.StringBuilder",{constructor:function(){this.buffer=[];this.capacity=16;arguments.length===1?this.append(arguments[0]):arguments.length===2?(this.append(arguments[0]),this.setCapacity(arguments[1])):arguments.length===3&&this.append(arguments[0],arguments[1],arguments[2])},getLength:function(){if(this.buffer.length<2)return this.buffer[0]?this.buffer[0].length:0;var s=this.buffer.join("");return this.buffer=[],this.buffer[0]=s,s.length},getCapacity:function(){var length=this.getLength();return this.capacity>length?this.capacity:length},setCapacity:function(value){var length=this.getLength();value>length&&(this.capacity=value)},toString:function(){var s=this.buffer.join(""),startIndex,length;return(this.buffer=[],this.buffer[0]=s,arguments.length===2)?(startIndex=arguments[0],length=arguments[1],this.checkLimits(s,startIndex,length),s.substr(startIndex,length)):s},append:function(value){var startIndex,count;if(value==null)return this;if(arguments.length===2){if(count=arguments[1],count===0)return this;if(count<0)throw new Bridge.ArgumentOutOfRangeException("count","cannot be less than zero");value=Array(count+1).join(value).toString()}else if(arguments.length===3){if(startIndex=arguments[1],count=arguments[2],count===0)return this;this.checkLimits(value,startIndex,count);value=value.substr(startIndex,count)}return this.buffer[this.buffer.length]=value,this},appendFormat:function(){return this.append(Bridge.String.format.apply(Bridge.String,arguments))},clear:function(){return this.buffer=[],this},appendLine:function(){return arguments.length===1&&this.append(arguments[0]),this.append("\r\n")},equals:function(sb){return sb==null?!1:sb===this?!0:this.toString()===sb.toString()},remove:function(startIndex,length){var s=this.buffer.join("");return(this.checkLimits(s,startIndex,length),s.length===length&&startIndex===0)?this.clear():(length>0&&(this.buffer=[],this.buffer[0]=s.substring(0,startIndex),this.buffer[1]=s.substring(startIndex+length,s.length)),this)},insert:function(index,value){var count,s;if(value==null)return this;if(arguments.length===3){if(count=arguments[2],count===0)return this;if(count<0)throw new Bridge.ArgumentOutOfRangeException("count","cannot be less than zero");value=Array(count+1).join(value).toString()}return s=this.buffer.join(""),this.buffer=[],index<1?(this.buffer[0]=value,this.buffer[1]=s):index>=s.length?(this.buffer[0]=s,this.buffer[1]=value):(this.buffer[0]=s.substring(0,index),this.buffer[1]=value,this.buffer[2]=s.substring(index,s.length)),this},replace:function(oldValue,newValue){var r=new RegExp(oldValue,"g"),s=this.buffer.join("");if(this.buffer=[],arguments.length===4){var startIndex=arguments[2],count=arguments[3],b=s.substr(startIndex,count);this.checkLimits(s,startIndex,count);this.buffer[0]=s.substring(0,startIndex);this.buffer[1]=b.replace(r,newValue);this.buffer[2]=s.substring(startIndex+count,s.length)}else this.buffer[0]=s.replace(r,newValue);return this},checkLimits:function(value,startIndex,length){if(length<0)throw new Bridge.ArgumentOutOfRangeException("length","must be non-negative");if(startIndex<0)throw new Bridge.ArgumentOutOfRangeException("startIndex","startIndex cannot be less than zero");if(length>value.length-startIndex)throw new Bridge.ArgumentOutOfRangeException("Index and length must refer to a location within the string");}}),function(){var regex=RegExp("[-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]","g"),regexpEscape=function(s){return s.replace(regex,"\\$&")};Bridge.regexpEscape=regexpEscape}();array={toIndex:function(arr,indices){if(indices.length!==(arr.$s?arr.$s.length:1))throw new Bridge.ArgumentException("Invalid number of indices");if(indices[0]<0||indices[0]>=(arr.$s?arr.$s[0]:arr.length))throw new Bridge.ArgumentException("Index 0 out of range");var idx=indices[0],i;if(arr.$s)for(i=1;i<arr.$s.length;i++){if(indices[i]<0||indices[i]>=arr.$s[i])throw new Bridge.ArgumentException("Index "+i+" out of range");idx=idx*arr.$s[i]+indices[i]}return idx},$get:function(indices){var r=this[Bridge.Array.toIndex(this,indices)];return typeof r!="undefined"?r:this.$v},get:function(arr){var r=arr[Bridge.Array.toIndex(arr,Array.prototype.slice.call(arguments,1))];return typeof r!="undefined"?r:arr.$v},$set:function(indices,value){this[Bridge.Array.toIndex(this,Array.prototype.slice.call(indices,0))]=value},set:function(arr,value){var indices=Array.prototype.slice.call(arguments,2);arr[Bridge.Array.toIndex(arr,indices)]=value},getLength:function(arr,dimension){if(dimension>=(arr.$s?arr.$s.length:1))throw new Bridge.ArgumentException("Invalid dimension");return arr.$s?arr.$s[dimension]:arr.length},getRank:function(arr){return arr.$s?arr.$s.length:1},getLower:function(){return 0},create:function(defvalue,initValues){var arr=[],length=arguments.length>2?1:0,i,s,v,idx,indices,flatIdx;for(arr.$v=defvalue,arr.$s=[],arr.get=Bridge.Array.$get,arr.set=Bridge.Array.$set,i=2;i<arguments.length;i++)length*=arguments[i],arr.$s[i-2]=arguments[i];if(arr.length=length,initValues)for(i=0;i<arr.length;i++){for(indices=[],flatIdx=i,s=arr.$s.length-1;s>=0;s--)idx=flatIdx%arr.$s[s],indices.unshift(idx),flatIdx=Bridge.Int.div(flatIdx-idx,arr.$s[s]);for(v=initValues,idx=0;idx<indices.length;idx++)v=v[indices[idx]];arr[i]=v}return arr},init:function(size,value){for(var arr=new Array(size),isFn=Bridge.isFunction(value),i=0;i<size;i++)arr[i]=isFn?value():value;return arr},toEnumerable:function(array){return new Bridge.ArrayEnumerable(array)},toEnumerator:function(array){return new Bridge.ArrayEnumerator(array)},is:function(obj,type){return obj instanceof Bridge.ArrayEnumerator?obj.constructor===type||obj instanceof type||type===Bridge.ArrayEnumerator||type.$$name&&Bridge.String.startsWith(type.$$name,"Bridge.IEnumerator")?!0:!1:Bridge.isArray(obj)?obj.constructor===type||obj instanceof type?!0:type===Bridge.IEnumerable||type===Bridge.ICollection||type===Bridge.ICloneable||type.$$name&&Bridge.String.startsWith(type.$$name,"Bridge.IEnumerable$1")||type.$$name&&Bridge.String.startsWith(type.$$name,"Bridge.ICollection$1")||type.$$name&&Bridge.String.startsWith(type.$$name,"Bridge.IList$1")?!0:!1:!1},clone:function(arr){return arr.length===1?[arr[0]]:arr.slice(0)},getCount:function(obj){return Bridge.isArray(obj)?obj.length:Bridge.isFunction(obj.getCount)?obj.getCount():0},add:function(obj,item){Bridge.isArray(obj)?obj.push(item):Bridge.isFunction(obj.add)&&obj.add(item)},clear:function(obj){Bridge.isArray(obj)?obj.length=0:Bridge.isFunction(obj.clear)&&obj.clear()},fill:function(dst,val,index,count){if(index<0||count<0||index+count>dst.length)throw new Bridge.ArgumentException;for(var isFn=Bridge.isFunction(val);--count>=0;)dst[index+count]=isFn?val():val},copy:function(src,spos,dst,dpos,len){if(spos<0||dpos<0||len<0)throw new Bridge.ArgumentOutOfRangeException;if(len>src.length-spos||len>dst.length-dpos)throw new Bridge.ArgumentException;if(spos<dpos&&src===dst)while(--len>=0)dst[dpos+len]=src[spos+len];else for(var i=0;i<len;i++)dst[dpos+i]=src[spos+i]},indexOf:function(arr,item){if(Bridge.isArray(arr)){for(var el,i=0,ln=arr.length;i<ln;i++)if(el=arr[i],el===item||Bridge.EqualityComparer$1.$default.equals(el,item))return i}else if(Bridge.isFunction(arr.indexOf))return arr.indexOf(item);return-1},contains:function(obj,item){return Bridge.isArray(obj)?Bridge.Array.indexOf(obj,item)>-1:Bridge.isFunction(obj.contains)?obj.contains(item):!1},remove:function(obj,item){if(Bridge.isArray(obj)){var index=Bridge.Array.indexOf(obj,item);if(index>-1)return obj.splice(index,1),!0}else if(Bridge.isFunction(obj.remove))return obj.remove(item);return!1},insert:function(obj,index,item){Bridge.isArray(obj)?obj.splice(index,0,item):Bridge.isFunction(obj.insert)&&obj.insert(index,item)},removeAt:function(obj,index){Bridge.isArray(obj)?obj.splice(index,1):Bridge.isFunction(obj.removeAt)&&obj.removeAt(index)},getItem:function(obj,idx){return Bridge.isArray(obj)?obj[idx]:Bridge.isFunction(obj.get)?obj.get(idx):Bridge.isFunction(obj.getItem)?obj.getItem(idx):Bridge.isFunction(obj.get_Item)?obj.get_Item(idx):void 0},setItem:function(obj,idx,value){Bridge.isArray(obj)?obj[idx]=value:Bridge.isFunction(obj.set)?obj.set(idx,value):Bridge.isFunction(obj.setItem)?obj.setItem(idx,value):Bridge.isFunction(obj.set_Item)&&obj.set_Item(idx,value)},resize:function(arr,newSize,val){var oldSize,isFn,i;if(newSize<0)throw new Bridge.ArgumentOutOfRangeException("newSize",null,null,newSize);for(oldSize=0,isFn=Bridge.isFunction(val),arr?(oldSize=arr.length,arr.length=newSize):arr=new Array(newSize),i=oldSize;i<newSize;i++)arr[i]=isFn?val():val},reverse:function(arr,index,length){var i,j,temp;if(!array)throw new Bridge.ArgumentNullException("arr");if(index||index===0||(index=0,length=arr.length),index<0||length<0)throw new Bridge.ArgumentOutOfRangeException(index<0?"index":"length","Non-negative number required.");if(array.length-index<length)throw new Bridge.ArgumentException("Offset and length were out of bounds for the array or count is greater than the number of elements from index to the end of the source collection.");if(Bridge.Array.getRank(arr)!==1)throw new Bridge.Exception("Only single dimension arrays are supported here.");for(i=index,j=index+length-1;i<j;)temp=arr[i],arr[i]=arr[j],arr[j]=temp,i++,j--},binarySearch:function(array,index,length,value,comparer){var lb,lo,hi,i,c;if(!array)throw new Bridge.ArgumentNullException("array");if(lb=0,index<lb||length<0)throw new Bridge.ArgumentOutOfRangeException(index<lb?"index":"length","Non-negative number required.");if(array.length-(index-lb)<length)throw new Bridge.ArgumentException("Offset and length were out of bounds for the array or count is greater than the number of elements from index to the end of the source collection.");if(Bridge.Array.getRank(array)!==1)throw new Bridge.RankException("Only single dimensional arrays are supported for the requested action.");for(comparer||(comparer=Bridge.Comparer$1.$default),lo=index,hi=index+length-1;lo<=hi;){i=lo+(hi-lo>>1);try{c=comparer.compare(array[i],value)}catch(e){throw new Bridge.InvalidOperationException("Failed to compare two elements in the array.",e);}if(c===0)return i;c<0?lo=i+1:hi=i-1}return~lo},sort:function(array,index,length,comparer){var newarray,i;if(!array)throw new Bridge.ArgumentNullException("array");if(arguments.length===2&&typeof index=="object"&&(comparer=index,index=null),Bridge.isNumber(index)||(index=0),Bridge.isNumber(length)||(length=array.length),comparer||(comparer=Bridge.Comparer$1.$default),index===0&&length===array.length)array.sort(Bridge.fn.bind(comparer,comparer.compare));else for(newarray=array.slice(index,index+length),newarray.sort(Bridge.fn.bind(comparer,comparer.compare)),i=index;i<index+length;i++)array[i]=newarray[i-index]}};Bridge.Array=array;Array.prototype.map||(Array.prototype.map=function(callback,instance){for(var length=this.length,mapped=new Array(length),i=0;i<length;i++)i in this&&(mapped[i]=callback.call(instance,this[i],i,this));return mapped});Array.prototype.some||(Array.prototype.some=function(callback,instance){for(var length=this.length,i=0;i<length;i++)if(i in this&&callback.call(instance,this[i],i,this))return!0;return!1});Array.prototype.indexOf||(Array.prototype.indexOf=function(searchElement,fromIndex){var k,O,len,n;if(this==null)throw new TypeError('"this" is null or not defined');if((O=Object(this),len=O.length>>>0,len===0)||(n=+fromIndex||0,Math.abs(n)===Infinity&&(n=0),n>=len))return-1;for(k=Math.max(n>=0?n:len-Math.abs(n),0);k<len;){if(k in O&&O[k]===searchElement)return k;k++}return-1});Bridge.define("Bridge.IEnumerable");Bridge.define("Bridge.IEnumerator");Bridge.define("Bridge.IEqualityComparer");Bridge.define("Bridge.ICollection",{inherits:[Bridge.IEnumerable]});Bridge.Class.generic("Bridge.IEnumerator$1",function(T){var $$name=Bridge.Class.genericName("Bridge.IEnumerator$1",T);return Bridge.Class.cache[$$name]||(Bridge.Class.cache[$$name]=Bridge.define($$name,{inherits:[Bridge.IEnumerator]}))});Bridge.Class.generic("Bridge.IEnumerable$1",function(T){var $$name=Bridge.Class.genericName("Bridge.IEnumerable$1",T);return Bridge.Class.cache[$$name]||(Bridge.Class.cache[$$name]=Bridge.define($$name,{inherits:[Bridge.IEnumerable]}))});Bridge.Class.generic("Bridge.ICollection$1",function(T){var $$name=Bridge.Class.genericName("Bridge.ICollection$1",T);return Bridge.Class.cache[$$name]||(Bridge.Class.cache[$$name]=Bridge.define($$name,{inherits:[Bridge.IEnumerable$1(T)]}))});Bridge.Class.generic("Bridge.IEqualityComparer$1",function(T){var $$name=Bridge.Class.genericName("Bridge.IEqualityComparer$1",T);return Bridge.Class.cache[$$name]||(Bridge.Class.cache[$$name]=Bridge.define($$name,{}))});Bridge.Class.generic("Bridge.IDictionary$2",function(TKey,TValue){var $$name=Bridge.Class.genericName("Bridge.IDictionary$2",TKey,TValue);return Bridge.Class.cache[$$name]||(Bridge.Class.cache[$$name]=Bridge.define($$name,{inherits:[Bridge.IEnumerable$1(Bridge.KeyValuePair$2(TKey,TValue))]}))});Bridge.Class.generic("Bridge.IList$1",function(T){var $$name=Bridge.Class.genericName("Bridge.IList$1",T);return Bridge.Class.cache[$$name]||(Bridge.Class.cache[$$name]=Bridge.define($$name,{inherits:[Bridge.ICollection$1(T)]}))});Bridge.Class.generic("Bridge.IComparer$1",function(T){var $$name=Bridge.Class.genericName("Bridge.IComparer$1",T);return Bridge.Class.cache[$$name]||(Bridge.Class.cache[$$name]=Bridge.define($$name,{}))});Bridge.Class.generic("Bridge.ISet$1",function(T){var $$name=Bridge.Class.genericName("Bridge.ISet$1",T);return Bridge.Class.cache[$$name]||(Bridge.Class.cache[$$name]=Bridge.define($$name,{inherits:[Bridge.ICollection$1(T)]}))});Bridge.define("Bridge.CustomEnumerator",{inherits:[Bridge.IEnumerator],constructor:function(moveNext,getCurrent,reset,dispose,scope){this.$moveNext=moveNext;this.$getCurrent=getCurrent;this.$dispose=dispose;this.$reset=reset;this.scope=scope},moveNext:function(){try{return this.$moveNext.call(this.scope)}catch(ex){this.dispose.call(this.scope);throw ex;}},getCurrent:function(){return this.$getCurrent.call(this.scope)},getCurrent$1:function(){return this.$getCurrent.call(this.scope)},reset:function(){this.$reset&&this.$reset.call(this.scope)},dispose:function(){this.$dispose&&this.$dispose.call(this.scope)}});Bridge.define("Bridge.ArrayEnumerator",{inherits:[Bridge.IEnumerator],constructor:function(array){this.array=array;this.reset()},moveNext:function(){return this.index++,this.index<this.array.length},getCurrent:function(){return this.array[this.index]},getCurrent$1:function(){return this.array[this.index]},reset:function(){this.index=-1},dispose:Bridge.emptyFn});Bridge.define("Bridge.ArrayEnumerable",{inherits:[Bridge.IEnumerable],constructor:function(array){this.array=array},getEnumerator:function(){return new Bridge.ArrayEnumerator(this.array)}});Bridge.Class.generic("Bridge.EqualityComparer$1",function(T){var $$name=Bridge.Class.genericName("Bridge.EqualityComparer$1",T);return Bridge.Class.cache[$$name]||(Bridge.Class.cache[$$name]=Bridge.define($$name,{inherits:[Bridge.IEqualityComparer$1(T)],equals:function(x,y){if(Bridge.isDefined(x,!0)){if(Bridge.isDefined(y,!0)){var isBridge=x&&x.$$name;return!isBridge||Bridge.isFunction(x.equals)?Bridge.equals(x,y):x===y}}else return!Bridge.isDefined(y,!0);return!1},getHashCode:function(obj){return Bridge.isDefined(obj,!0)?Bridge.getHashCode(obj):0}}))});Bridge.EqualityComparer$1.$default=new Bridge.EqualityComparer$1(Object)();Bridge.Class.generic("Bridge.Comparer$1",function(T){var $$name=Bridge.Class.genericName("Bridge.Comparer$1",T);return Bridge.Class.cache[$$name]||(Bridge.Class.cache[$$name]=Bridge.define($$name,{inherits:[Bridge.IComparer$1(T)],constructor:function(fn){this.fn=fn},compare:function(x,y){return this.fn(x,y)}}))});Bridge.Comparer$1.$default=new Bridge.Comparer$1(Object)(function(x,y){if(Bridge.hasValue(x)){if(!Bridge.hasValue(y))return 1}else return Bridge.hasValue(y)?-1:0;return Bridge.compare(x,y)});Bridge.Class.generic("Bridge.KeyValuePair$2",function(TKey,TValue){var $$name=Bridge.Class.genericName("Bridge.KeyValuePair$2",TKey,TValue);return Bridge.Class.cache[$$name]||(Bridge.Class.cache[$$name]=Bridge.define($$name,{constructor:function(key,value){this.key=key;this.value=value},toString:function(){var s="[";return this.key!=null&&(s+=this.key.toString()),s+=", ",this.value!=null&&(s+=this.value.toString()),s+"]"}}))});Bridge.Class.generic("Bridge.Dictionary$2",function(TKey,TValue){var $$name=Bridge.Class.genericName("Bridge.Dictionary$2",TKey,TValue);return Bridge.Class.cache[$$name]||(Bridge.Class.cache[$$name]=Bridge.define($$name,{inherits:[Bridge.IDictionary$2(TKey,TValue)],constructor:function(obj,comparer){var e,c,names,name,i;if(this.comparer=comparer||Bridge.EqualityComparer$1.$default,this.clear(),Bridge.is(obj,Bridge.Dictionary$2(TKey,TValue)))for(e=Bridge.getEnumerator(obj);e.moveNext();)c=e.getCurrent(),this.add(c.key,c.value);else if(Object.prototype.toString.call(obj)==="[object Object]")for(names=Bridge.getPropertyNames(obj),i=0;i<names.length;i++)name=names[i],this.add(name,obj[name])},getKeys:function(){return new Bridge.DictionaryCollection$1(TKey)(this,!0)},getValues:function(){return new Bridge.DictionaryCollection$1(TValue)(this,!1)},clear:function(){this.entries={};this.count=0},findEntry:function(key){var hash=this.comparer.getHashCode(key),entries,i;if(Bridge.isDefined(this.entries[hash]))for(entries=this.entries[hash],i=0;i<entries.length;i++)if(this.comparer.equals(entries[i].key,key))return entries[i]},containsKey:function(key){return!!this.findEntry(key)},containsValue:function(value){var e,i,entries;for(e in this.entries)if(this.entries.hasOwnProperty(e))for(entries=this.entries[e],i=0;i<entries.length;i++)if(this.comparer.equals(entries[i].value,value))return!0;return!1},get:function(key){var entry=this.findEntry(key);if(!entry)throw new Bridge.KeyNotFoundException("Key "+key+" does not exist.");return entry.value},getItem:function(key){return this.get(key)},set:function(key,value,add){var entry=this.findEntry(key),hash;if(entry){if(add)throw new Bridge.ArgumentException("Key "+key+" already exists.");entry.value=value;return}hash=this.comparer.getHashCode(key);entry=new Bridge.KeyValuePair$2(TKey,TValue)(key,value);this.entries[hash]?this.entries[hash].push(entry):this.entries[hash]=[entry];this.count++},setItem:function(key,value,add){this.set(key,value,add)},add:function(key,value){this.set(key,value,!0)},remove:function(key){var hash=this.comparer.getHashCode(key),entries,i;if(!this.entries[hash])return!1;for(entries=this.entries[hash],i=0;i<entries.length;i++)if(this.comparer.equals(entries[i].key,key))return entries.splice(i,1),entries.length==0&&delete this.entries[hash],this.count--,!0;return!1},getCount:function(){return this.count},getComparer:function(){return this.comparer},tryGetValue:function(key,value){var entry=this.findEntry(key);return value.v=entry?entry.value:Bridge.getDefaultValue(TValue),!!entry},getCustomEnumerator:function(fn){var hashes=Bridge.getPropertyNames(this.entries),hashIndex=-1,keyIndex;return new Bridge.CustomEnumerator(function(){return((hashIndex<0||keyIndex>=this.entries[hashes[hashIndex]].length-1)&&(keyIndex=-1,hashIndex++),hashIndex>=hashes.length)?!1:(keyIndex++,!0)},function(){return fn(this.entries[hashes[hashIndex]][keyIndex])},function(){hashIndex=-1},null,this)},getEnumerator:function(){return this.getCustomEnumerator(function(e){return e})}}))});Bridge.Class.generic("Bridge.DictionaryCollection$1",function(T){var $$name=Bridge.Class.genericName("Bridge.DictionaryCollection$1",T);return Bridge.Class.cache[$$name]||(Bridge.Class.cache[$$name]=Bridge.define($$name,{inherits:[Bridge.ICollection$1(T)],constructor:function(dictionary,keys){this.dictionary=dictionary;this.keys=keys},getCount:function(){return this.dictionary.getCount()},getEnumerator:function(){return this.dictionary.getCustomEnumerator(this.keys?function(e){return e.key}:function(e){return e.value})},contains:function(value){return this.keys?this.dictionary.containsKey(value):this.dictionary.containsValue(value)},add:function(){throw new Bridge.NotSupportedException;},clear:function(){throw new Bridge.NotSupportedException;},remove:function(){throw new Bridge.NotSupportedException;}}))});Bridge.Class.generic("Bridge.List$1",function(T){var $$name=Bridge.Class.genericName("Bridge.List$1",T);return Bridge.Class.cache[$$name]||(Bridge.Class.cache[$$name]=Bridge.define($$name,{inherits:[Bridge.ICollection$1(T),Bridge.ICollection,Bridge.IList$1(T)],constructor:function(obj){this.items=Object.prototype.toString.call(obj)==="[object Array]"?Bridge.Array.clone(obj):Bridge.is(obj,Bridge.IEnumerable)?Bridge.toArray(obj):[]},checkIndex:function(index){if(index<0||index>this.items.length-1)throw new Bridge.ArgumentOutOfRangeException("Index out of range");},getCount:function(){return this.items.length},get:function(index){return this.checkIndex(index),this.items[index]},getItem:function(index){return this.get(index)},set:function(index,value){this.checkReadOnly();this.checkIndex(index);this.items[index]=value},setItem:function(index,value){this.set(index,value)},add:function(value){this.checkReadOnly();this.items.push(value)},addRange:function(items){this.checkReadOnly();for(var array=Bridge.toArray(items),i=0,len=array.length;i<len;++i)this.items.push(array[i])},clear:function(){this.checkReadOnly();this.items=[]},indexOf:function(item,startIndex){var i,el;for(Bridge.isDefined(startIndex)||(startIndex=0),startIndex!==0&&this.checkIndex(startIndex),i=startIndex;i<this.items.length;i++)if(el=this.items[i],el===item||Bridge.EqualityComparer$1.$default.equals(el,item))return i;return-1},insertRange:function(index,items){var array,i;for(this.checkReadOnly(),index!==this.items.length&&this.checkIndex(index),array=Bridge.toArray(items),i=0;i<array.length;i++)this.insert(index++,array[i])},contains:function(item){return this.indexOf(item)>-1},getEnumerator:function(){return new Bridge.ArrayEnumerator(this.items)},getRange:function(index,count){Bridge.isDefined(index)||(index=0);Bridge.isDefined(count)||(count=this.items.length);index!==0&&this.checkIndex(index);this.checkIndex(index+count-1);for(var result=[],maxIndex=index+count,i=index;i<maxIndex;i++)result.push(this.items[i]);return new Bridge.List$1(T)(result)},insert:function(index,item){if(this.checkReadOnly(),index!==this.items.length&&this.checkIndex(index),Bridge.isArray(item))for(var i=0;i<item.length;i++)this.insert(index++,item[i]);else this.items.splice(index,0,item)},join:function(delimeter){return this.items.join(delimeter)},lastIndexOf:function(item,fromIndex){Bridge.isDefined(fromIndex)||(fromIndex=this.items.length-1);fromIndex!==0&&this.checkIndex(fromIndex);for(var i=fromIndex;i>=0;i--)if(item===this.items[i])return i;return-1},remove:function(item){this.checkReadOnly();var index=this.indexOf(item);return index<0?!1:(this.checkIndex(index),this.items.splice(index,1),!0)},removeAt:function(index){this.checkReadOnly();this.checkIndex(index);this.items.splice(index,1)},removeRange:function(index,count){this.checkReadOnly();this.checkIndex(index);this.items.splice(index,count)},reverse:function(){this.checkReadOnly();this.items.reverse()},slice:function(start,end){return this.checkReadOnly(),new Bridge.List$1(this.$$name.substr(this.$$name.lastIndexOf("$")+1))(this.items.slice(start,end))},sort:function(comparison){this.checkReadOnly();this.items.sort(comparison)},splice:function(start,count,items){this.checkReadOnly();this.items.splice(start,count,items)},unshift:function(){this.checkReadOnly();this.items.unshift()},toArray:function(){return Bridge.toArray(this)},checkReadOnly:function(){if(this.readOnly)throw new Bridge.NotSupportedException;},binarySearch:function(index,length,value,comparer){return arguments.length===1&&(value=index,index=null),arguments.length===2&&(value=index,comparer=length,index=null,length=null),Bridge.isNumber(index)||(index=0),Bridge.isNumber(length)||(length=this.items.length),comparer||(comparer=Bridge.Comparer$1.$default),Bridge.Array.binarySearch(this.items,index,length,value,comparer)}}))});Bridge.Class.generic("Bridge.ReadOnlyCollection$1",function(T){var $$name=Bridge.Class.genericName("Bridge.ReadOnlyCollection$1",T);return Bridge.Class.cache[$$name]||(Bridge.Class.cache[$$name]=Bridge.define($$name,{inherits:[Bridge.List$1(T)],constructor:function(list){if(list==null)throw new Bridge.ArgumentNullException("list");Bridge.ReadOnlyCollection$1.prototype.$constructor.call(this,list);this.readOnly=!0}}))});Bridge.define("Bridge.Task",{constructor:function(action,state){this.action=action;this.state=state;this.error=null;this.status=Bridge.TaskStatus.created;this.callbacks=[];this.result=null},statics:{delay:function(delay,state){var task=new Bridge.Task;return setTimeout(function(){task.setResult(state)},delay),task},fromResult:function(result){var t=new Bridge.Task;return t.status=Bridge.TaskStatus.ranToCompletion,t.result=result,t},run:function(fn){var task=new Bridge.Task;return setTimeout(function(){try{task.setResult(fn())}catch(e){task.setError(e)}},0),task},whenAll:function(tasks){var task=new Bridge.Task,result,executing=tasks.length,cancelled=!1,errors=[],i;if(Bridge.is(tasks,Bridge.IEnumerable)?tasks=Bridge.toArray(tasks):Bridge.isArray(tasks)||(tasks=Array.prototype.slice.call(arguments,0)),tasks.length===0)return task.setResult([]),task;for(result=new Array(tasks.length),i=0;i<tasks.length;i++)tasks[i].$index=i,tasks[i].continueWith(function(t){switch(t.status){case Bridge.TaskStatus.ranToCompletion:result[t.$index]=t.getResult();break;case Bridge.TaskStatus.canceled:cancelled=!0;break;case Bridge.TaskStatus.faulted:errors.push(t.error);break;default:throw new Bridge.InvalidOperationException("Invalid task status: "+t.status);}executing--;executing||(errors.length>0?task.setError(errors):cancelled?task.setCanceled():task.setResult(result))});return task},whenAny:function(tasks){if(Bridge.is(tasks,Bridge.IEnumerable)?tasks=Bridge.toArray(tasks):Bridge.isArray(tasks)||(tasks=Array.prototype.slice.call(arguments,0)),!tasks.length)throw new Bridge.ArgumentException("At least one task is required");for(var task=new Bridge.Task,i=0;i<tasks.length;i++)tasks[i].continueWith(function(t){switch(t.status){case Bridge.TaskStatus.ranToCompletion:task.complete(t);break;case Bridge.TaskStatus.canceled:task.cancel();break;case Bridge.TaskStatus.faulted:task.fail(t.error);break;default:throw new Bridge.InvalidOperationException("Invalid task status: "+t.status);}});return task},fromCallback:function(target,method){var task=new Bridge.Task,args=Array.prototype.slice.call(arguments,2),callback;return callback=function(value){task.setResult(value)},args.push(callback),target[method].apply(target,args),task},fromCallbackResult:function(target,method,resultHandler){var task=new Bridge.Task,args=Array.prototype.slice.call(arguments,3),callback;return callback=function(value){task.setResult(value)},resultHandler(args,callback),target[method].apply(target,args),task},fromCallbackOptions:function(target,method,name){var task=new Bridge.Task,args=Array.prototype.slice.call(arguments,3),callback;return callback=function(value){task.setResult(value)},args[0]=args[0]||{},args[0][name]=callback,target[method].apply(target,args),task},fromPromise:function(promise,handler,errorHandler){var task=new Bridge.Task;return promise.then||(promise=promise.promise()),promise.then(function(){task.setResult(handler?handler.apply(null,arguments):arguments)},function(){task.setError(errorHandler?errorHandler.apply(null,arguments):new Error(Array.prototype.slice.call(arguments,0)))}),task}},continueWith:function(continuationAction,raise){var task=new Bridge.Task,me=this,fn=raise?function(){task.setResult(continuationAction(me))}:function(){try{task.setResult(continuationAction(me))}catch(e){task.setError(e)}};return this.isCompleted()?setTimeout(fn,0):this.callbacks.push(fn),task},start:function(){if(this.status!==Bridge.TaskStatus.created)throw new Error("Task was already started.");var me=this;this.status=Bridge.TaskStatus.running;setTimeout(function(){try{var result=me.action(me.state);delete me.action;delete me.state;me.complete(result)}catch(e){me.fail(e)}},0)},runCallbacks:function(){var me=this;setTimeout(function(){for(var i=0;i<me.callbacks.length;i++)me.callbacks[i](me);delete me.callbacks},0)},complete:function(result){return this.isCompleted()?!1:(this.result=result,this.status=Bridge.TaskStatus.ranToCompletion,this.runCallbacks(),!0)},fail:function(error){return this.isCompleted()?!1:(this.error=error,this.status=Bridge.TaskStatus.faulted,this.runCallbacks(),!0)},cancel:function(){return this.isCompleted()?!1:(this.status=Bridge.TaskStatus.canceled,this.runCallbacks(),!0)},isCanceled:function(){return this.status===Bridge.TaskStatus.canceled},isCompleted:function(){return this.status===Bridge.TaskStatus.ranToCompletion||this.status===Bridge.TaskStatus.canceled||this.status===Bridge.TaskStatus.faulted},isFaulted:function(){return this.status===Bridge.TaskStatus.faulted},getResult:function(){switch(this.status){case Bridge.TaskStatus.ranToCompletion:return this.result;case Bridge.TaskStatus.canceled:throw new Error("Task was cancelled.");case Bridge.TaskStatus.faulted:throw this.error;default:throw new Error("Task is not yet completed.");}},setCanceled:function(){if(!this.cancel())throw new Error("Task was already completed.");},setResult:function(result){if(!this.complete(result))throw new Error("Task was already completed.");},setError:function(error){if(!this.fail(error))throw new Error("Task was already completed.");},dispose:function(){},getAwaiter:function(){return this}});Bridge.define("Bridge.TaskStatus",{$statics:{created:0,waitingForActivation:1,waitingToRun:2,running:3,waitingForChildrenToComplete:4,ranToCompletion:5,canceled:6,faulted:7}});validation={isNull:function(value){return!Bridge.isDefined(value,!0)},isEmpty:function(value){return value==null||value.length===0||Bridge.is(value,Bridge.ICollection)?value.getCount()===0:!1},isNotEmptyOrWhitespace:function(value){return Bridge.isDefined(value,!0)&&!/^$|\s+/.test(value)},isNotNull:function(value){return Bridge.isDefined(value,!0)},isNotEmpty:function(value){return!Bridge.Validation.isEmpty(value)},email:function(value){return/^(")?(?:[^\."])(?:(?:[\.])?(?:[\w\-!#$%&'*+/=?^_`{|}~]))*\1@(\w[\-\w]*\.){1,5}([A-Za-z]){2,6}$/.test(value)},url:function(value){return/(((^https?)|(^ftp)):\/\/((([\-\w]+\.)+\w{2,3}(\/[%\-\w]+(\.\w{2,})?)*(([\w\-\.\?\\\/+@&#;`~=%!]*)(\.\w{2,})?)*)|(localhost|LOCALHOST))\/?)/i.test(value)},alpha:function(value){return/^[a-zA-Z_]+$/.test(value)},alphaNum:function(value){return/^[a-zA-Z_]+$/.test(value)},creditCard:function(value,type){var re,checksum,i,digit;if(type==="Visa")re=/^4\d{3}-?\d{4}-?\d{4}-?\d{4}$/;else if(type==="MasterCard")re=/^5[1-5]\d{2}-?\d{4}-?\d{4}-?\d{4}$/;else if(type==="Discover")re=/^6011-?\d{4}-?\d{4}-?\d{4}$/;else if(type==="AmericanExpress")re=/^3[4,7]\d{13}$/;else if(type==="DinersClub")re=/^3[0,6,8]\d{12}$/;else{if(!value||value.length<13||value.length>19)return!1;re=/[^0-9 \-]+/}if(!re.test(value))return!1;for(value=value.split("-").join(""),checksum=0,i=2-value.length%2;i<=value.length;i+=2)checksum+=parseInt(value.charAt(i-1));for(i=value.length%2+1;i<value.length;i+=2)digit=parseInt(value.charAt(i-1))*2,checksum+=digit<10?digit:digit-9;return checksum%10==0}};Bridge.Validation=validation;Bridge.define("Bridge.Version",{inherits:function(){return[Bridge.ICloneable,Bridge.IComparable$1(Bridge.Version),Bridge.IEquatable$1(Bridge.Version)]},statics:{separatorsArray:".",config:{init:function(){this.ZERO_CHAR_VALUE=Bridge.cast(48,Bridge.Int)}},appendPositiveNumber:function(num,sb){var index=sb.getLength(),reminder;do reminder=num%10,num=Bridge.Int.div(num,10),sb.insert(index,String.fromCharCode(Bridge.cast(Bridge.Version.ZERO_CHAR_VALUE+reminder,Bridge.Int)));while(num>0)},parse:function(input){if(input===null)throw new Bridge.ArgumentNullException("input");var r={v:new Bridge.Version.VersionResult};if(r.v.init("input",!0),!Bridge.Version.tryParseVersion(input,r))throw r.v.getVersionParseException();return r.v.m_parsedVersion},tryParse:function(input,result){var r={v:new Bridge.Version.VersionResult},b;return r.v.init("input",!1),b=Bridge.Version.tryParseVersion(input,r),result.v=r.v.m_parsedVersion,b},tryParseVersion:function(version,result){var major={},minor={},build={},revision={},parsedComponents,parsedComponentsLength;if(version===null)return result.v.setFailure(Bridge.Version.ParseFailureKind.argumentNullException),!1;if(parsedComponents=version.split(Bridge.Version.separatorsArray),parsedComponentsLength=parsedComponents.length,parsedComponentsLength<2||parsedComponentsLength>4)return result.v.setFailure(Bridge.Version.ParseFailureKind.argumentException),!1;if(!Bridge.Version.tryParseComponent(parsedComponents[0],"version",result,major)||!Bridge.Version.tryParseComponent(parsedComponents[1],"version",result,minor))return!1;if(parsedComponentsLength-=2,parsedComponentsLength>0){if(!Bridge.Version.tryParseComponent(parsedComponents[2],"build",result,build))return!1;if(parsedComponentsLength--,parsedComponentsLength>0)if(Bridge.Version.tryParseComponent(parsedComponents[3],"revision",result,revision))result.v.m_parsedVersion=new Bridge.Version("constructor$3",major.v,minor.v,build.v,revision.v);else return!1;else result.v.m_parsedVersion=new Bridge.Version("constructor$2",major.v,minor.v,build.v)}else result.v.m_parsedVersion=new Bridge.Version("constructor$1",major.v,minor.v);return!0},tryParseComponent:function(component,componentName,result,parsedComponent){return Bridge.Int.tryParseInt(component,parsedComponent,-2147483648,2147483647)?parsedComponent.v<0?(result.v.setFailure$1(Bridge.Version.ParseFailureKind.argumentOutOfRangeException,componentName),!1):!0:(result.v.setFailure$1(Bridge.Version.ParseFailureKind.formatException,component),!1)},op_Equality:function(v1,v2){return v1===null?v2===null:v1.equals(v2)},op_Inequality:function(v1,v2){return!Bridge.Version.op_Equality(v1,v2)},op_LessThan:function(v1,v2){return v1===null&&v2===null?!1:v2===null?v1.compareTo(v2)<0:v2.compareTo(v1)>0},op_LessThanOrEqual:function(v1,v2){return v1===null&&v2===null?!1:v2===null?v1.compareTo(v2)<=0:v2.compareTo(v1)>=0},op_GreaterThan:function(v1,v2){return Bridge.Version.op_LessThan(v2,v1)},op_GreaterThanOrEqual:function(v1,v2){return Bridge.Version.op_LessThanOrEqual(v2,v1)}},_Major:0,_Minor:0,config:{init:function(){this._Build=-1;this._Revision=-1}},constructor$3:function(major,minor,build,revision){if(major<0)throw new Bridge.ArgumentOutOfRangeException("major","Cannot be < 0");if(minor<0)throw new Bridge.ArgumentOutOfRangeException("minor","Cannot be < 0");if(build<0)throw new Bridge.ArgumentOutOfRangeException("build","Cannot be < 0");if(revision<0)throw new Bridge.ArgumentOutOfRangeException("revision","Cannot be < 0");this._Major=major;this._Minor=minor;this._Build=build;this._Revision=revision},constructor$2:function(major,minor,build){if(major<0)throw new Bridge.ArgumentOutOfRangeException("major","Cannot be < 0");if(minor<0)throw new Bridge.ArgumentOutOfRangeException("minor","Cannot be < 0");if(build<0)throw new Bridge.ArgumentOutOfRangeException("build","Cannot be < 0");this._Major=major;this._Minor=minor;this._Build=build},constructor$1:function(major,minor){if(major<0)throw new Bridge.ArgumentOutOfRangeException("major","Cannot be < 0");if(minor<0)throw new Bridge.ArgumentOutOfRangeException("minor","Cannot be < 0");this._Major=major;this._Minor=minor},constructor$4:function(version){var v=Bridge.Version.parse(version);this._Major=v.getMajor();this._Minor=v.getMinor();this._Build=v.getBuild();this._Revision=v.getRevision()},constructor:function(){this._Major=0;this._Minor=0},getMajor:function(){return this._Major},getMinor:function(){return this._Minor},getBuild:function(){return this._Build},getRevision:function(){return this._Revision},getMajorRevision:function(){return this._Revision>>16},getMinorRevision:function(){var n=this._Revision&65535;return n>32767&&(n=-(n&32767^32767)-1),n},clone:function(){var v=new Bridge.Version("constructor");return v._Major=this._Major,v._Minor=this._Minor,v._Build=this._Build,v._Revision=this._Revision,v},compareInternal:function(v){return this._Major!==v._Major?this._Major>v._Major?1:-1:this._Minor!==v._Minor?this._Minor>v._Minor?1:-1:this._Build!==v._Build?this._Build>v._Build?1:-1:this._Revision!==v._Revision?this._Revision>v._Revision?1:-1:0},compareTo$1:function(version){if(version===null)return 1;var v=Bridge.as(version,Bridge.Version);if(v===null)throw new Bridge.ArgumentException("version should be of Bridge.Version type");return this.compareInternal(v)},compareTo:function(value){return value===null?1:this.compareInternal(value)},equals$1:function(obj){var v=Bridge.as(obj,Bridge.Version);return v===null?!1:this._Major!==v._Major||this._Minor!==v._Minor||this._Build!==v._Build||this._Revision!==v._Revision?!1:!0},equals:function(v){return this.equals$1(v)},getHashCode:function(){var accumulator=0;return accumulator|=(this._Major&15)<<28,accumulator|=(this._Minor&255)<<20,accumulator|=(this._Build&255)<<12,accumulator|this._Revision&4095},toString:function(){return this._Build===-1?this.toString$1(2):this._Revision===-1?this.toString$1(3):this.toString$1(4)},toString$1:function(fieldCount){var sb;switch(fieldCount){case 0:return"";case 1:return this._Major.toString();case 2:return sb=new Bridge.Text.StringBuilder,Bridge.Version.appendPositiveNumber(this._Major,sb),sb.append(String.fromCharCode(46)),Bridge.Version.appendPositiveNumber(this._Minor,sb),sb.toString();default:if(this._Build===-1)throw new Bridge.ArgumentException("Build should be > 0 if fieldCount > 2","fieldCount");if(fieldCount===3)return sb=new Bridge.Text.StringBuilder,Bridge.Version.appendPositiveNumber(this._Major,sb),sb.append(String.fromCharCode(46)),Bridge.Version.appendPositiveNumber(this._Minor,sb),sb.append(String.fromCharCode(46)),Bridge.Version.appendPositiveNumber(this._Build,sb),sb.toString();if(this._Revision===-1)throw new Bridge.ArgumentException("Revision should be > 0 if fieldCount > 3","fieldCount");if(fieldCount===4)return sb=new Bridge.Text.StringBuilder,Bridge.Version.appendPositiveNumber(this._Major,sb),sb.append(String.fromCharCode(46)),Bridge.Version.appendPositiveNumber(this._Minor,sb),sb.append(String.fromCharCode(46)),Bridge.Version.appendPositiveNumber(this._Build,sb),sb.append(String.fromCharCode(46)),Bridge.Version.appendPositiveNumber(this._Revision,sb),sb.toString();throw new Bridge.ArgumentException("Should be < 5","fieldCount");}}});Bridge.define("Bridge.Version.ParseFailureKind",{statics:{argumentNullException:0,argumentException:1,argumentOutOfRangeException:2,formatException:3}});Bridge.define("Bridge.Version.VersionResult",{m_parsedVersion:null,m_failure:0,m_exceptionArgument:null,m_argumentName:null,m_canThrow:!1,constructor:function(){},init:function(argumentName,canThrow){this.m_canThrow=canThrow;this.m_argumentName=argumentName},setFailure:function(failure){this.setFailure$1(failure,"")},setFailure$1:function(failure,argument){if(this.m_failure=failure,this.m_exceptionArgument=argument,this.m_canThrow)throw this.getVersionParseException();},getVersionParseException:function(){switch(this.m_failure){case Bridge.Version.ParseFailureKind.argumentNullException:return new Bridge.ArgumentNullException(this.m_argumentName);case Bridge.Version.ParseFailureKind.argumentException:return new Bridge.ArgumentException("VersionString");case Bridge.Version.ParseFailureKind.argumentOutOfRangeException:return new Bridge.ArgumentOutOfRangeException(this.m_exceptionArgument,"Cannot be < 0");case Bridge.Version.ParseFailureKind.formatException:try{Bridge.Int.parseInt(this.m_exceptionArgument,-2147483648,2147483647)}catch($e){$e=Bridge.Exception.create($e);var e;if(Bridge.is($e,Bridge.FormatException)||Bridge.is($e,Bridge.OverflowException))return e=$e;throw $e;}return new Bridge.FormatException("InvalidString");default:return new Bridge.ArgumentException("VersionString")}},getHashCode:function(){var hash=17;return hash=hash*23+(this.m_parsedVersion==null?0:Bridge.getHashCode(this.m_parsedVersion)),hash=hash*23+(this.m_failure==null?0:Bridge.getHashCode(this.m_failure)),hash=hash*23+(this.m_exceptionArgument==null?0:Bridge.getHashCode(this.m_exceptionArgument)),hash=hash*23+(this.m_argumentName==null?0:Bridge.getHashCode(this.m_argumentName)),hash*23+(this.m_canThrow==null?0:Bridge.getHashCode(this.m_canThrow))},equals:function(o){return Bridge.is(o,Bridge.Version.VersionResult)?Bridge.equals(this.m_parsedVersion,o.m_parsedVersion)&&Bridge.equals(this.m_failure,o.m_failure)&&Bridge.equals(this.m_exceptionArgument,o.m_exceptionArgument)&&Bridge.equals(this.m_argumentName,o.m_argumentName)&&Bridge.equals(this.m_canThrow,o.m_canThrow):!1},$clone:function(to){var s=to||new Bridge.Version.VersionResult;return s.m_parsedVersion=this.m_parsedVersion,s.m_failure=this.m_failure,s.m_exceptionArgument=this.m_exceptionArgument,s.m_argumentName=this.m_argumentName,s.m_canThrow=this.m_canThrow,s}});Bridge.define("Bridge.Attribute");Bridge.define("Bridge.INotifyPropertyChanged");Bridge.define("Bridge.PropertyChangedEventArgs",{constructor:function(propertyName){this.propertyName=propertyName}}),function(root,undefined){var Functions={Identity:function(x){return x},True:function(){return!0},Blank:function(){}},Types={Boolean:"boolean",Number:"number",String:"string",Object:"object",Undefined:typeof undefined,Function:typeof function(){}},funcCache={"":Functions.Identity},Utils={createLambda:function(expression){var f,regexp,maxLength,match,paramNumber,argArray,i,dollar,j,args,expr;if(expression==null)return Functions.Identity;if(typeof expression===Types.String){if(f=funcCache[expression],f!=null)return f;if(expression.indexOf("=>")===-1){for(regexp=new RegExp("[$]+","g"),maxLength=0;(match=regexp.exec(expression))!=null;)paramNumber=match[0].length,paramNumber>maxLength&&(maxLength=paramNumber);for(argArray=[],i=1;i<=maxLength;i++){for(dollar="",j=0;j<i;j++)dollar+="$";argArray.push(dollar)}return args=Array.prototype.join.call(argArray,","),f=new Function(args,"return "+expression),funcCache[expression]=f,f}return expr=expression.match(/^[(\s]*([^()]*?)[)\s]*=>(.*)/),f=new Function(expr[1],"return "+expr[2]),funcCache[expression]=f,f}return expression},isIEnumerable:function(obj){if(typeof Enumerator!==Types.Undefined)try{return new Enumerator(obj),!0}catch(e){}return!1},defineProperty:Object.defineProperties!=null?function(target,methodName,value){Object.defineProperty(target,methodName,{enumerable:!1,configurable:!0,writable:!0,value:value})}:function(target,methodName,value){target[methodName]=value},compare:function(a,b){return a===b?0:a>b?1:-1},dispose:function(obj){obj!=null&&obj.dispose()}},State={Before:0,Running:1,After:2},IEnumerator=function(initialize,tryGetNext,dispose){var yielder=new Yielder,state=State.Before;this.getCurrent=yielder.getCurrent;this.reset=function(){throw new Error("Reset is not supported");};this.moveNext=function(){try{switch(state){case State.Before:state=State.Running;initialize();case State.Running:return tryGetNext.apply(yielder)?!0:(this.dispose(),!1);case State.After:return!1}}catch(e){this.dispose();throw e;}};this.dispose=function(){if(state==State.Running)try{dispose()}finally{state=State.After}}},Yielder,Enumerable,emptyEnumerable,OrderedEnumerable,SortContext,DisposableEnumerable,ArrayEnumerable,WhereEnumerable,WhereSelectEnumerable,Lookup,Grouping;IEnumerator.$$inheritors=[Bridge.IDisposable];Yielder=function(){var current=null;this.getCurrent=function(){return current};this.yieldReturn=function(value){return current=value,!0};this.yieldBreak=function(){return!1}};Enumerable=function(getEnumerator){this.getEnumerator=getEnumerator};Enumerable.$$inheritors=[Bridge.IEnumerable];Enumerable.Utils={};Enumerable.Utils.createLambda=function(expression){return Utils.createLambda(expression)};Enumerable.Utils.createEnumerable=function(getEnumerator){return new Enumerable(getEnumerator)};Enumerable.Utils.createEnumerator=function(initialize,tryGetNext,dispose){return new IEnumerator(initialize,tryGetNext,dispose)};Enumerable.Utils.extendTo=function(type){var typeProto=type.prototype,enumerableProto,methodName,func;type===Array?(enumerableProto=ArrayEnumerable.prototype,Utils.defineProperty(typeProto,"getSource",function(){return this})):(enumerableProto=Enumerable.prototype,Utils.defineProperty(typeProto,"getEnumerator",function(){return Enumerable.from(this).getEnumerator()}));for(methodName in enumerableProto)(func=enumerableProto[methodName],typeProto[methodName]!=func)&&(typeProto[methodName]==null||(methodName=methodName+"ByLinq",typeProto[methodName]!=func))&&func instanceof Function&&Utils.defineProperty(typeProto,methodName,func)};Enumerable.choice=function(){var args=arguments;return new Enumerable(function(){return new IEnumerator(function(){args=args[0]instanceof Array?args[0]:args[0].getEnumerator!=null?args[0].toArray():args},function(){return this.yieldReturn(args[Math.floor(Math.random()*args.length)])},Functions.Blank)})};Enumerable.cycle=function(){var args=arguments;return new Enumerable(function(){var index=0;return new IEnumerator(function(){args=args[0]instanceof Array?args[0]:args[0].getEnumerator!=null?args[0].toArray():args},function(){return index>=args.length&&(index=0),this.yieldReturn(args[index++])},Functions.Blank)})};emptyEnumerable=new Enumerable(function(){return new IEnumerator(Functions.Blank,function(){return!1},Functions.Blank)});Enumerable.empty=function(){return emptyEnumerable};Enumerable.from=function(obj){if(obj==null)return Enumerable.empty();if(obj instanceof Enumerable)return obj;if(typeof obj==Types.Number||typeof obj==Types.Boolean)return Enumerable.repeat(obj,1);if(typeof obj==Types.String)return new Enumerable(function(){var index=0;return new IEnumerator(Functions.Blank,function(){return index<obj.length?this.yieldReturn(obj.charAt(index++)):!1},Functions.Blank)});var ienum=Bridge.as(obj,Bridge.IEnumerable);if(ienum)return new Enumerable(function(){var enumerator;return new IEnumerator(function(){enumerator=Bridge.getEnumerator(ienum)},function(){var ok=enumerator.moveNext();return ok?this.yieldReturn(enumerator.getCurrent()):!1},function(){var disposable=Bridge.as(enumerator,Bridge.IDisposable);disposable&&disposable.dispose()})});if(typeof obj!=Types.Function){if(typeof obj.length==Types.Number)return new ArrayEnumerable(obj);if(!(obj instanceof Object)&&Utils.isIEnumerable(obj))return new Enumerable(function(){var isFirst=!0,enumerator;return new IEnumerator(function(){enumerator=new Enumerator(obj)},function(){return isFirst?isFirst=!1:enumerator.moveNext(),enumerator.atEnd()?!1:this.yieldReturn(enumerator.item())},Functions.Blank)});if(typeof Windows===Types.Object&&typeof obj.first===Types.Function)return new Enumerable(function(){var isFirst=!0,enumerator;return new IEnumerator(function(){enumerator=obj.first()},function(){return isFirst?isFirst=!1:enumerator.moveNext(),enumerator.hasCurrent?this.yieldReturn(enumerator.current):this.yieldBreak()},Functions.Blank)})}return new Enumerable(function(){var array=[],index=0;return new IEnumerator(function(){var key,value;for(key in obj)value=obj[key],value instanceof Function||!Object.prototype.hasOwnProperty.call(obj,key)||array.push({key:key,value:value})},function(){return index<array.length?this.yieldReturn(array[index++]):!1},Functions.Blank)})};Enumerable.make=function(element){return Enumerable.repeat(element,1)};Enumerable.matches=function(input,pattern,flags){return flags==null&&(flags=""),pattern instanceof RegExp&&(flags+=pattern.ignoreCase?"i":"",flags+=pattern.multiline?"m":"",pattern=pattern.source),flags.indexOf("g")===-1&&(flags+="g"),new Enumerable(function(){var regex;return new IEnumerator(function(){regex=new RegExp(pattern,flags)},function(){var match=regex.exec(input);return match?this.yieldReturn(match):!1},Functions.Blank)})};Enumerable.range=function(start,count,step){return step==null&&(step=1),new Enumerable(function(){var value,index=0;return new IEnumerator(function(){value=start-step},function(){return index++<count?this.yieldReturn(value+=step):this.yieldBreak()},Functions.Blank)})};Enumerable.rangeDown=function(start,count,step){return step==null&&(step=1),new Enumerable(function(){var value,index=0;return new IEnumerator(function(){value=start+step},function(){return index++<count?this.yieldReturn(value-=step):this.yieldBreak()},Functions.Blank)})};Enumerable.rangeTo=function(start,to,step){return step==null&&(step=1),start<to?new Enumerable(function(){var value;return new IEnumerator(function(){value=start-step},function(){var next=value+=step;return next<=to?this.yieldReturn(next):this.yieldBreak()},Functions.Blank)}):new Enumerable(function(){var value;return new IEnumerator(function(){value=start+step},function(){var next=value-=step;return next>=to?this.yieldReturn(next):this.yieldBreak()},Functions.Blank)})};Enumerable.repeat=function(element,count){return count!=null?Enumerable.repeat(element).take(count):new Enumerable(function(){return new IEnumerator(Functions.Blank,function(){return this.yieldReturn(element)},Functions.Blank)})};Enumerable.repeatWithFinalize=function(initializer,finalizer){return initializer=Utils.createLambda(initializer),finalizer=Utils.createLambda(finalizer),new Enumerable(function(){var element;return new IEnumerator(function(){element=initializer()},function(){return this.yieldReturn(element)},function(){element!=null&&(finalizer(element),element=null)})})};Enumerable.generate=function(func,count){return count!=null?Enumerable.generate(func).take(count):(func=Utils.createLambda(func),new Enumerable(function(){return new IEnumerator(Functions.Blank,function(){return this.yieldReturn(func())},Functions.Blank)}))};Enumerable.toInfinity=function(start,step){return start==null&&(start=0),step==null&&(step=1),new Enumerable(function(){var value;return new IEnumerator(function(){value=start-step},function(){return this.yieldReturn(value+=step)},Functions.Blank)})};Enumerable.toNegativeInfinity=function(start,step){return start==null&&(start=0),step==null&&(step=1),new Enumerable(function(){var value;return new IEnumerator(function(){value=start+step},function(){return this.yieldReturn(value-=step)},Functions.Blank)})};Enumerable.unfold=function(seed,func){return func=Utils.createLambda(func),new Enumerable(function(){var isFirst=!0,value;return new IEnumerator(Functions.Blank,function(){return isFirst?(isFirst=!1,value=seed,this.yieldReturn(value)):(value=func(value),this.yieldReturn(value))},Functions.Blank)})};Enumerable.defer=function(enumerableFactory){return new Enumerable(function(){var enumerator;return new IEnumerator(function(){enumerator=Enumerable.from(enumerableFactory()).getEnumerator()},function(){return enumerator.moveNext()?this.yieldReturn(enumerator.getCurrent()):this.yieldBreak()},function(){Utils.dispose(enumerator)})})};Enumerable.prototype.traverseBreadthFirst=function(func,resultSelector){var source=this;return func=Utils.createLambda(func),resultSelector=Utils.createLambda(resultSelector),new Enumerable(function(){var enumerator,nestLevel=0,buffer=[];return new IEnumerator(function(){enumerator=source.getEnumerator()},function(){for(;;){if(enumerator.moveNext())return buffer.push(enumerator.getCurrent()),this.yieldReturn(resultSelector(enumerator.getCurrent(),nestLevel));var next=Enumerable.from(buffer).selectMany(function(x){return func(x)});if(next.any())nestLevel++,buffer=[],Utils.dispose(enumerator),enumerator=next.getEnumerator();else return!1}},function(){Utils.dispose(enumerator)})})};Enumerable.prototype.traverseDepthFirst=function(func,resultSelector){var source=this;return func=Utils.createLambda(func),resultSelector=Utils.createLambda(resultSelector),new Enumerable(function(){var enumeratorStack=[],enumerator;return new IEnumerator(function(){enumerator=source.getEnumerator()},function(){for(;;){if(enumerator.moveNext()){var value=resultSelector(enumerator.getCurrent(),enumeratorStack.length);return enumeratorStack.push(enumerator),enumerator=Enumerable.from(func(enumerator.getCurrent())).getEnumerator(),this.yieldReturn(value)}if(enumeratorStack.length<=0)return!1;Utils.dispose(enumerator);enumerator=enumeratorStack.pop()}},function(){try{Utils.dispose(enumerator)}finally{Enumerable.from(enumeratorStack).forEach(function(s){s.dispose()})}})})};Enumerable.prototype.flatten=function(){var source=this;return new Enumerable(function(){var enumerator,middleEnumerator=null;return new IEnumerator(function(){enumerator=source.getEnumerator()},function(){for(;;){if(middleEnumerator!=null){if(middleEnumerator.moveNext())return this.yieldReturn(middleEnumerator.getCurrent());middleEnumerator=null}if(enumerator.moveNext())if(enumerator.getCurrent()instanceof Array){Utils.dispose(middleEnumerator);middleEnumerator=Enumerable.from(enumerator.getCurrent()).selectMany(Functions.Identity).flatten().getEnumerator();continue}else return this.yieldReturn(enumerator.getCurrent());return!1}},function(){try{Utils.dispose(enumerator)}finally{Utils.dispose(middleEnumerator)}})})};Enumerable.prototype.pairwise=function(selector){var source=this;return selector=Utils.createLambda(selector),new Enumerable(function(){var enumerator;return new IEnumerator(function(){enumerator=source.getEnumerator();enumerator.moveNext()},function(){var prev=enumerator.getCurrent();return enumerator.moveNext()?this.yieldReturn(selector(prev,enumerator.getCurrent())):!1},function(){Utils.dispose(enumerator)})})};Enumerable.prototype.scan=function(seed,func){var isUseSeed,source;return func==null?(func=Utils.createLambda(seed),isUseSeed=!1):(func=Utils.createLambda(func),isUseSeed=!0),source=this,new Enumerable(function(){var enumerator,value,isFirst=!0;return new IEnumerator(function(){enumerator=source.getEnumerator()},function(){if(isFirst){if(isFirst=!1,isUseSeed)return this.yieldReturn(value=seed);if(enumerator.moveNext())return this.yieldReturn(value=enumerator.getCurrent())}return enumerator.moveNext()?this.yieldReturn(value=func(value,enumerator.getCurrent())):!1},function(){Utils.dispose(enumerator)})})};Enumerable.prototype.select=function(selector){if(selector=Utils.createLambda(selector),selector.length<=1)return new WhereSelectEnumerable(this,null,selector);var source=this;return new Enumerable(function(){var enumerator,index=0;return new IEnumerator(function(){enumerator=source.getEnumerator()},function(){return enumerator.moveNext()?this.yieldReturn(selector(enumerator.getCurrent(),index++)):!1},function(){Utils.dispose(enumerator)})})};Enumerable.prototype.selectMany=function(collectionSelector,resultSelector){var source=this;return collectionSelector=Utils.createLambda(collectionSelector),resultSelector==null&&(resultSelector=function(a,b){return b}),resultSelector=Utils.createLambda(resultSelector),new Enumerable(function(){var enumerator,middleEnumerator=undefined,index=0;return new IEnumerator(function(){enumerator=source.getEnumerator()},function(){if(middleEnumerator===undefined&&!enumerator.moveNext())return!1;do{if(middleEnumerator==null){var middleSeq=collectionSelector(enumerator.getCurrent(),index++);middleEnumerator=Enumerable.from(middleSeq).getEnumerator()}if(middleEnumerator.moveNext())return this.yieldReturn(resultSelector(enumerator.getCurrent(),middleEnumerator.getCurrent()));Utils.dispose(middleEnumerator);middleEnumerator=null}while(enumerator.moveNext());return!1},function(){try{Utils.dispose(enumerator)}finally{Utils.dispose(middleEnumerator)}})})};Enumerable.prototype.where=function(predicate){if(predicate=Utils.createLambda(predicate),predicate.length<=1)return new WhereEnumerable(this,predicate);var source=this;return new Enumerable(function(){var enumerator,index=0;return new IEnumerator(function(){enumerator=source.getEnumerator()},function(){while(enumerator.moveNext())if(predicate(enumerator.getCurrent(),index++))return this.yieldReturn(enumerator.getCurrent());return!1},function(){Utils.dispose(enumerator)})})};Enumerable.prototype.choose=function(selector){selector=Utils.createLambda(selector);var source=this;return new Enumerable(function(){var enumerator,index=0;return new IEnumerator(function(){enumerator=source.getEnumerator()},function(){while(enumerator.moveNext()){var result=selector(enumerator.getCurrent(),index++);if(result!=null)return this.yieldReturn(result)}return this.yieldBreak()},function(){Utils.dispose(enumerator)})})};Enumerable.prototype.ofType=function(type){var source=this;return new Enumerable(function(){var enumerator;return new IEnumerator(function(){enumerator=Bridge.getEnumerator(source)},function(){while(enumerator.moveNext()){var v=Bridge.as(enumerator.getCurrent(),type);if(Bridge.hasValue(v))return this.yieldReturn(v)}return!1},function(){Utils.dispose(enumerator)})})};Enumerable.prototype.zip=function(){var args=arguments,selector=Utils.createLambda(arguments[arguments.length-1]),source=this,second;return arguments.length==2?(second=arguments[0],new Enumerable(function(){var firstEnumerator,secondEnumerator,index=0;return new IEnumerator(function(){firstEnumerator=source.getEnumerator();secondEnumerator=Enumerable.from(second).getEnumerator()},function(){return firstEnumerator.moveNext()&&secondEnumerator.moveNext()?this.yieldReturn(selector(firstEnumerator.getCurrent(),secondEnumerator.getCurrent(),index++)):!1},function(){try{Utils.dispose(firstEnumerator)}finally{Utils.dispose(secondEnumerator)}})})):new Enumerable(function(){var enumerators,index=0;return new IEnumerator(function(){var array=Enumerable.make(source).concat(Enumerable.from(args).takeExceptLast().select(Enumerable.from)).select(function(x){return x.getEnumerator()}).toArray();enumerators=Enumerable.from(array)},function(){if(enumerators.all(function(x){return x.moveNext()})){var array=enumerators.select(function(x){return x.getCurrent()}).toArray();return array.push(index++),this.yieldReturn(selector.apply(null,array))}return this.yieldBreak()},function(){Enumerable.from(enumerators).forEach(Utils.dispose)})})};Enumerable.prototype.merge=function(){var args=arguments,source=this;return new Enumerable(function(){var enumerators,index=-1;return new IEnumerator(function(){enumerators=Enumerable.make(source).concat(Enumerable.from(args).select(Enumerable.from)).select(function(x){return x.getEnumerator()}).toArray()},function(){while(enumerators.length>0){index=index>=enumerators.length-1?0:index+1;var enumerator=enumerators[index];if(enumerator.moveNext())return this.yieldReturn(enumerator.getCurrent());enumerator.dispose();enumerators.splice(index--,1)}return this.yieldBreak()},function(){Enumerable.from(enumerators).forEach(Utils.dispose)})})};Enumerable.prototype.join=function(inner,outerKeySelector,innerKeySelector,resultSelector,comparer){outerKeySelector=Utils.createLambda(outerKeySelector);innerKeySelector=Utils.createLambda(innerKeySelector);resultSelector=Utils.createLambda(resultSelector);var source=this;return new Enumerable(function(){var outerEnumerator,lookup,innerElements=null,innerCount=0;return new IEnumerator(function(){outerEnumerator=source.getEnumerator();lookup=Enumerable.from(inner).toLookup(innerKeySelector,Functions.Identity,comparer)},function(){for(var innerElement,key;;){if(innerElements!=null){if(innerElement=innerElements[innerCount++],innerElement!==undefined)return this.yieldReturn(resultSelector(outerEnumerator.getCurrent(),innerElement));innerElement=null;innerCount=0}if(outerEnumerator.moveNext())key=outerKeySelector(outerEnumerator.getCurrent()),innerElements=lookup.get(key).toArray();else return!1}},function(){Utils.dispose(outerEnumerator)})})};Enumerable.prototype.groupJoin=function(inner,outerKeySelector,innerKeySelector,resultSelector,comparer){outerKeySelector=Utils.createLambda(outerKeySelector);innerKeySelector=Utils.createLambda(innerKeySelector);resultSelector=Utils.createLambda(resultSelector);var source=this;return new Enumerable(function(){var enumerator=source.getEnumerator(),lookup=null;return new IEnumerator(function(){enumerator=source.getEnumerator();lookup=Enumerable.from(inner).toLookup(innerKeySelector,Functions.Identity,comparer)},function(){if(enumerator.moveNext()){var innerElement=lookup.get(outerKeySelector(enumerator.getCurrent()));return this.yieldReturn(resultSelector(enumerator.getCurrent(),innerElement))}return!1},function(){Utils.dispose(enumerator)})})};Enumerable.prototype.all=function(predicate){predicate=Utils.createLambda(predicate);var result=!0;return this.forEach(function(x){if(!predicate(x))return result=!1,!1}),result};Enumerable.prototype.any=function(predicate){predicate=Utils.createLambda(predicate);var enumerator=this.getEnumerator();try{if(arguments.length==0)return enumerator.moveNext();while(enumerator.moveNext())if(predicate(enumerator.getCurrent()))return!0;return!1}finally{Utils.dispose(enumerator)}};Enumerable.prototype.isEmpty=function(){return!this.any()};Enumerable.prototype.concat=function(){var source=this,second,args;return arguments.length==1?(second=arguments[0],new Enumerable(function(){var firstEnumerator,secondEnumerator;return new IEnumerator(function(){firstEnumerator=source.getEnumerator()},function(){if(secondEnumerator==null){if(firstEnumerator.moveNext())return this.yieldReturn(firstEnumerator.getCurrent());secondEnumerator=Enumerable.from(second).getEnumerator()}return secondEnumerator.moveNext()?this.yieldReturn(secondEnumerator.getCurrent()):!1},function(){try{Utils.dispose(firstEnumerator)}finally{Utils.dispose(secondEnumerator)}})})):(args=arguments,new Enumerable(function(){var enumerators;return new IEnumerator(function(){enumerators=Enumerable.make(source).concat(Enumerable.from(args).select(Enumerable.from)).select(function(x){return x.getEnumerator()}).toArray()},function(){while(enumerators.length>0){var enumerator=enumerators[0];if(enumerator.moveNext())return this.yieldReturn(enumerator.getCurrent());enumerator.dispose();enumerators.splice(0,1)}return this.yieldBreak()},function(){Enumerable.from(enumerators).forEach(Utils.dispose)})}))};Enumerable.prototype.insert=function(index,second){var source=this;return new Enumerable(function(){var firstEnumerator,secondEnumerator,count=0,isEnumerated=!1;return new IEnumerator(function(){firstEnumerator=source.getEnumerator();secondEnumerator=Enumerable.from(second).getEnumerator()},function(){return count==index&&secondEnumerator.moveNext()?(isEnumerated=!0,this.yieldReturn(secondEnumerator.getCurrent())):firstEnumerator.moveNext()?(count++,this.yieldReturn(firstEnumerator.getCurrent())):!isEnumerated&&secondEnumerator.moveNext()?this.yieldReturn(secondEnumerator.getCurrent()):!1},function(){try{Utils.dispose(firstEnumerator)}finally{Utils.dispose(secondEnumerator)}})})};Enumerable.prototype.alternate=function(alternateValueOrSequence){var source=this;return new Enumerable(function(){var buffer,enumerator,alternateSequence,alternateEnumerator;return new IEnumerator(function(){alternateSequence=alternateValueOrSequence instanceof Array||alternateValueOrSequence.getEnumerator!=null?Enumerable.from(Enumerable.from(alternateValueOrSequence).toArray()):Enumerable.make(alternateValueOrSequence);enumerator=source.getEnumerator();enumerator.moveNext()&&(buffer=enumerator.getCurrent())},function(){for(;;){if(alternateEnumerator!=null){if(alternateEnumerator.moveNext())return this.yieldReturn(alternateEnumerator.getCurrent());alternateEnumerator=null}if(buffer==null&&enumerator.moveNext()){buffer=enumerator.getCurrent();alternateEnumerator=alternateSequence.getEnumerator();continue}else if(buffer!=null){var retVal=buffer;return buffer=null,this.yieldReturn(retVal)}return this.yieldBreak()}},function(){try{Utils.dispose(enumerator)}finally{Utils.dispose(alternateEnumerator)}})})};Enumerable.prototype.contains=function(value,comparer){comparer=comparer||Bridge.EqualityComparer$1.$default;var enumerator=this.getEnumerator();try{while(enumerator.moveNext())if(comparer.equals(enumerator.getCurrent(),value))return!0;return!1}finally{Utils.dispose(enumerator)}};Enumerable.prototype.defaultIfEmpty=function(defaultValue){var source=this;return defaultValue===undefined&&(defaultValue=null),new Enumerable(function(){var enumerator,isFirst=!0;return new IEnumerator(function(){enumerator=source.getEnumerator()},function(){return enumerator.moveNext()?(isFirst=!1,this.yieldReturn(enumerator.getCurrent())):isFirst?(isFirst=!1,this.yieldReturn(defaultValue)):!1},function(){Utils.dispose(enumerator)})})};Enumerable.prototype.distinct=function(comparer){return this.except(Enumerable.empty(),comparer)};Enumerable.prototype.distinctUntilChanged=function(compareSelector){compareSelector=Utils.createLambda(compareSelector);var source=this;return new Enumerable(function(){var enumerator,compareKey,initial;return new IEnumerator(function(){enumerator=source.getEnumerator()},function(){while(enumerator.moveNext()){var key=compareSelector(enumerator.getCurrent());if(initial)return initial=!1,compareKey=key,this.yieldReturn(enumerator.getCurrent());if(compareKey!==key)return compareKey=key,this.yieldReturn(enumerator.getCurrent())}return this.yieldBreak()},function(){Utils.dispose(enumerator)})})};Enumerable.prototype.except=function(second,comparer){var source=this;return new Enumerable(function(){var enumerator,keys;return new IEnumerator(function(){enumerator=source.getEnumerator();keys=new Bridge.Dictionary$2(Object,Object)(null,comparer);Enumerable.from(second).forEach(function(key){keys.add(key)})},function(){while(enumerator.moveNext()){var current=enumerator.getCurrent();if(!keys.containsKey(current))return keys.add(current),this.yieldReturn(current)}return!1},function(){Utils.dispose(enumerator)})})};Enumerable.prototype.intersect=function(second,comparer){var source=this;return new Enumerable(function(){var enumerator,keys,outs;return new IEnumerator(function(){enumerator=source.getEnumerator();keys=new Bridge.Dictionary$2(Object,Object)(null,comparer);Enumerable.from(second).forEach(function(key){keys.add(key)});outs=new Bridge.Dictionary$2(Object,Object)(null,comparer)},function(){while(enumerator.moveNext()){var current=enumerator.getCurrent();if(!outs.containsKey(current)&&keys.containsKey(current))return outs.add(current),this.yieldReturn(current)}return!1},function(){Utils.dispose(enumerator)})})};Enumerable.prototype.sequenceEqual=function(second,comparer){var firstEnumerator,secondEnumerator;comparer=comparer||Bridge.EqualityComparer$1.$default;firstEnumerator=this.getEnumerator();try{secondEnumerator=Enumerable.from(second).getEnumerator();try{while(firstEnumerator.moveNext())if(!secondEnumerator.moveNext()||!comparer.equals(firstEnumerator.getCurrent(),secondEnumerator.getCurrent()))return!1;return secondEnumerator.moveNext()?!1:!0}finally{Utils.dispose(secondEnumerator)}}finally{Utils.dispose(firstEnumerator)}};Enumerable.prototype.union=function(second,comparer){var source=this;return new Enumerable(function(){var firstEnumerator,secondEnumerator,keys;return new IEnumerator(function(){firstEnumerator=source.getEnumerator();keys=new Bridge.Dictionary$2(Object,Object)(null,comparer)},function(){var current;if(secondEnumerator===undefined){while(firstEnumerator.moveNext())if(current=firstEnumerator.getCurrent(),!keys.containsKey(current))return keys.add(current),this.yieldReturn(current);secondEnumerator=Enumerable.from(second).getEnumerator()}while(secondEnumerator.moveNext())if(current=secondEnumerator.getCurrent(),!keys.containsKey(current))return keys.add(current),this.yieldReturn(current);return!1},function(){try{Utils.dispose(firstEnumerator)}finally{Utils.dispose(secondEnumerator)}})})};Enumerable.prototype.orderBy=function(keySelector,comparer){return new OrderedEnumerable(this,keySelector,comparer,!1)};Enumerable.prototype.orderByDescending=function(keySelector,comparer){return new OrderedEnumerable(this,keySelector,comparer,!0)};Enumerable.prototype.reverse=function(){var source=this;return new Enumerable(function(){var buffer,index;return new IEnumerator(function(){buffer=source.toArray();index=buffer.length},function(){return index>0?this.yieldReturn(buffer[--index]):!1},Functions.Blank)})};Enumerable.prototype.shuffle=function(){var source=this;return new Enumerable(function(){var buffer;return new IEnumerator(function(){buffer=source.toArray()},function(){if(buffer.length>0){var i=Math.floor(Math.random()*buffer.length);return this.yieldReturn(buffer.splice(i,1)[0])}return!1},Functions.Blank)})};Enumerable.prototype.weightedSample=function(weightSelector){weightSelector=Utils.createLambda(weightSelector);var source=this;return new Enumerable(function(){var sortedByBound,totalWeight=0;return new IEnumerator(function(){sortedByBound=source.choose(function(x){var weight=weightSelector(x);return weight<=0?null:(totalWeight+=weight,{value:x,bound:totalWeight})}).toArray()},function(){var index;if(sortedByBound.length>0){for(var draw=Math.floor(Math.random()*totalWeight)+1,lower=-1,upper=sortedByBound.length;upper-lower>1;)index=Math.floor((lower+upper)/2),sortedByBound[index].bound>=draw?upper=index:lower=index;return this.yieldReturn(sortedByBound[upper].value)}return this.yieldBreak()},Functions.Blank)})};Enumerable.prototype.groupBy=function(keySelector,elementSelector,resultSelector,comparer){var source=this;return keySelector=Utils.createLambda(keySelector),elementSelector=Utils.createLambda(elementSelector),resultSelector!=null&&(resultSelector=Utils.createLambda(resultSelector)),new Enumerable(function(){var enumerator;return new IEnumerator(function(){enumerator=source.toLookup(keySelector,elementSelector,comparer).toEnumerable().getEnumerator()},function(){while(enumerator.moveNext())return resultSelector==null?this.yieldReturn(enumerator.getCurrent()):this.yieldReturn(resultSelector(enumerator.getCurrent().key(),enumerator.getCurrent()));return!1},function(){Utils.dispose(enumerator)})})};Enumerable.prototype.partitionBy=function(keySelector,elementSelector,resultSelector,comparer){var source=this,hasResultSelector;return keySelector=Utils.createLambda(keySelector),elementSelector=Utils.createLambda(elementSelector),comparer=comparer||Bridge.EqualityComparer$1.$default,resultSelector==null?(hasResultSelector=!1,resultSelector=function(key,group){return new Grouping(key,group)}):(hasResultSelector=!0,resultSelector=Utils.createLambda(resultSelector)),new Enumerable(function(){var enumerator,key,group=[];return new IEnumerator(function(){enumerator=source.getEnumerator();enumerator.moveNext()&&(key=keySelector(enumerator.getCurrent()),group.push(elementSelector(enumerator.getCurrent())))},function(){for(var hasNext,result;(hasNext=enumerator.moveNext())==!0;)if(comparer.equals(key,keySelector(enumerator.getCurrent())))group.push(elementSelector(enumerator.getCurrent()));else break;return group.length>0?(result=hasResultSelector?resultSelector(key,Enumerable.from(group)):resultSelector(key,group),hasNext?(key=keySelector(enumerator.getCurrent()),group=[elementSelector(enumerator.getCurrent())]):group=[],this.yieldReturn(result)):!1},function(){Utils.dispose(enumerator)})})};Enumerable.prototype.buffer=function(count){var source=this;return new Enumerable(function(){var enumerator;return new IEnumerator(function(){enumerator=source.getEnumerator()},function(){for(var array=[],index=0;enumerator.moveNext();)if(array.push(enumerator.getCurrent()),++index>=count)return this.yieldReturn(array);return array.length>0?this.yieldReturn(array):!1},function(){Utils.dispose(enumerator)})})};Enumerable.prototype.aggregate=function(seed,func,resultSelector){return resultSelector=Utils.createLambda(resultSelector),resultSelector(this.scan(seed,func,resultSelector).last())};Enumerable.prototype.average=function(selector){selector=Utils.createLambda(selector);var sum=0,count=0;return this.forEach(function(x){sum+=selector(x);++count}),sum/count};Enumerable.prototype.nullableAverage=function(selector){return this.any(Bridge.isNull)?null:this.average(selector)};Enumerable.prototype.count=function(predicate){predicate=predicate==null?Functions.True:Utils.createLambda(predicate);var count=0;return this.forEach(function(x,i){predicate(x,i)&&++count}),count};Enumerable.prototype.max=function(selector){return selector==null&&(selector=Functions.Identity),this.select(selector).aggregate(function(a,b){return Bridge.compare(a,b,!0)===1?a:b})};Enumerable.prototype.nullableMax=function(selector){return this.any(Bridge.isNull)?null:this.max(selector)};Enumerable.prototype.min=function(selector){return selector==null&&(selector=Functions.Identity),this.select(selector).aggregate(function(a,b){return Bridge.compare(a,b,!0)===-1?a:b})};Enumerable.prototype.nullableMin=function(selector){return this.any(Bridge.isNull)?null:this.min(selector)};Enumerable.prototype.maxBy=function(keySelector){return keySelector=Utils.createLambda(keySelector),this.aggregate(function(a,b){return Bridge.compare(keySelector(a),keySelector(b),!0)===1?a:b})};Enumerable.prototype.minBy=function(keySelector){return keySelector=Utils.createLambda(keySelector),this.aggregate(function(a,b){return Bridge.compare(keySelector(a),keySelector(b),!0)===-1?a:b})};Enumerable.prototype.sum=function(selector){return selector==null&&(selector=Functions.Identity),this.select(selector).aggregate(0,function(a,b){return a+b})};Enumerable.prototype.nullableSum=function(selector){return this.any(Bridge.isNull)?null:this.sum(selector)};Enumerable.prototype.elementAt=function(index){var value,found=!1;if(this.forEach(function(x,i){if(i==index)return value=x,found=!0,!1}),!found)throw new Error("index is less than 0 or greater than or equal to the number of elements in source.");return value};Enumerable.prototype.elementAtOrDefault=function(index,defaultValue){defaultValue===undefined&&(defaultValue=null);var value,found=!1;return this.forEach(function(x,i){if(i==index)return value=x,found=!0,!1}),found?value:defaultValue};Enumerable.prototype.first=function(predicate){if(predicate!=null)return this.where(predicate).first();var value,found=!1;if(this.forEach(function(x){return value=x,found=!0,!1}),!found)throw new Error("first:No element satisfies the condition.");return value};Enumerable.prototype.firstOrDefault=function(predicate,defaultValue){if(defaultValue===undefined&&(defaultValue=null),predicate!=null)return this.where(predicate).firstOrDefault(null,defaultValue);var value,found=!1;return this.forEach(function(x){return value=x,found=!0,!1}),found?value:defaultValue};Enumerable.prototype.last=function(predicate){if(predicate!=null)return this.where(predicate).last();var value,found=!1;if(this.forEach(function(x){found=!0;value=x}),!found)throw new Error("last:No element satisfies the condition.");return value};Enumerable.prototype.lastOrDefault=function(predicate,defaultValue){if(defaultValue===undefined&&(defaultValue=null),predicate!=null)return this.where(predicate).lastOrDefault(null,defaultValue);var value,found=!1;return this.forEach(function(x){found=!0;value=x}),found?value:defaultValue};Enumerable.prototype.single=function(predicate){if(predicate!=null)return this.where(predicate).single();var value,found=!1;if(this.forEach(function(x){if(found)throw new Error("single:sequence contains more than one element.");else found=!0,value=x}),!found)throw new Error("single:No element satisfies the condition.");return value};Enumerable.prototype.singleOrDefault=function(predicate,defaultValue){if(defaultValue===undefined&&(defaultValue=null),predicate!=null)return this.where(predicate).singleOrDefault(null,defaultValue);var value,found=!1;return this.forEach(function(x){if(found)throw new Error("single:sequence contains more than one element.");else found=!0,value=x}),found?value:defaultValue};Enumerable.prototype.skip=function(count){var source=this;return new Enumerable(function(){var enumerator,index=0;return new IEnumerator(function(){for(enumerator=source.getEnumerator();index++<count&&enumerator.moveNext(););},function(){return enumerator.moveNext()?this.yieldReturn(enumerator.getCurrent()):!1},function(){Utils.dispose(enumerator)})})};Enumerable.prototype.skipWhile=function(predicate){predicate=Utils.createLambda(predicate);var source=this;return new Enumerable(function(){var enumerator,index=0,isSkipEnd=!1;return new IEnumerator(function(){enumerator=source.getEnumerator()},function(){while(!isSkipEnd)if(enumerator.moveNext()){if(!predicate(enumerator.getCurrent(),index++))return isSkipEnd=!0,this.yieldReturn(enumerator.getCurrent());continue}else return!1;return enumerator.moveNext()?this.yieldReturn(enumerator.getCurrent()):!1},function(){Utils.dispose(enumerator)})})};Enumerable.prototype.take=function(count){var source=this;return new Enumerable(function(){var enumerator,index=0;return new IEnumerator(function(){enumerator=source.getEnumerator()},function(){return index++<count&&enumerator.moveNext()?this.yieldReturn(enumerator.getCurrent()):!1},function(){Utils.dispose(enumerator)})})};Enumerable.prototype.takeWhile=function(predicate){predicate=Utils.createLambda(predicate);var source=this;return new Enumerable(function(){var enumerator,index=0;return new IEnumerator(function(){enumerator=source.getEnumerator()},function(){return enumerator.moveNext()&&predicate(enumerator.getCurrent(),index++)?this.yieldReturn(enumerator.getCurrent()):!1},function(){Utils.dispose(enumerator)})})};Enumerable.prototype.takeExceptLast=function(count){count==null&&(count=1);var source=this;return new Enumerable(function(){if(count<=0)return source.getEnumerator();var enumerator,q=[];return new IEnumerator(function(){enumerator=source.getEnumerator()},function(){while(enumerator.moveNext()){if(q.length==count)return q.push(enumerator.getCurrent()),this.yieldReturn(q.shift());q.push(enumerator.getCurrent())}return!1},function(){Utils.dispose(enumerator)})})};Enumerable.prototype.takeFromLast=function(count){if(count<=0||count==null)return Enumerable.empty();var source=this;return new Enumerable(function(){var sourceEnumerator,enumerator,q=[];return new IEnumerator(function(){sourceEnumerator=source.getEnumerator()},function(){if(enumerator==null){while(sourceEnumerator.moveNext())q.length==count&&q.shift(),q.push(sourceEnumerator.getCurrent());enumerator=Enumerable.from(q).getEnumerator()}return enumerator.moveNext()?this.yieldReturn(enumerator.getCurrent()):!1},function(){Utils.dispose(enumerator)})})};Enumerable.prototype.indexOf=function(item,comparer){var found=null;return typeof item===Types.Function?this.forEach(function(x,i){if(item(x,i))return found=i,!1}):(comparer=comparer||Bridge.EqualityComparer$1.$default,this.forEach(function(x,i){if(comparer.equals(x,item))return found=i,!1})),found!==null?found:-1};Enumerable.prototype.lastIndexOf=function(item,comparer){var result=-1;return typeof item===Types.Function?this.forEach(function(x,i){item(x,i)&&(result=i)}):(comparer=comparer||Bridge.EqualityComparer$1.$default,this.forEach(function(x,i){comparer.equals(x,item)&&(result=i)})),result};Enumerable.prototype.asEnumerable=function(){return Enumerable.from(this)};Enumerable.prototype.toArray=function(){var array=[];return this.forEach(function(x){array.push(x)}),array};Enumerable.prototype.toList=function(T){var array=[];return this.forEach(function(x){array.push(x)}),new Bridge.List$1(T||Object)(array)};Enumerable.prototype.toLookup=function(keySelector,elementSelector,comparer){keySelector=Utils.createLambda(keySelector);elementSelector=Utils.createLambda(elementSelector);var dict=new Bridge.Dictionary$2(Object,Object)(null,comparer),order=[];return this.forEach(function(x){var key=keySelector(x),element=elementSelector(x),array={v:null};dict.tryGetValue(key,array)?array.v.push(element):(order.push(key),dict.add(key,[element]))}),new Lookup(dict,order)};Enumerable.prototype.toObject=function(keySelector,elementSelector){keySelector=Utils.createLambda(keySelector);elementSelector=Utils.createLambda(elementSelector);var obj={};return this.forEach(function(x){obj[keySelector(x)]=elementSelector(x)}),obj};Enumerable.prototype.toDictionary=function(keySelector,elementSelector,keyType,valueType,comparer){keySelector=Utils.createLambda(keySelector);elementSelector=Utils.createLambda(elementSelector);var dict=new Bridge.Dictionary$2(keyType,valueType)(null,comparer);return this.forEach(function(x){dict.add(keySelector(x),elementSelector(x))}),dict};Enumerable.prototype.toJSONString=function(replacer,space){if(typeof JSON===Types.Undefined||JSON.stringify==null)throw new Error("toJSONString can't find JSON.stringify. This works native JSON support Browser or include json2.js");return JSON.stringify(this.toArray(),replacer,space)};Enumerable.prototype.toJoinedString=function(separator,selector){return separator==null&&(separator=""),selector==null&&(selector=Functions.Identity),this.select(selector).toArray().join(separator)};Enumerable.prototype.doAction=function(action){var source=this;return action=Utils.createLambda(action),new Enumerable(function(){var enumerator,index=0;return new IEnumerator(function(){enumerator=source.getEnumerator()},function(){return enumerator.moveNext()?(action(enumerator.getCurrent(),index++),this.yieldReturn(enumerator.getCurrent())):!1},function(){Utils.dispose(enumerator)})})};Enumerable.prototype.forEach=function(action){action=Utils.createLambda(action);var index=0,enumerator=this.getEnumerator();try{while(enumerator.moveNext())if(action(enumerator.getCurrent(),index++)===!1)break}finally{Utils.dispose(enumerator)}};Enumerable.prototype.write=function(separator,selector){separator==null&&(separator="");selector=Utils.createLambda(selector);var isFirst=!0;this.forEach(function(item){isFirst?isFirst=!1:document.write(separator);document.write(selector(item))})};Enumerable.prototype.writeLine=function(selector){selector=Utils.createLambda(selector);this.forEach(function(item){document.writeln(selector(item)+"<br />")})};Enumerable.prototype.force=function(){var enumerator=this.getEnumerator();try{while(enumerator.moveNext());}finally{Utils.dispose(enumerator)}};Enumerable.prototype.letBind=function(func){func=Utils.createLambda(func);var source=this;return new Enumerable(function(){var enumerator;return new IEnumerator(function(){enumerator=Enumerable.from(func(source)).getEnumerator()},function(){return enumerator.moveNext()?this.yieldReturn(enumerator.getCurrent()):!1},function(){Utils.dispose(enumerator)})})};Enumerable.prototype.share=function(){var source=this,sharedEnumerator,disposed=!1;return new DisposableEnumerable(function(){return new IEnumerator(function(){sharedEnumerator==null&&(sharedEnumerator=source.getEnumerator())},function(){if(disposed)throw new Error("enumerator is disposed");return sharedEnumerator.moveNext()?this.yieldReturn(sharedEnumerator.getCurrent()):!1},Functions.Blank)},function(){disposed=!0;Utils.dispose(sharedEnumerator)})};Enumerable.prototype.memoize=function(){var source=this,cache,enumerator,disposed=!1;return new DisposableEnumerable(function(){var index=-1;return new IEnumerator(function(){enumerator==null&&(enumerator=source.getEnumerator(),cache=[])},function(){if(disposed)throw new Error("enumerator is disposed");return(index++,cache.length<=index)?enumerator.moveNext()?this.yieldReturn(cache[index]=enumerator.getCurrent()):!1:this.yieldReturn(cache[index])},Functions.Blank)},function(){disposed=!0;Utils.dispose(enumerator);cache=null})};Enumerable.prototype.catchError=function(handler){handler=Utils.createLambda(handler);var source=this;return new Enumerable(function(){var enumerator;return new IEnumerator(function(){enumerator=source.getEnumerator()},function(){try{return enumerator.moveNext()?this.yieldReturn(enumerator.getCurrent()):!1}catch(e){return handler(e),!1}},function(){Utils.dispose(enumerator)})})};Enumerable.prototype.finallyAction=function(finallyAction){finallyAction=Utils.createLambda(finallyAction);var source=this;return new Enumerable(function(){var enumerator;return new IEnumerator(function(){enumerator=source.getEnumerator()},function(){return enumerator.moveNext()?this.yieldReturn(enumerator.getCurrent()):!1},function(){try{Utils.dispose(enumerator)}finally{finallyAction()}})})};Enumerable.prototype.log=function(selector){return selector=Utils.createLambda(selector),this.doAction(function(item){typeof console!==Types.Undefined&&console.log(selector(item))})};Enumerable.prototype.trace=function(message,selector){return message==null&&(message="Trace"),selector=Utils.createLambda(selector),this.doAction(function(item){typeof console!==Types.Undefined&&console.log(message,selector(item))})};OrderedEnumerable=function(source,keySelector,comparer,descending,parent){this.source=source;this.keySelector=Utils.createLambda(keySelector);this.comparer=comparer||Bridge.Comparer$1.$default;this.descending=descending;this.parent=parent};OrderedEnumerable.prototype=new Enumerable;OrderedEnumerable.prototype.createOrderedEnumerable=function(keySelector,comparer,descending){return new OrderedEnumerable(this.source,keySelector,comparer,descending,this)};OrderedEnumerable.prototype.thenBy=function(keySelector,comparer){return this.createOrderedEnumerable(keySelector,comparer,!1)};OrderedEnumerable.prototype.thenByDescending=function(keySelector,comparer){return this.createOrderedEnumerable(keySelector,comparer,!0)};OrderedEnumerable.prototype.getEnumerator=function(){var self=this,buffer,indexes,index=0;return new IEnumerator(function(){buffer=[];indexes=[];self.source.forEach(function(item,index){buffer.push(item);indexes.push(index)});var sortContext=SortContext.create(self,null);sortContext.GenerateKeys(buffer);indexes.sort(function(a,b){return sortContext.compare(a,b)})},function(){return index<indexes.length?this.yieldReturn(buffer[indexes[index++]]):!1},Functions.Blank)};SortContext=function(keySelector,comparer,descending,child){this.keySelector=keySelector;this.comparer=comparer;this.descending=descending;this.child=child;this.keys=null};SortContext.create=function(orderedEnumerable,currentContext){var context=new SortContext(orderedEnumerable.keySelector,orderedEnumerable.comparer,orderedEnumerable.descending,currentContext);return orderedEnumerable.parent!=null?SortContext.create(orderedEnumerable.parent,context):context};SortContext.prototype.GenerateKeys=function(source){for(var len=source.length,keySelector=this.keySelector,keys=new Array(len),i=0;i<len;i++)keys[i]=keySelector(source[i]);this.keys=keys;this.child!=null&&this.child.GenerateKeys(source)};SortContext.prototype.compare=function(index1,index2){var comparison=this.comparer.compare(this.keys[index1],this.keys[index2]);return comparison==0?this.child!=null?this.child.compare(index1,index2):Utils.compare(index1,index2):this.descending?-comparison:comparison};DisposableEnumerable=function(getEnumerator,dispose){this.dispose=dispose;Enumerable.call(this,getEnumerator)};DisposableEnumerable.prototype=new Enumerable;ArrayEnumerable=function(source){this.getSource=function(){return source}};ArrayEnumerable.prototype=new Enumerable;ArrayEnumerable.prototype.any=function(predicate){return predicate==null?this.getSource().length>0:Enumerable.prototype.any.apply(this,arguments)};ArrayEnumerable.prototype.count=function(predicate){return predicate==null?this.getSource().length:Enumerable.prototype.count.apply(this,arguments)};ArrayEnumerable.prototype.elementAt=function(index){var source=this.getSource();return 0<=index&&index<source.length?source[index]:Enumerable.prototype.elementAt.apply(this,arguments)};ArrayEnumerable.prototype.elementAtOrDefault=function(index,defaultValue){defaultValue===undefined&&(defaultValue=null);var source=this.getSource();return 0<=index&&index<source.length?source[index]:defaultValue};ArrayEnumerable.prototype.first=function(predicate){var source=this.getSource();return predicate==null&&source.length>0?source[0]:Enumerable.prototype.first.apply(this,arguments)};ArrayEnumerable.prototype.firstOrDefault=function(predicate,defaultValue){if(defaultValue===undefined&&(defaultValue=null),predicate!=null)return Enumerable.prototype.firstOrDefault.apply(this,arguments);var source=this.getSource();return source.length>0?source[0]:defaultValue};ArrayEnumerable.prototype.last=function(predicate){var source=this.getSource();return predicate==null&&source.length>0?source[source.length-1]:Enumerable.prototype.last.apply(this,arguments)};ArrayEnumerable.prototype.lastOrDefault=function(predicate,defaultValue){if(defaultValue===undefined&&(defaultValue=null),predicate!=null)return Enumerable.prototype.lastOrDefault.apply(this,arguments);var source=this.getSource();return source.length>0?source[source.length-1]:defaultValue};ArrayEnumerable.prototype.skip=function(count){var source=this.getSource();return new Enumerable(function(){var index;return new IEnumerator(function(){index=count<0?0:count},function(){return index<source.length?this.yieldReturn(source[index++]):!1},Functions.Blank)})};ArrayEnumerable.prototype.takeExceptLast=function(count){return count==null&&(count=1),this.take(this.getSource().length-count)};ArrayEnumerable.prototype.takeFromLast=function(count){return this.skip(this.getSource().length-count)};ArrayEnumerable.prototype.reverse=function(){var source=this.getSource();return new Enumerable(function(){var index;return new IEnumerator(function(){index=source.length},function(){return index>0?this.yieldReturn(source[--index]):!1},Functions.Blank)})};ArrayEnumerable.prototype.sequenceEqual=function(second,comparer){return(second instanceof ArrayEnumerable||second instanceof Array)&&comparer==null&&Enumerable.from(second).count()!=this.count()?!1:Enumerable.prototype.sequenceEqual.apply(this,arguments)};ArrayEnumerable.prototype.toJoinedString=function(separator,selector){var source=this.getSource();return selector!=null||!(source instanceof Array)?Enumerable.prototype.toJoinedString.apply(this,arguments):(separator==null&&(separator=""),source.join(separator))};ArrayEnumerable.prototype.getEnumerator=function(){return new Bridge.ArrayEnumerator(this.getSource())};WhereEnumerable=function(source,predicate){this.prevSource=source;this.prevPredicate=predicate};WhereEnumerable.prototype=new Enumerable;WhereEnumerable.prototype.where=function(predicate){if(predicate=Utils.createLambda(predicate),predicate.length<=1){var prevPredicate=this.prevPredicate,composedPredicate=function(x){return prevPredicate(x)&&predicate(x)};return new WhereEnumerable(this.prevSource,composedPredicate)}return Enumerable.prototype.where.call(this,predicate)};WhereEnumerable.prototype.select=function(selector){return selector=Utils.createLambda(selector),selector.length<=1?new WhereSelectEnumerable(this.prevSource,this.prevPredicate,selector):Enumerable.prototype.select.call(this,selector)};WhereEnumerable.prototype.getEnumerator=function(){var predicate=this.prevPredicate,source=this.prevSource,enumerator;return new IEnumerator(function(){enumerator=source.getEnumerator()},function(){while(enumerator.moveNext())if(predicate(enumerator.getCurrent()))return this.yieldReturn(enumerator.getCurrent());return!1},function(){Utils.dispose(enumerator)})};WhereSelectEnumerable=function(source,predicate,selector){this.prevSource=source;this.prevPredicate=predicate;this.prevSelector=selector};WhereSelectEnumerable.prototype=new Enumerable;WhereSelectEnumerable.prototype.where=function(predicate){return predicate=Utils.createLambda(predicate),predicate.length<=1?new WhereEnumerable(this,predicate):Enumerable.prototype.where.call(this,predicate)};WhereSelectEnumerable.prototype.select=function(selector){if(selector=Utils.createLambda(selector),selector.length<=1){var prevSelector=this.prevSelector,composedSelector=function(x){return selector(prevSelector(x))};return new WhereSelectEnumerable(this.prevSource,this.prevPredicate,composedSelector)}return Enumerable.prototype.select.call(this,selector)};WhereSelectEnumerable.prototype.getEnumerator=function(){var predicate=this.prevPredicate,selector=this.prevSelector,source=this.prevSource,enumerator;return new IEnumerator(function(){enumerator=source.getEnumerator()},function(){while(enumerator.moveNext())if(predicate==null||predicate(enumerator.getCurrent()))return this.yieldReturn(selector(enumerator.getCurrent()));return!1},function(){Utils.dispose(enumerator)})};Lookup=function(dictionary,order){this.count=function(){return dictionary.getCount()};this.get=function(key){var value={v:null},success=dictionary.tryGetValue(key,value);return Enumerable.from(success?value.v:[])};this.contains=function(key){return dictionary.containsKey(key)};this.toEnumerable=function(){return Enumerable.from(order).select(function(key){return new Grouping(key,dictionary.get(key))})};this.getEnumerator=function(){return this.toEnumerable().getEnumerator()}};Lookup.$$inheritors=[Bridge.IEnumerable];Grouping=function(groupKey,elements){this.key=function(){return groupKey};ArrayEnumerable.call(this,elements)};Grouping.prototype=new ArrayEnumerable;typeof define===Types.Function&&define.amd?define("linqjs",[],function(){return Enumerable}):typeof module!==Types.Undefined&&module.exports?module.exports=Enumerable:root.Enumerable=Enumerable;Bridge.Linq={};Bridge.Linq.Enumerable=Enumerable}(Bridge.global);typeof define=="function"&&define.amd?define("bridge",[],function(){return Bridge}):typeof module!="undefined"&&module.exports&&(module.exports=Bridge)})(this);